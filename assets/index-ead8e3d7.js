function gU(n,r){for(var o=0;o<r.length;o++){const s=r[o];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in n)){const u=Object.getOwnPropertyDescriptor(s,a);u&&Object.defineProperty(n,a,u.get?u:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function o(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=o(a);fetch(a.href,u)}})();var mU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof{}<"u"?{}:typeof self<"u"?self:{};function Ha(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function E0(n){if(n.__esModule)return n;var r=n.default;if(typeof r=="function"){var o=function s(){if(this instanceof s){var a=[null];a.push.apply(a,arguments);var u=Function.bind.apply(r,a);return new u}return r.apply(this,arguments)};o.prototype=r.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var a=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(o,s,a.get?a:{enumerable:!0,get:function(){return n[s]}})}),o}var iM={exports:{}},Lg={},sM={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd=Symbol.for("react.element"),kU=Symbol.for("react.portal"),bU=Symbol.for("react.fragment"),wU=Symbol.for("react.strict_mode"),vU=Symbol.for("react.profiler"),yU=Symbol.for("react.provider"),_U=Symbol.for("react.context"),CU=Symbol.for("react.forward_ref"),AU=Symbol.for("react.suspense"),xU=Symbol.for("react.memo"),EU=Symbol.for("react.lazy"),h2=Symbol.iterator;function SU(n){return n===null||typeof n!="object"?null:(n=h2&&n[h2]||n["@@iterator"],typeof n=="function"?n:null)}var aM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cM=Object.assign,lM={};function Il(n,r,o){this.props=n,this.context=r,this.refs=lM,this.updater=o||aM}Il.prototype.isReactComponent={};Il.prototype.setState=function(n,r){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,r,"setState")};Il.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function uM(){}uM.prototype=Il.prototype;function S0(n,r,o){this.props=n,this.context=r,this.refs=lM,this.updater=o||aM}var D0=S0.prototype=new uM;D0.constructor=S0;cM(D0,Il.prototype);D0.isPureReactComponent=!0;var p2=Array.isArray,dM=Object.prototype.hasOwnProperty,T0={current:null},hM={key:!0,ref:!0,__self:!0,__source:!0};function pM(n,r,o){var s,a={},u=null,h=null;if(r!=null)for(s in r.ref!==void 0&&(h=r.ref),r.key!==void 0&&(u=""+r.key),r)dM.call(r,s)&&!hM.hasOwnProperty(s)&&(a[s]=r[s]);var f=arguments.length-2;if(f===1)a.children=o;else if(1<f){for(var m=Array(f),k=0;k<f;k++)m[k]=arguments[k+2];a.children=m}if(n&&n.defaultProps)for(s in f=n.defaultProps,f)a[s]===void 0&&(a[s]=f[s]);return{$$typeof:qd,type:n,key:u,ref:h,props:a,_owner:T0.current}}function DU(n,r){return{$$typeof:qd,type:n.type,key:r,ref:n.ref,props:n.props,_owner:n._owner}}function I0(n){return typeof n=="object"&&n!==null&&n.$$typeof===qd}function TU(n){var r={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(o){return r[o]})}var f2=/\/+/g;function Gb(n,r){return typeof n=="object"&&n!==null&&n.key!=null?TU(""+n.key):r.toString(36)}function kf(n,r,o,s,a){var u=typeof n;(u==="undefined"||u==="boolean")&&(n=null);var h=!1;if(n===null)h=!0;else switch(u){case"string":case"number":h=!0;break;case"object":switch(n.$$typeof){case qd:case kU:h=!0}}if(h)return h=n,a=a(h),n=s===""?"."+Gb(h,0):s,p2(a)?(o="",n!=null&&(o=n.replace(f2,"$&/")+"/"),kf(a,r,o,"",function(k){return k})):a!=null&&(I0(a)&&(a=DU(a,o+(!a.key||h&&h.key===a.key?"":(""+a.key).replace(f2,"$&/")+"/")+n)),r.push(a)),1;if(h=0,s=s===""?".":s+":",p2(n))for(var f=0;f<n.length;f++){u=n[f];var m=s+Gb(u,f);h+=kf(u,r,o,m,a)}else if(m=SU(n),typeof m=="function")for(n=m.call(n),f=0;!(u=n.next()).done;)u=u.value,m=s+Gb(u,f++),h+=kf(u,r,o,m,a);else if(u==="object")throw r=String(n),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return h}function Fp(n,r,o){if(n==null)return n;var s=[],a=0;return kf(n,s,"","",function(u){return r.call(o,u,a++)}),s}function IU(n){if(n._status===-1){var r=n._result;r=r(),r.then(function(o){(n._status===0||n._status===-1)&&(n._status=1,n._result=o)},function(o){(n._status===0||n._status===-1)&&(n._status=2,n._result=o)}),n._status===-1&&(n._status=0,n._result=r)}if(n._status===1)return n._result.default;throw n._result}var cr={current:null},bf={transition:null},MU={ReactCurrentDispatcher:cr,ReactCurrentBatchConfig:bf,ReactCurrentOwner:T0};st.Children={map:Fp,forEach:function(n,r,o){Fp(n,function(){r.apply(this,arguments)},o)},count:function(n){var r=0;return Fp(n,function(){r++}),r},toArray:function(n){return Fp(n,function(r){return r})||[]},only:function(n){if(!I0(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};st.Component=Il;st.Fragment=bU;st.Profiler=vU;st.PureComponent=S0;st.StrictMode=wU;st.Suspense=AU;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MU;st.cloneElement=function(n,r,o){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var s=cM({},n.props),a=n.key,u=n.ref,h=n._owner;if(r!=null){if(r.ref!==void 0&&(u=r.ref,h=T0.current),r.key!==void 0&&(a=""+r.key),n.type&&n.type.defaultProps)var f=n.type.defaultProps;for(m in r)dM.call(r,m)&&!hM.hasOwnProperty(m)&&(s[m]=r[m]===void 0&&f!==void 0?f[m]:r[m])}var m=arguments.length-2;if(m===1)s.children=o;else if(1<m){f=Array(m);for(var k=0;k<m;k++)f[k]=arguments[k+2];s.children=f}return{$$typeof:qd,type:n.type,key:a,ref:u,props:s,_owner:h}};st.createContext=function(n){return n={$$typeof:_U,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:yU,_context:n},n.Consumer=n};st.createElement=pM;st.createFactory=function(n){var r=pM.bind(null,n);return r.type=n,r};st.createRef=function(){return{current:null}};st.forwardRef=function(n){return{$$typeof:CU,render:n}};st.isValidElement=I0;st.lazy=function(n){return{$$typeof:EU,_payload:{_status:-1,_result:n},_init:IU}};st.memo=function(n,r){return{$$typeof:xU,type:n,compare:r===void 0?null:r}};st.startTransition=function(n){var r=bf.transition;bf.transition={};try{n()}finally{bf.transition=r}};st.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};st.useCallback=function(n,r){return cr.current.useCallback(n,r)};st.useContext=function(n){return cr.current.useContext(n)};st.useDebugValue=function(){};st.useDeferredValue=function(n){return cr.current.useDeferredValue(n)};st.useEffect=function(n,r){return cr.current.useEffect(n,r)};st.useId=function(){return cr.current.useId()};st.useImperativeHandle=function(n,r,o){return cr.current.useImperativeHandle(n,r,o)};st.useInsertionEffect=function(n,r){return cr.current.useInsertionEffect(n,r)};st.useLayoutEffect=function(n,r){return cr.current.useLayoutEffect(n,r)};st.useMemo=function(n,r){return cr.current.useMemo(n,r)};st.useReducer=function(n,r,o){return cr.current.useReducer(n,r,o)};st.useRef=function(n){return cr.current.useRef(n)};st.useState=function(n){return cr.current.useState(n)};st.useSyncExternalStore=function(n,r,o){return cr.current.useSyncExternalStore(n,r,o)};st.useTransition=function(){return cr.current.useTransition()};st.version="18.2.0";sM.exports=st;var ee=sM.exports;const re=Ha(ee),PU=gU({__proto__:null,default:re},[ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NU=ee,OU=Symbol.for("react.element"),BU=Symbol.for("react.fragment"),RU=Object.prototype.hasOwnProperty,LU=NU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jU={key:!0,ref:!0,__self:!0,__source:!0};function fM(n,r,o){var s,a={},u=null,h=null;o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),r.ref!==void 0&&(h=r.ref);for(s in r)RU.call(r,s)&&!jU.hasOwnProperty(s)&&(a[s]=r[s]);if(n&&n.defaultProps)for(s in r=n.defaultProps,r)a[s]===void 0&&(a[s]=r[s]);return{$$typeof:OU,type:n,key:u,ref:h,props:a,_owner:LU.current}}Lg.Fragment=BU;Lg.jsx=fM;Lg.jsxs=fM;iM.exports=Lg;var he=iM.exports,$w={},gM={exports:{}},zr={},mM={exports:{}},kM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function r(ke,ge){var le=ke.length;ke.push(ge);e:for(;0<le;){var fe=le-1>>>1,we=ke[fe];if(0<a(we,ge))ke[fe]=ge,ke[le]=we,le=fe;else break e}}function o(ke){return ke.length===0?null:ke[0]}function s(ke){if(ke.length===0)return null;var ge=ke[0],le=ke.pop();if(le!==ge){ke[0]=le;e:for(var fe=0,we=ke.length,Fe=we>>>1;fe<Fe;){var Le=2*(fe+1)-1,Ze=ke[Le],Ye=Le+1,Ne=ke[Ye];if(0>a(Ze,le))Ye<we&&0>a(Ne,Ze)?(ke[fe]=Ne,ke[Ye]=le,fe=Ye):(ke[fe]=Ze,ke[Le]=le,fe=Le);else if(Ye<we&&0>a(Ne,le))ke[fe]=Ne,ke[Ye]=le,fe=Ye;else break e}}return ge}function a(ke,ge){var le=ke.sortIndex-ge.sortIndex;return le!==0?le:ke.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var m=[],k=[],v=1,_=null,C=3,x=!1,S=!1,T=!1,B=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(ke){for(var ge=o(k);ge!==null;){if(ge.callback===null)s(k);else if(ge.startTime<=ke)s(k),ge.sortIndex=ge.expirationTime,r(m,ge);else break;ge=o(k)}}function V(ke){if(T=!1,L(ke),!S)if(o(m)!==null)S=!0,Re(K);else{var ge=o(k);ge!==null&&He(V,ge.startTime-ke)}}function K(ke,ge){S=!1,T&&(T=!1,N(z),z=-1),x=!0;var le=C;try{for(L(ge),_=o(m);_!==null&&(!(_.expirationTime>ge)||ke&&!Ce());){var fe=_.callback;if(typeof fe=="function"){_.callback=null,C=_.priorityLevel;var we=fe(_.expirationTime<=ge);ge=n.unstable_now(),typeof we=="function"?_.callback=we:_===o(m)&&s(m),L(ge)}else s(m);_=o(m)}if(_!==null)var Fe=!0;else{var Le=o(k);Le!==null&&He(V,Le.startTime-ge),Fe=!1}return Fe}finally{_=null,C=le,x=!1}}var Z=!1,Q=null,z=-1,te=5,ae=-1;function Ce(){return!(n.unstable_now()-ae<te)}function Me(){if(Q!==null){var ke=n.unstable_now();ae=ke;var ge=!0;try{ge=Q(!0,ke)}finally{ge?Ae():(Z=!1,Q=null)}}else Z=!1}var Ae;if(typeof I=="function")Ae=function(){I(Me)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,Pe=et.port2;et.port1.onmessage=Me,Ae=function(){Pe.postMessage(null)}}else Ae=function(){B(Me,0)};function Re(ke){Q=ke,Z||(Z=!0,Ae())}function He(ke,ge){z=B(function(){ke(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ke){ke.callback=null},n.unstable_continueExecution=function(){S||x||(S=!0,Re(K))},n.unstable_forceFrameRate=function(ke){0>ke||125<ke?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<ke?Math.floor(1e3/ke):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_getFirstCallbackNode=function(){return o(m)},n.unstable_next=function(ke){switch(C){case 1:case 2:case 3:var ge=3;break;default:ge=C}var le=C;C=ge;try{return ke()}finally{C=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ke,ge){switch(ke){case 1:case 2:case 3:case 4:case 5:break;default:ke=3}var le=C;C=ke;try{return ge()}finally{C=le}},n.unstable_scheduleCallback=function(ke,ge,le){var fe=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?fe+le:fe):le=fe,ke){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=le+we,ke={id:v++,callback:ge,priorityLevel:ke,startTime:le,expirationTime:we,sortIndex:-1},le>fe?(ke.sortIndex=le,r(k,ke),o(m)===null&&ke===o(k)&&(T?(N(z),z=-1):T=!0,He(V,le-fe))):(ke.sortIndex=we,r(m,ke),S||x||(S=!0,Re(K))),ke},n.unstable_shouldYield=Ce,n.unstable_wrapCallback=function(ke){var ge=C;return function(){var le=C;C=ge;try{return ke.apply(this,arguments)}finally{C=le}}}})(kM);mM.exports=kM;var zU=mM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bM=ee,Lr=zU;function me(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wM=new Set,vd={};function Wa(n,r){ml(n,r),ml(n+"Capture",r)}function ml(n,r){for(vd[n]=r,n=0;n<r.length;n++)wM.add(r[n])}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yw=Object.prototype.hasOwnProperty,FU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g2={},m2={};function UU(n){return Yw.call(m2,n)?!0:Yw.call(g2,n)?!1:FU.test(n)?m2[n]=!0:(g2[n]=!0,!1)}function VU(n,r,o,s){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return s?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function HU(n,r,o,s){if(r===null||typeof r>"u"||VU(n,r,o,s))return!0;if(s)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function lr(n,r,o,s,a,u,h){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=o,this.propertyName=n,this.type=r,this.sanitizeURL=u,this.removeEmptyString=h}var $n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){$n[n]=new lr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];$n[r]=new lr(r,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){$n[n]=new lr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){$n[n]=new lr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){$n[n]=new lr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){$n[n]=new lr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){$n[n]=new lr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){$n[n]=new lr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){$n[n]=new lr(n,5,!1,n.toLowerCase(),null,!1,!1)});var M0=/[\-:]([a-z])/g;function P0(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(M0,P0);$n[r]=new lr(r,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(M0,P0);$n[r]=new lr(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(M0,P0);$n[r]=new lr(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){$n[n]=new lr(n,1,!1,n.toLowerCase(),null,!1,!1)});$n.xlinkHref=new lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){$n[n]=new lr(n,1,!1,n.toLowerCase(),null,!0,!0)});function N0(n,r,o,s){var a=$n.hasOwnProperty(r)?$n[r]:null;(a!==null?a.type!==0:s||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(HU(r,o,a,s)&&(o=null),s||a===null?UU(r)&&(o===null?n.removeAttribute(r):n.setAttribute(r,""+o)):a.mustUseProperty?n[a.propertyName]=o===null?a.type===3?!1:"":o:(r=a.attributeName,s=a.attributeNamespace,o===null?n.removeAttribute(r):(a=a.type,o=a===3||a===4&&o===!0?"":""+o,s?n.setAttributeNS(s,r,o):n.setAttribute(r,o))))}var Vi=bM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Up=Symbol.for("react.element"),Gc=Symbol.for("react.portal"),Qc=Symbol.for("react.fragment"),O0=Symbol.for("react.strict_mode"),qw=Symbol.for("react.profiler"),vM=Symbol.for("react.provider"),yM=Symbol.for("react.context"),B0=Symbol.for("react.forward_ref"),Kw=Symbol.for("react.suspense"),Gw=Symbol.for("react.suspense_list"),R0=Symbol.for("react.memo"),gs=Symbol.for("react.lazy"),_M=Symbol.for("react.offscreen"),k2=Symbol.iterator;function Lu(n){return n===null||typeof n!="object"?null:(n=k2&&n[k2]||n["@@iterator"],typeof n=="function"?n:null)}var en=Object.assign,Qb;function Ju(n){if(Qb===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Qb=r&&r[1]||""}return`
`+Qb+n}var Zb=!1;function Jb(n,r){if(!n||Zb)return"";Zb=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(k){var s=k}Reflect.construct(n,[],r)}else{try{r.call()}catch(k){s=k}n.call(r.prototype)}else{try{throw Error()}catch(k){s=k}n()}}catch(k){if(k&&s&&typeof k.stack=="string"){for(var a=k.stack.split(`
`),u=s.stack.split(`
`),h=a.length-1,f=u.length-1;1<=h&&0<=f&&a[h]!==u[f];)f--;for(;1<=h&&0<=f;h--,f--)if(a[h]!==u[f]){if(h!==1||f!==1)do if(h--,f--,0>f||a[h]!==u[f]){var m=`
`+a[h].replace(" at new "," at ");return n.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",n.displayName)),m}while(1<=h&&0<=f);break}}}finally{Zb=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?Ju(n):""}function WU(n){switch(n.tag){case 5:return Ju(n.type);case 16:return Ju("Lazy");case 13:return Ju("Suspense");case 19:return Ju("SuspenseList");case 0:case 2:case 15:return n=Jb(n.type,!1),n;case 11:return n=Jb(n.type.render,!1),n;case 1:return n=Jb(n.type,!0),n;default:return""}}function Qw(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Qc:return"Fragment";case Gc:return"Portal";case qw:return"Profiler";case O0:return"StrictMode";case Kw:return"Suspense";case Gw:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case yM:return(n.displayName||"Context")+".Consumer";case vM:return(n._context.displayName||"Context")+".Provider";case B0:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R0:return r=n.displayName||null,r!==null?r:Qw(n.type)||"Memo";case gs:r=n._payload,n=n._init;try{return Qw(n(r))}catch{}}return null}function $U(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qw(r);case 8:return r===O0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Us(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function CM(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function YU(n){var r=CM(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),s=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var a=o.get,u=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return a.call(this)},set:function(h){s=""+h,u.call(this,h)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Vp(n){n._valueTracker||(n._valueTracker=YU(n))}function AM(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),s="";return n&&(s=CM(n)?n.checked?"true":"false":n.value),n=s,n!==o?(r.setValue(n),!0):!1}function jf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Zw(n,r){var o=r.checked;return en({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function b2(n,r){var o=r.defaultValue==null?"":r.defaultValue,s=r.checked!=null?r.checked:r.defaultChecked;o=Us(r.value!=null?r.value:o),n._wrapperState={initialChecked:s,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function xM(n,r){r=r.checked,r!=null&&N0(n,"checked",r,!1)}function Jw(n,r){xM(n,r);var o=Us(r.value),s=r.type;if(o!=null)s==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(s==="submit"||s==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?Xw(n,r.type,o):r.hasOwnProperty("defaultValue")&&Xw(n,r.type,Us(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function w2(n,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var s=r.type;if(!(s!=="submit"&&s!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,o||r===n.value||(n.value=r),n.defaultValue=r}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function Xw(n,r,o){(r!=="number"||jf(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var Xu=Array.isArray;function ll(n,r,o,s){if(n=n.options,r){r={};for(var a=0;a<o.length;a++)r["$"+o[a]]=!0;for(o=0;o<n.length;o++)a=r.hasOwnProperty("$"+n[o].value),n[o].selected!==a&&(n[o].selected=a),a&&s&&(n[o].defaultSelected=!0)}else{for(o=""+Us(o),r=null,a=0;a<n.length;a++){if(n[a].value===o){n[a].selected=!0,s&&(n[a].defaultSelected=!0);return}r!==null||n[a].disabled||(r=n[a])}r!==null&&(r.selected=!0)}}function ev(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(me(91));return en({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function v2(n,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(me(92));if(Xu(o)){if(1<o.length)throw Error(me(93));o=o[0]}r=o}r==null&&(r=""),o=r}n._wrapperState={initialValue:Us(o)}}function EM(n,r){var o=Us(r.value),s=Us(r.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),r.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),s!=null&&(n.defaultValue=""+s)}function y2(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function SM(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tv(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?SM(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Hp,DM=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,s,a){MSApp.execUnsafeLocalFunction(function(){return n(r,o,s,a)})}:n}(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(Hp=Hp||document.createElement("div"),Hp.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Hp.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function yd(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var od={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qU=["Webkit","ms","Moz","O"];Object.keys(od).forEach(function(n){qU.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),od[r]=od[n]})});function TM(n,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||od.hasOwnProperty(n)&&od[n]?(""+r).trim():r+"px"}function IM(n,r){n=n.style;for(var o in r)if(r.hasOwnProperty(o)){var s=o.indexOf("--")===0,a=TM(o,r[o],s);o==="float"&&(o="cssFloat"),s?n.setProperty(o,a):n[o]=a}}var KU=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nv(n,r){if(r){if(KU[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(me(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(me(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(me(61))}if(r.style!=null&&typeof r.style!="object")throw Error(me(62))}}function rv(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ov=null;function L0(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var iv=null,ul=null,dl=null;function _2(n){if(n=Qd(n)){if(typeof iv!="function")throw Error(me(280));var r=n.stateNode;r&&(r=Vg(r),iv(n.stateNode,n.type,r))}}function MM(n){ul?dl?dl.push(n):dl=[n]:ul=n}function PM(){if(ul){var n=ul,r=dl;if(dl=ul=null,_2(n),r)for(n=0;n<r.length;n++)_2(r[n])}}function NM(n,r){return n(r)}function OM(){}var Xb=!1;function BM(n,r,o){if(Xb)return n(r,o);Xb=!0;try{return NM(n,r,o)}finally{Xb=!1,(ul!==null||dl!==null)&&(OM(),PM())}}function _d(n,r){var o=n.stateNode;if(o===null)return null;var s=Vg(o);if(s===null)return null;o=s[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(me(231,r,typeof o));return o}var sv=!1;if(Bi)try{var ju={};Object.defineProperty(ju,"passive",{get:function(){sv=!0}}),window.addEventListener("test",ju,ju),window.removeEventListener("test",ju,ju)}catch{sv=!1}function GU(n,r,o,s,a,u,h,f,m){var k=Array.prototype.slice.call(arguments,3);try{r.apply(o,k)}catch(v){this.onError(v)}}var id=!1,zf=null,Ff=!1,av=null,QU={onError:function(n){id=!0,zf=n}};function ZU(n,r,o,s,a,u,h,f,m){id=!1,zf=null,GU.apply(QU,arguments)}function JU(n,r,o,s,a,u,h,f,m){if(ZU.apply(this,arguments),id){if(id){var k=zf;id=!1,zf=null}else throw Error(me(198));Ff||(Ff=!0,av=k)}}function $a(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,r.flags&4098&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function RM(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function C2(n){if($a(n)!==n)throw Error(me(188))}function XU(n){var r=n.alternate;if(!r){if(r=$a(n),r===null)throw Error(me(188));return r!==n?null:n}for(var o=n,s=r;;){var a=o.return;if(a===null)break;var u=a.alternate;if(u===null){if(s=a.return,s!==null){o=s;continue}break}if(a.child===u.child){for(u=a.child;u;){if(u===o)return C2(a),n;if(u===s)return C2(a),r;u=u.sibling}throw Error(me(188))}if(o.return!==s.return)o=a,s=u;else{for(var h=!1,f=a.child;f;){if(f===o){h=!0,o=a,s=u;break}if(f===s){h=!0,s=a,o=u;break}f=f.sibling}if(!h){for(f=u.child;f;){if(f===o){h=!0,o=u,s=a;break}if(f===s){h=!0,s=u,o=a;break}f=f.sibling}if(!h)throw Error(me(189))}}if(o.alternate!==s)throw Error(me(190))}if(o.tag!==3)throw Error(me(188));return o.stateNode.current===o?n:r}function LM(n){return n=XU(n),n!==null?jM(n):null}function jM(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=jM(n);if(r!==null)return r;n=n.sibling}return null}var zM=Lr.unstable_scheduleCallback,A2=Lr.unstable_cancelCallback,e7=Lr.unstable_shouldYield,t7=Lr.unstable_requestPaint,hn=Lr.unstable_now,n7=Lr.unstable_getCurrentPriorityLevel,j0=Lr.unstable_ImmediatePriority,FM=Lr.unstable_UserBlockingPriority,Uf=Lr.unstable_NormalPriority,r7=Lr.unstable_LowPriority,UM=Lr.unstable_IdlePriority,jg=null,ii=null;function o7(n){if(ii&&typeof ii.onCommitFiberRoot=="function")try{ii.onCommitFiberRoot(jg,n,void 0,(n.current.flags&128)===128)}catch{}}var Eo=Math.clz32?Math.clz32:a7,i7=Math.log,s7=Math.LN2;function a7(n){return n>>>=0,n===0?32:31-(i7(n)/s7|0)|0}var Wp=64,$p=4194304;function ed(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Vf(n,r){var o=n.pendingLanes;if(o===0)return 0;var s=0,a=n.suspendedLanes,u=n.pingedLanes,h=o&268435455;if(h!==0){var f=h&~a;f!==0?s=ed(f):(u&=h,u!==0&&(s=ed(u)))}else h=o&~a,h!==0?s=ed(h):u!==0&&(s=ed(u));if(s===0)return 0;if(r!==0&&r!==s&&!(r&a)&&(a=s&-s,u=r&-r,a>=u||a===16&&(u&4194240)!==0))return r;if(s&4&&(s|=o&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=s;0<r;)o=31-Eo(r),a=1<<o,s|=n[o],r&=~a;return s}function c7(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l7(n,r){for(var o=n.suspendedLanes,s=n.pingedLanes,a=n.expirationTimes,u=n.pendingLanes;0<u;){var h=31-Eo(u),f=1<<h,m=a[h];m===-1?(!(f&o)||f&s)&&(a[h]=c7(f,r)):m<=r&&(n.expiredLanes|=f),u&=~f}}function cv(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function VM(){var n=Wp;return Wp<<=1,!(Wp&4194240)&&(Wp=64),n}function ew(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Kd(n,r,o){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-Eo(r),n[r]=o}function u7(n,r){var o=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var s=n.eventTimes;for(n=n.expirationTimes;0<o;){var a=31-Eo(o),u=1<<a;r[a]=0,s[a]=-1,n[a]=-1,o&=~u}}function z0(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var s=31-Eo(o),a=1<<s;a&r|n[s]&r&&(n[s]|=r),o&=~a}}var Nt=0;function HM(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var WM,F0,$M,YM,qM,lv=!1,Yp=[],Ts=null,Is=null,Ms=null,Cd=new Map,Ad=new Map,vs=[],d7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x2(n,r){switch(n){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Cd.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ad.delete(r.pointerId)}}function zu(n,r,o,s,a,u){return n===null||n.nativeEvent!==u?(n={blockedOn:r,domEventName:o,eventSystemFlags:s,nativeEvent:u,targetContainers:[a]},r!==null&&(r=Qd(r),r!==null&&F0(r)),n):(n.eventSystemFlags|=s,r=n.targetContainers,a!==null&&r.indexOf(a)===-1&&r.push(a),n)}function h7(n,r,o,s,a){switch(r){case"focusin":return Ts=zu(Ts,n,r,o,s,a),!0;case"dragenter":return Is=zu(Is,n,r,o,s,a),!0;case"mouseover":return Ms=zu(Ms,n,r,o,s,a),!0;case"pointerover":var u=a.pointerId;return Cd.set(u,zu(Cd.get(u)||null,n,r,o,s,a)),!0;case"gotpointercapture":return u=a.pointerId,Ad.set(u,zu(Ad.get(u)||null,n,r,o,s,a)),!0}return!1}function KM(n){var r=Ea(n.target);if(r!==null){var o=$a(r);if(o!==null){if(r=o.tag,r===13){if(r=RM(o),r!==null){n.blockedOn=r,qM(n.priority,function(){$M(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wf(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=uv(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var s=new o.constructor(o.type,o);ov=s,o.target.dispatchEvent(s),ov=null}else return r=Qd(o),r!==null&&F0(r),n.blockedOn=o,!1;r.shift()}return!0}function E2(n,r,o){wf(n)&&o.delete(r)}function p7(){lv=!1,Ts!==null&&wf(Ts)&&(Ts=null),Is!==null&&wf(Is)&&(Is=null),Ms!==null&&wf(Ms)&&(Ms=null),Cd.forEach(E2),Ad.forEach(E2)}function Fu(n,r){n.blockedOn===r&&(n.blockedOn=null,lv||(lv=!0,Lr.unstable_scheduleCallback(Lr.unstable_NormalPriority,p7)))}function xd(n){function r(a){return Fu(a,n)}if(0<Yp.length){Fu(Yp[0],n);for(var o=1;o<Yp.length;o++){var s=Yp[o];s.blockedOn===n&&(s.blockedOn=null)}}for(Ts!==null&&Fu(Ts,n),Is!==null&&Fu(Is,n),Ms!==null&&Fu(Ms,n),Cd.forEach(r),Ad.forEach(r),o=0;o<vs.length;o++)s=vs[o],s.blockedOn===n&&(s.blockedOn=null);for(;0<vs.length&&(o=vs[0],o.blockedOn===null);)KM(o),o.blockedOn===null&&vs.shift()}var hl=Vi.ReactCurrentBatchConfig,Hf=!0;function f7(n,r,o,s){var a=Nt,u=hl.transition;hl.transition=null;try{Nt=1,U0(n,r,o,s)}finally{Nt=a,hl.transition=u}}function g7(n,r,o,s){var a=Nt,u=hl.transition;hl.transition=null;try{Nt=4,U0(n,r,o,s)}finally{Nt=a,hl.transition=u}}function U0(n,r,o,s){if(Hf){var a=uv(n,r,o,s);if(a===null)uw(n,r,s,Wf,o),x2(n,s);else if(h7(a,n,r,o,s))s.stopPropagation();else if(x2(n,s),r&4&&-1<d7.indexOf(n)){for(;a!==null;){var u=Qd(a);if(u!==null&&WM(u),u=uv(n,r,o,s),u===null&&uw(n,r,s,Wf,o),u===a)break;a=u}a!==null&&s.stopPropagation()}else uw(n,r,s,null,o)}}var Wf=null;function uv(n,r,o,s){if(Wf=null,n=L0(s),n=Ea(n),n!==null)if(r=$a(n),r===null)n=null;else if(o=r.tag,o===13){if(n=RM(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Wf=n,null}function GM(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n7()){case j0:return 1;case FM:return 4;case Uf:case r7:return 16;case UM:return 536870912;default:return 16}default:return 16}}var As=null,V0=null,vf=null;function QM(){if(vf)return vf;var n,r=V0,o=r.length,s,a="value"in As?As.value:As.textContent,u=a.length;for(n=0;n<o&&r[n]===a[n];n++);var h=o-n;for(s=1;s<=h&&r[o-s]===a[u-s];s++);return vf=a.slice(n,1<s?1-s:void 0)}function yf(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function qp(){return!0}function S2(){return!1}function Fr(n){function r(o,s,a,u,h){this._reactName=o,this._targetInst=a,this.type=s,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var f in n)n.hasOwnProperty(f)&&(o=n[f],this[f]=o?o(u):u[f]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?qp:S2,this.isPropagationStopped=S2,this}return en(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=qp)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=qp)},persist:function(){},isPersistent:qp}),r}var Ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},H0=Fr(Ml),Gd=en({},Ml,{view:0,detail:0}),m7=Fr(Gd),tw,nw,Uu,zg=en({},Gd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W0,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Uu&&(Uu&&n.type==="mousemove"?(tw=n.screenX-Uu.screenX,nw=n.screenY-Uu.screenY):nw=tw=0,Uu=n),tw)},movementY:function(n){return"movementY"in n?n.movementY:nw}}),D2=Fr(zg),k7=en({},zg,{dataTransfer:0}),b7=Fr(k7),w7=en({},Gd,{relatedTarget:0}),rw=Fr(w7),v7=en({},Ml,{animationName:0,elapsedTime:0,pseudoElement:0}),y7=Fr(v7),_7=en({},Ml,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),C7=Fr(_7),A7=en({},Ml,{data:0}),T2=Fr(A7),x7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D7(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=S7[n])?!!r[n]:!1}function W0(){return D7}var T7=en({},Gd,{key:function(n){if(n.key){var r=x7[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=yf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?E7[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W0,charCode:function(n){return n.type==="keypress"?yf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?yf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),I7=Fr(T7),M7=en({},zg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I2=Fr(M7),P7=en({},Gd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W0}),N7=Fr(P7),O7=en({},Ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),B7=Fr(O7),R7=en({},zg,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),L7=Fr(R7),j7=[9,13,27,32],$0=Bi&&"CompositionEvent"in window,sd=null;Bi&&"documentMode"in document&&(sd=document.documentMode);var z7=Bi&&"TextEvent"in window&&!sd,ZM=Bi&&(!$0||sd&&8<sd&&11>=sd),M2=String.fromCharCode(32),P2=!1;function JM(n,r){switch(n){case"keyup":return j7.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XM(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Zc=!1;function F7(n,r){switch(n){case"compositionend":return XM(r);case"keypress":return r.which!==32?null:(P2=!0,M2);case"textInput":return n=r.data,n===M2&&P2?null:n;default:return null}}function U7(n,r){if(Zc)return n==="compositionend"||!$0&&JM(n,r)?(n=QM(),vf=V0=As=null,Zc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ZM&&r.locale!=="ko"?null:r.data;default:return null}}var V7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N2(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!V7[n.type]:r==="textarea"}function e5(n,r,o,s){MM(s),r=$f(r,"onChange"),0<r.length&&(o=new H0("onChange","change",null,o,s),n.push({event:o,listeners:r}))}var ad=null,Ed=null;function H7(n){d5(n,0)}function Fg(n){var r=el(n);if(AM(r))return n}function W7(n,r){if(n==="change")return r}var t5=!1;if(Bi){var ow;if(Bi){var iw="oninput"in document;if(!iw){var O2=document.createElement("div");O2.setAttribute("oninput","return;"),iw=typeof O2.oninput=="function"}ow=iw}else ow=!1;t5=ow&&(!document.documentMode||9<document.documentMode)}function B2(){ad&&(ad.detachEvent("onpropertychange",n5),Ed=ad=null)}function n5(n){if(n.propertyName==="value"&&Fg(Ed)){var r=[];e5(r,Ed,n,L0(n)),BM(H7,r)}}function $7(n,r,o){n==="focusin"?(B2(),ad=r,Ed=o,ad.attachEvent("onpropertychange",n5)):n==="focusout"&&B2()}function Y7(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fg(Ed)}function q7(n,r){if(n==="click")return Fg(r)}function K7(n,r){if(n==="input"||n==="change")return Fg(r)}function G7(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var To=typeof Object.is=="function"?Object.is:G7;function Sd(n,r){if(To(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),s=Object.keys(r);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var a=o[s];if(!Yw.call(r,a)||!To(n[a],r[a]))return!1}return!0}function R2(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function L2(n,r){var o=R2(n);n=0;for(var s;o;){if(o.nodeType===3){if(s=n+o.textContent.length,n<=r&&s>=r)return{node:o,offset:r-n};n=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=R2(o)}}function r5(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?r5(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function o5(){for(var n=window,r=jf();r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=jf(n.document)}return r}function Y0(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function Q7(n){var r=o5(),o=n.focusedElem,s=n.selectionRange;if(r!==o&&o&&o.ownerDocument&&r5(o.ownerDocument.documentElement,o)){if(s!==null&&Y0(o)){if(r=s.start,n=s.end,n===void 0&&(n=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(n,o.value.length);else if(n=(r=o.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var a=o.textContent.length,u=Math.min(s.start,a);s=s.end===void 0?u:Math.min(s.end,a),!n.extend&&u>s&&(a=s,s=u,u=a),a=L2(o,u);var h=L2(o,s);a&&h&&(n.rangeCount!==1||n.anchorNode!==a.node||n.anchorOffset!==a.offset||n.focusNode!==h.node||n.focusOffset!==h.offset)&&(r=r.createRange(),r.setStart(a.node,a.offset),n.removeAllRanges(),u>s?(n.addRange(r),n.extend(h.node,h.offset)):(r.setEnd(h.node,h.offset),n.addRange(r)))}}for(r=[],n=o;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)n=r[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Z7=Bi&&"documentMode"in document&&11>=document.documentMode,Jc=null,dv=null,cd=null,hv=!1;function j2(n,r,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;hv||Jc==null||Jc!==jf(s)||(s=Jc,"selectionStart"in s&&Y0(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),cd&&Sd(cd,s)||(cd=s,s=$f(dv,"onSelect"),0<s.length&&(r=new H0("onSelect","select",null,r,o),n.push({event:r,listeners:s}),r.target=Jc)))}function Kp(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var Xc={animationend:Kp("Animation","AnimationEnd"),animationiteration:Kp("Animation","AnimationIteration"),animationstart:Kp("Animation","AnimationStart"),transitionend:Kp("Transition","TransitionEnd")},sw={},i5={};Bi&&(i5=document.createElement("div").style,"AnimationEvent"in window||(delete Xc.animationend.animation,delete Xc.animationiteration.animation,delete Xc.animationstart.animation),"TransitionEvent"in window||delete Xc.transitionend.transition);function Ug(n){if(sw[n])return sw[n];if(!Xc[n])return n;var r=Xc[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in i5)return sw[n]=r[o];return n}var s5=Ug("animationend"),a5=Ug("animationiteration"),c5=Ug("animationstart"),l5=Ug("transitionend"),u5=new Map,z2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(n,r){u5.set(n,r),Wa(r,[n])}for(var aw=0;aw<z2.length;aw++){var cw=z2[aw],J7=cw.toLowerCase(),X7=cw[0].toUpperCase()+cw.slice(1);Ws(J7,"on"+X7)}Ws(s5,"onAnimationEnd");Ws(a5,"onAnimationIteration");Ws(c5,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(l5,"onTransitionEnd");ml("onMouseEnter",["mouseout","mouseover"]);ml("onMouseLeave",["mouseout","mouseover"]);ml("onPointerEnter",["pointerout","pointerover"]);ml("onPointerLeave",["pointerout","pointerover"]);Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e8=new Set("cancel close invalid load scroll toggle".split(" ").concat(td));function F2(n,r,o){var s=n.type||"unknown-event";n.currentTarget=o,JU(s,r,void 0,n),n.currentTarget=null}function d5(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var s=n[o],a=s.event;s=s.listeners;e:{var u=void 0;if(r)for(var h=s.length-1;0<=h;h--){var f=s[h],m=f.instance,k=f.currentTarget;if(f=f.listener,m!==u&&a.isPropagationStopped())break e;F2(a,f,k),u=m}else for(h=0;h<s.length;h++){if(f=s[h],m=f.instance,k=f.currentTarget,f=f.listener,m!==u&&a.isPropagationStopped())break e;F2(a,f,k),u=m}}}if(Ff)throw n=av,Ff=!1,av=null,n}function $t(n,r){var o=r[kv];o===void 0&&(o=r[kv]=new Set);var s=n+"__bubble";o.has(s)||(h5(r,n,2,!1),o.add(s))}function lw(n,r,o){var s=0;r&&(s|=4),h5(o,n,s,r)}var Gp="_reactListening"+Math.random().toString(36).slice(2);function Dd(n){if(!n[Gp]){n[Gp]=!0,wM.forEach(function(o){o!=="selectionchange"&&(e8.has(o)||lw(o,!1,n),lw(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Gp]||(r[Gp]=!0,lw("selectionchange",!1,r))}}function h5(n,r,o,s){switch(GM(r)){case 1:var a=f7;break;case 4:a=g7;break;default:a=U0}o=a.bind(null,r,o,n),a=void 0,!sv||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(a=!0),s?a!==void 0?n.addEventListener(r,o,{capture:!0,passive:a}):n.addEventListener(r,o,!0):a!==void 0?n.addEventListener(r,o,{passive:a}):n.addEventListener(r,o,!1)}function uw(n,r,o,s,a){var u=s;if(!(r&1)&&!(r&2)&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var f=s.stateNode.containerInfo;if(f===a||f.nodeType===8&&f.parentNode===a)break;if(h===4)for(h=s.return;h!==null;){var m=h.tag;if((m===3||m===4)&&(m=h.stateNode.containerInfo,m===a||m.nodeType===8&&m.parentNode===a))return;h=h.return}for(;f!==null;){if(h=Ea(f),h===null)return;if(m=h.tag,m===5||m===6){s=u=h;continue e}f=f.parentNode}}s=s.return}BM(function(){var k=u,v=L0(o),_=[];e:{var C=u5.get(n);if(C!==void 0){var x=H0,S=n;switch(n){case"keypress":if(yf(o)===0)break e;case"keydown":case"keyup":x=I7;break;case"focusin":S="focus",x=rw;break;case"focusout":S="blur",x=rw;break;case"beforeblur":case"afterblur":x=rw;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=D2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=b7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=N7;break;case s5:case a5:case c5:x=y7;break;case l5:x=B7;break;case"scroll":x=m7;break;case"wheel":x=L7;break;case"copy":case"cut":case"paste":x=C7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=I2}var T=(r&4)!==0,B=!T&&n==="scroll",N=T?C!==null?C+"Capture":null:C;T=[];for(var I=k,L;I!==null;){L=I;var V=L.stateNode;if(L.tag===5&&V!==null&&(L=V,N!==null&&(V=_d(I,N),V!=null&&T.push(Td(I,V,L)))),B)break;I=I.return}0<T.length&&(C=new x(C,S,null,o,v),_.push({event:C,listeners:T}))}}if(!(r&7)){e:{if(C=n==="mouseover"||n==="pointerover",x=n==="mouseout"||n==="pointerout",C&&o!==ov&&(S=o.relatedTarget||o.fromElement)&&(Ea(S)||S[Ri]))break e;if((x||C)&&(C=v.window===v?v:(C=v.ownerDocument)?C.defaultView||C.parentWindow:window,x?(S=o.relatedTarget||o.toElement,x=k,S=S?Ea(S):null,S!==null&&(B=$a(S),S!==B||S.tag!==5&&S.tag!==6)&&(S=null)):(x=null,S=k),x!==S)){if(T=D2,V="onMouseLeave",N="onMouseEnter",I="mouse",(n==="pointerout"||n==="pointerover")&&(T=I2,V="onPointerLeave",N="onPointerEnter",I="pointer"),B=x==null?C:el(x),L=S==null?C:el(S),C=new T(V,I+"leave",x,o,v),C.target=B,C.relatedTarget=L,V=null,Ea(v)===k&&(T=new T(N,I+"enter",S,o,v),T.target=L,T.relatedTarget=B,V=T),B=V,x&&S)t:{for(T=x,N=S,I=0,L=T;L;L=jc(L))I++;for(L=0,V=N;V;V=jc(V))L++;for(;0<I-L;)T=jc(T),I--;for(;0<L-I;)N=jc(N),L--;for(;I--;){if(T===N||N!==null&&T===N.alternate)break t;T=jc(T),N=jc(N)}T=null}else T=null;x!==null&&U2(_,C,x,T,!1),S!==null&&B!==null&&U2(_,B,S,T,!0)}}e:{if(C=k?el(k):window,x=C.nodeName&&C.nodeName.toLowerCase(),x==="select"||x==="input"&&C.type==="file")var K=W7;else if(N2(C))if(t5)K=K7;else{K=Y7;var Z=$7}else(x=C.nodeName)&&x.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(K=q7);if(K&&(K=K(n,k))){e5(_,K,o,v);break e}Z&&Z(n,C,k),n==="focusout"&&(Z=C._wrapperState)&&Z.controlled&&C.type==="number"&&Xw(C,"number",C.value)}switch(Z=k?el(k):window,n){case"focusin":(N2(Z)||Z.contentEditable==="true")&&(Jc=Z,dv=k,cd=null);break;case"focusout":cd=dv=Jc=null;break;case"mousedown":hv=!0;break;case"contextmenu":case"mouseup":case"dragend":hv=!1,j2(_,o,v);break;case"selectionchange":if(Z7)break;case"keydown":case"keyup":j2(_,o,v)}var Q;if($0)e:{switch(n){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Zc?JM(n,o)&&(z="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(z="onCompositionStart");z&&(ZM&&o.locale!=="ko"&&(Zc||z!=="onCompositionStart"?z==="onCompositionEnd"&&Zc&&(Q=QM()):(As=v,V0="value"in As?As.value:As.textContent,Zc=!0)),Z=$f(k,z),0<Z.length&&(z=new T2(z,n,null,o,v),_.push({event:z,listeners:Z}),Q?z.data=Q:(Q=XM(o),Q!==null&&(z.data=Q)))),(Q=z7?F7(n,o):U7(n,o))&&(k=$f(k,"onBeforeInput"),0<k.length&&(v=new T2("onBeforeInput","beforeinput",null,o,v),_.push({event:v,listeners:k}),v.data=Q))}d5(_,r)})}function Td(n,r,o){return{instance:n,listener:r,currentTarget:o}}function $f(n,r){for(var o=r+"Capture",s=[];n!==null;){var a=n,u=a.stateNode;a.tag===5&&u!==null&&(a=u,u=_d(n,o),u!=null&&s.unshift(Td(n,u,a)),u=_d(n,r),u!=null&&s.push(Td(n,u,a))),n=n.return}return s}function jc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function U2(n,r,o,s,a){for(var u=r._reactName,h=[];o!==null&&o!==s;){var f=o,m=f.alternate,k=f.stateNode;if(m!==null&&m===s)break;f.tag===5&&k!==null&&(f=k,a?(m=_d(o,u),m!=null&&h.unshift(Td(o,m,f))):a||(m=_d(o,u),m!=null&&h.push(Td(o,m,f)))),o=o.return}h.length!==0&&n.push({event:r,listeners:h})}var t8=/\r\n?/g,n8=/\u0000|\uFFFD/g;function V2(n){return(typeof n=="string"?n:""+n).replace(t8,`
`).replace(n8,"")}function Qp(n,r,o){if(r=V2(r),V2(n)!==r&&o)throw Error(me(425))}function Yf(){}var pv=null,fv=null;function gv(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var mv=typeof setTimeout=="function"?setTimeout:void 0,r8=typeof clearTimeout=="function"?clearTimeout:void 0,H2=typeof Promise=="function"?Promise:void 0,o8=typeof queueMicrotask=="function"?queueMicrotask:typeof H2<"u"?function(n){return H2.resolve(null).then(n).catch(i8)}:mv;function i8(n){setTimeout(function(){throw n})}function dw(n,r){var o=r,s=0;do{var a=o.nextSibling;if(n.removeChild(o),a&&a.nodeType===8)if(o=a.data,o==="/$"){if(s===0){n.removeChild(a),xd(r);return}s--}else o!=="$"&&o!=="$?"&&o!=="$!"||s++;o=a}while(o);xd(r)}function Ps(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function W2(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}var Pl=Math.random().toString(36).slice(2),ei="__reactFiber$"+Pl,Id="__reactProps$"+Pl,Ri="__reactContainer$"+Pl,kv="__reactEvents$"+Pl,s8="__reactListeners$"+Pl,a8="__reactHandles$"+Pl;function Ea(n){var r=n[ei];if(r)return r;for(var o=n.parentNode;o;){if(r=o[Ri]||o[ei]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=W2(n);n!==null;){if(o=n[ei])return o;n=W2(n)}return r}n=o,o=n.parentNode}return null}function Qd(n){return n=n[ei]||n[Ri],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function el(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(me(33))}function Vg(n){return n[Id]||null}var bv=[],tl=-1;function $s(n){return{current:n}}function Yt(n){0>tl||(n.current=bv[tl],bv[tl]=null,tl--)}function Vt(n,r){tl++,bv[tl]=n.current,n.current=r}var Vs={},Xn=$s(Vs),br=$s(!1),Ra=Vs;function kl(n,r){var o=n.type.contextTypes;if(!o)return Vs;var s=n.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===r)return s.__reactInternalMemoizedMaskedChildContext;var a={},u;for(u in o)a[u]=r[u];return s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=a),a}function wr(n){return n=n.childContextTypes,n!=null}function qf(){Yt(br),Yt(Xn)}function $2(n,r,o){if(Xn.current!==Vs)throw Error(me(168));Vt(Xn,r),Vt(br,o)}function p5(n,r,o){var s=n.stateNode;if(r=r.childContextTypes,typeof s.getChildContext!="function")return o;s=s.getChildContext();for(var a in s)if(!(a in r))throw Error(me(108,$U(n)||"Unknown",a));return en({},o,s)}function Kf(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Vs,Ra=Xn.current,Vt(Xn,n),Vt(br,br.current),!0}function Y2(n,r,o){var s=n.stateNode;if(!s)throw Error(me(169));o?(n=p5(n,r,Ra),s.__reactInternalMemoizedMergedChildContext=n,Yt(br),Yt(Xn),Vt(Xn,n)):Yt(br),Vt(br,o)}var Ei=null,Hg=!1,hw=!1;function f5(n){Ei===null?Ei=[n]:Ei.push(n)}function c8(n){Hg=!0,f5(n)}function Ys(){if(!hw&&Ei!==null){hw=!0;var n=0,r=Nt;try{var o=Ei;for(Nt=1;n<o.length;n++){var s=o[n];do s=s(!0);while(s!==null)}Ei=null,Hg=!1}catch(a){throw Ei!==null&&(Ei=Ei.slice(n+1)),zM(j0,Ys),a}finally{Nt=r,hw=!1}}return null}var nl=[],rl=0,Gf=null,Qf=0,Qr=[],Zr=0,La=null,Ii=1,Mi="";function ya(n,r){nl[rl++]=Qf,nl[rl++]=Gf,Gf=n,Qf=r}function g5(n,r,o){Qr[Zr++]=Ii,Qr[Zr++]=Mi,Qr[Zr++]=La,La=n;var s=Ii;n=Mi;var a=32-Eo(s)-1;s&=~(1<<a),o+=1;var u=32-Eo(r)+a;if(30<u){var h=a-a%5;u=(s&(1<<h)-1).toString(32),s>>=h,a-=h,Ii=1<<32-Eo(r)+a|o<<a|s,Mi=u+n}else Ii=1<<u|o<<a|s,Mi=n}function q0(n){n.return!==null&&(ya(n,1),g5(n,1,0))}function K0(n){for(;n===Gf;)Gf=nl[--rl],nl[rl]=null,Qf=nl[--rl],nl[rl]=null;for(;n===La;)La=Qr[--Zr],Qr[Zr]=null,Mi=Qr[--Zr],Qr[Zr]=null,Ii=Qr[--Zr],Qr[Zr]=null}var Rr=null,Pr=null,Qt=!1,Ao=null;function m5(n,r){var o=Xr(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=n,r=n.deletions,r===null?(n.deletions=[o],n.flags|=16):r.push(o)}function q2(n,r){switch(n.tag){case 5:var o=n.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,Rr=n,Pr=Ps(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,Rr=n,Pr=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=La!==null?{id:Ii,overflow:Mi}:null,n.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Xr(18,null,null,0),o.stateNode=r,o.return=n,n.child=o,Rr=n,Pr=null,!0):!1;default:return!1}}function wv(n){return(n.mode&1)!==0&&(n.flags&128)===0}function vv(n){if(Qt){var r=Pr;if(r){var o=r;if(!q2(n,r)){if(wv(n))throw Error(me(418));r=Ps(o.nextSibling);var s=Rr;r&&q2(n,r)?m5(s,o):(n.flags=n.flags&-4097|2,Qt=!1,Rr=n)}}else{if(wv(n))throw Error(me(418));n.flags=n.flags&-4097|2,Qt=!1,Rr=n}}}function K2(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Rr=n}function Zp(n){if(n!==Rr)return!1;if(!Qt)return K2(n),Qt=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!gv(n.type,n.memoizedProps)),r&&(r=Pr)){if(wv(n))throw k5(),Error(me(418));for(;r;)m5(n,r),r=Ps(r.nextSibling)}if(K2(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(me(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(r===0){Pr=Ps(n.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}n=n.nextSibling}Pr=null}}else Pr=Rr?Ps(n.stateNode.nextSibling):null;return!0}function k5(){for(var n=Pr;n;)n=Ps(n.nextSibling)}function bl(){Pr=Rr=null,Qt=!1}function G0(n){Ao===null?Ao=[n]:Ao.push(n)}var l8=Vi.ReactCurrentBatchConfig;function yo(n,r){if(n&&n.defaultProps){r=en({},r),n=n.defaultProps;for(var o in n)r[o]===void 0&&(r[o]=n[o]);return r}return r}var Zf=$s(null),Jf=null,ol=null,Q0=null;function Z0(){Q0=ol=Jf=null}function J0(n){var r=Zf.current;Yt(Zf),n._currentValue=r}function yv(n,r,o){for(;n!==null;){var s=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,s!==null&&(s.childLanes|=r)):s!==null&&(s.childLanes&r)!==r&&(s.childLanes|=r),n===o)break;n=n.return}}function pl(n,r){Jf=n,Q0=ol=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&r&&(kr=!0),n.firstContext=null)}function ro(n){var r=n._currentValue;if(Q0!==n)if(n={context:n,memoizedValue:r,next:null},ol===null){if(Jf===null)throw Error(me(308));ol=n,Jf.dependencies={lanes:0,firstContext:n}}else ol=ol.next=n;return r}var Sa=null;function X0(n){Sa===null?Sa=[n]:Sa.push(n)}function b5(n,r,o,s){var a=r.interleaved;return a===null?(o.next=o,X0(r)):(o.next=a.next,a.next=o),r.interleaved=o,Li(n,s)}function Li(n,r){n.lanes|=r;var o=n.alternate;for(o!==null&&(o.lanes|=r),o=n,n=n.return;n!==null;)n.childLanes|=r,o=n.alternate,o!==null&&(o.childLanes|=r),o=n,n=n.return;return o.tag===3?o.stateNode:null}var ms=!1;function ey(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w5(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ni(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function Ns(n,r,o){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,bt&2){var a=s.pending;return a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r,Li(n,o)}return a=s.interleaved,a===null?(r.next=r,X0(s)):(r.next=a.next,a.next=r),s.interleaved=r,Li(n,o)}function _f(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var s=r.lanes;s&=n.pendingLanes,o|=s,r.lanes=o,z0(n,o)}}function G2(n,r){var o=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var a=null,u=null;if(o=o.firstBaseUpdate,o!==null){do{var h={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};u===null?a=u=h:u=u.next=h,o=o.next}while(o!==null);u===null?a=u=r:u=u.next=r}else a=u=r;o={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:u,shared:s.shared,effects:s.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}function Xf(n,r,o,s){var a=n.updateQueue;ms=!1;var u=a.firstBaseUpdate,h=a.lastBaseUpdate,f=a.shared.pending;if(f!==null){a.shared.pending=null;var m=f,k=m.next;m.next=null,h===null?u=k:h.next=k,h=m;var v=n.alternate;v!==null&&(v=v.updateQueue,f=v.lastBaseUpdate,f!==h&&(f===null?v.firstBaseUpdate=k:f.next=k,v.lastBaseUpdate=m))}if(u!==null){var _=a.baseState;h=0,v=k=m=null,f=u;do{var C=f.lane,x=f.eventTime;if((s&C)===C){v!==null&&(v=v.next={eventTime:x,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var S=n,T=f;switch(C=r,x=o,T.tag){case 1:if(S=T.payload,typeof S=="function"){_=S.call(x,_,C);break e}_=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=T.payload,C=typeof S=="function"?S.call(x,_,C):S,C==null)break e;_=en({},_,C);break e;case 2:ms=!0}}f.callback!==null&&f.lane!==0&&(n.flags|=64,C=a.effects,C===null?a.effects=[f]:C.push(f))}else x={eventTime:x,lane:C,tag:f.tag,payload:f.payload,callback:f.callback,next:null},v===null?(k=v=x,m=_):v=v.next=x,h|=C;if(f=f.next,f===null){if(f=a.shared.pending,f===null)break;C=f,f=C.next,C.next=null,a.lastBaseUpdate=C,a.shared.pending=null}}while(1);if(v===null&&(m=_),a.baseState=m,a.firstBaseUpdate=k,a.lastBaseUpdate=v,r=a.shared.interleaved,r!==null){a=r;do h|=a.lane,a=a.next;while(a!==r)}else u===null&&(a.shared.lanes=0);za|=h,n.lanes=h,n.memoizedState=_}}function Q2(n,r,o){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var s=n[r],a=s.callback;if(a!==null){if(s.callback=null,s=o,typeof a!="function")throw Error(me(191,a));a.call(s)}}}var v5=new bM.Component().refs;function _v(n,r,o,s){r=n.memoizedState,o=o(s,r),o=o==null?r:en({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Wg={isMounted:function(n){return(n=n._reactInternals)?$a(n)===n:!1},enqueueSetState:function(n,r,o){n=n._reactInternals;var s=ir(),a=Bs(n),u=Ni(s,a);u.payload=r,o!=null&&(u.callback=o),r=Ns(n,u,a),r!==null&&(So(r,n,a,s),_f(r,n,a))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var s=ir(),a=Bs(n),u=Ni(s,a);u.tag=1,u.payload=r,o!=null&&(u.callback=o),r=Ns(n,u,a),r!==null&&(So(r,n,a,s),_f(r,n,a))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=ir(),s=Bs(n),a=Ni(o,s);a.tag=2,r!=null&&(a.callback=r),r=Ns(n,a,s),r!==null&&(So(r,n,s,o),_f(r,n,s))}};function Z2(n,r,o,s,a,u,h){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,u,h):r.prototype&&r.prototype.isPureReactComponent?!Sd(o,s)||!Sd(a,u):!0}function y5(n,r,o){var s=!1,a=Vs,u=r.contextType;return typeof u=="object"&&u!==null?u=ro(u):(a=wr(r)?Ra:Xn.current,s=r.contextTypes,u=(s=s!=null)?kl(n,a):Vs),r=new r(o,u),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Wg,n.stateNode=r,r._reactInternals=n,s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=u),r}function J2(n,r,o,s){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,s),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,s),r.state!==n&&Wg.enqueueReplaceState(r,r.state,null)}function Cv(n,r,o,s){var a=n.stateNode;a.props=o,a.state=n.memoizedState,a.refs=v5,ey(n);var u=r.contextType;typeof u=="object"&&u!==null?a.context=ro(u):(u=wr(r)?Ra:Xn.current,a.context=kl(n,u)),a.state=n.memoizedState,u=r.getDerivedStateFromProps,typeof u=="function"&&(_v(n,r,u,o),a.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&Wg.enqueueReplaceState(a,a.state,null),Xf(n,o,a,s),a.state=n.memoizedState),typeof a.componentDidMount=="function"&&(n.flags|=4194308)}function Vu(n,r,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(me(309));var s=o.stateNode}if(!s)throw Error(me(147,n));var a=s,u=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===u?r.ref:(r=function(h){var f=a.refs;f===v5&&(f=a.refs={}),h===null?delete f[u]:f[u]=h},r._stringRef=u,r)}if(typeof n!="string")throw Error(me(284));if(!o._owner)throw Error(me(290,n))}return n}function Jp(n,r){throw n=Object.prototype.toString.call(r),Error(me(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function X2(n){var r=n._init;return r(n._payload)}function _5(n){function r(N,I){if(n){var L=N.deletions;L===null?(N.deletions=[I],N.flags|=16):L.push(I)}}function o(N,I){if(!n)return null;for(;I!==null;)r(N,I),I=I.sibling;return null}function s(N,I){for(N=new Map;I!==null;)I.key!==null?N.set(I.key,I):N.set(I.index,I),I=I.sibling;return N}function a(N,I){return N=Rs(N,I),N.index=0,N.sibling=null,N}function u(N,I,L){return N.index=L,n?(L=N.alternate,L!==null?(L=L.index,L<I?(N.flags|=2,I):L):(N.flags|=2,I)):(N.flags|=1048576,I)}function h(N){return n&&N.alternate===null&&(N.flags|=2),N}function f(N,I,L,V){return I===null||I.tag!==6?(I=ww(L,N.mode,V),I.return=N,I):(I=a(I,L),I.return=N,I)}function m(N,I,L,V){var K=L.type;return K===Qc?v(N,I,L.props.children,V,L.key):I!==null&&(I.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===gs&&X2(K)===I.type)?(V=a(I,L.props),V.ref=Vu(N,I,L),V.return=N,V):(V=Df(L.type,L.key,L.props,null,N.mode,V),V.ref=Vu(N,I,L),V.return=N,V)}function k(N,I,L,V){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=vw(L,N.mode,V),I.return=N,I):(I=a(I,L.children||[]),I.return=N,I)}function v(N,I,L,V,K){return I===null||I.tag!==7?(I=Pa(L,N.mode,V,K),I.return=N,I):(I=a(I,L),I.return=N,I)}function _(N,I,L){if(typeof I=="string"&&I!==""||typeof I=="number")return I=ww(""+I,N.mode,L),I.return=N,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Up:return L=Df(I.type,I.key,I.props,null,N.mode,L),L.ref=Vu(N,null,I),L.return=N,L;case Gc:return I=vw(I,N.mode,L),I.return=N,I;case gs:var V=I._init;return _(N,V(I._payload),L)}if(Xu(I)||Lu(I))return I=Pa(I,N.mode,L,null),I.return=N,I;Jp(N,I)}return null}function C(N,I,L,V){var K=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return K!==null?null:f(N,I,""+L,V);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Up:return L.key===K?m(N,I,L,V):null;case Gc:return L.key===K?k(N,I,L,V):null;case gs:return K=L._init,C(N,I,K(L._payload),V)}if(Xu(L)||Lu(L))return K!==null?null:v(N,I,L,V,null);Jp(N,L)}return null}function x(N,I,L,V,K){if(typeof V=="string"&&V!==""||typeof V=="number")return N=N.get(L)||null,f(I,N,""+V,K);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Up:return N=N.get(V.key===null?L:V.key)||null,m(I,N,V,K);case Gc:return N=N.get(V.key===null?L:V.key)||null,k(I,N,V,K);case gs:var Z=V._init;return x(N,I,L,Z(V._payload),K)}if(Xu(V)||Lu(V))return N=N.get(L)||null,v(I,N,V,K,null);Jp(I,V)}return null}function S(N,I,L,V){for(var K=null,Z=null,Q=I,z=I=0,te=null;Q!==null&&z<L.length;z++){Q.index>z?(te=Q,Q=null):te=Q.sibling;var ae=C(N,Q,L[z],V);if(ae===null){Q===null&&(Q=te);break}n&&Q&&ae.alternate===null&&r(N,Q),I=u(ae,I,z),Z===null?K=ae:Z.sibling=ae,Z=ae,Q=te}if(z===L.length)return o(N,Q),Qt&&ya(N,z),K;if(Q===null){for(;z<L.length;z++)Q=_(N,L[z],V),Q!==null&&(I=u(Q,I,z),Z===null?K=Q:Z.sibling=Q,Z=Q);return Qt&&ya(N,z),K}for(Q=s(N,Q);z<L.length;z++)te=x(Q,N,z,L[z],V),te!==null&&(n&&te.alternate!==null&&Q.delete(te.key===null?z:te.key),I=u(te,I,z),Z===null?K=te:Z.sibling=te,Z=te);return n&&Q.forEach(function(Ce){return r(N,Ce)}),Qt&&ya(N,z),K}function T(N,I,L,V){var K=Lu(L);if(typeof K!="function")throw Error(me(150));if(L=K.call(L),L==null)throw Error(me(151));for(var Z=K=null,Q=I,z=I=0,te=null,ae=L.next();Q!==null&&!ae.done;z++,ae=L.next()){Q.index>z?(te=Q,Q=null):te=Q.sibling;var Ce=C(N,Q,ae.value,V);if(Ce===null){Q===null&&(Q=te);break}n&&Q&&Ce.alternate===null&&r(N,Q),I=u(Ce,I,z),Z===null?K=Ce:Z.sibling=Ce,Z=Ce,Q=te}if(ae.done)return o(N,Q),Qt&&ya(N,z),K;if(Q===null){for(;!ae.done;z++,ae=L.next())ae=_(N,ae.value,V),ae!==null&&(I=u(ae,I,z),Z===null?K=ae:Z.sibling=ae,Z=ae);return Qt&&ya(N,z),K}for(Q=s(N,Q);!ae.done;z++,ae=L.next())ae=x(Q,N,z,ae.value,V),ae!==null&&(n&&ae.alternate!==null&&Q.delete(ae.key===null?z:ae.key),I=u(ae,I,z),Z===null?K=ae:Z.sibling=ae,Z=ae);return n&&Q.forEach(function(Me){return r(N,Me)}),Qt&&ya(N,z),K}function B(N,I,L,V){if(typeof L=="object"&&L!==null&&L.type===Qc&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Up:e:{for(var K=L.key,Z=I;Z!==null;){if(Z.key===K){if(K=L.type,K===Qc){if(Z.tag===7){o(N,Z.sibling),I=a(Z,L.props.children),I.return=N,N=I;break e}}else if(Z.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===gs&&X2(K)===Z.type){o(N,Z.sibling),I=a(Z,L.props),I.ref=Vu(N,Z,L),I.return=N,N=I;break e}o(N,Z);break}else r(N,Z);Z=Z.sibling}L.type===Qc?(I=Pa(L.props.children,N.mode,V,L.key),I.return=N,N=I):(V=Df(L.type,L.key,L.props,null,N.mode,V),V.ref=Vu(N,I,L),V.return=N,N=V)}return h(N);case Gc:e:{for(Z=L.key;I!==null;){if(I.key===Z)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){o(N,I.sibling),I=a(I,L.children||[]),I.return=N,N=I;break e}else{o(N,I);break}else r(N,I);I=I.sibling}I=vw(L,N.mode,V),I.return=N,N=I}return h(N);case gs:return Z=L._init,B(N,I,Z(L._payload),V)}if(Xu(L))return S(N,I,L,V);if(Lu(L))return T(N,I,L,V);Jp(N,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,I!==null&&I.tag===6?(o(N,I.sibling),I=a(I,L),I.return=N,N=I):(o(N,I),I=ww(L,N.mode,V),I.return=N,N=I),h(N)):o(N,I)}return B}var wl=_5(!0),C5=_5(!1),Zd={},si=$s(Zd),Md=$s(Zd),Pd=$s(Zd);function Da(n){if(n===Zd)throw Error(me(174));return n}function ty(n,r){switch(Vt(Pd,r),Vt(Md,n),Vt(si,Zd),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:tv(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=tv(r,n)}Yt(si),Vt(si,r)}function vl(){Yt(si),Yt(Md),Yt(Pd)}function A5(n){Da(Pd.current);var r=Da(si.current),o=tv(r,n.type);r!==o&&(Vt(Md,n),Vt(si,o))}function ny(n){Md.current===n&&(Yt(si),Yt(Md))}var Zt=$s(0);function eg(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var pw=[];function ry(){for(var n=0;n<pw.length;n++)pw[n]._workInProgressVersionPrimary=null;pw.length=0}var Cf=Vi.ReactCurrentDispatcher,fw=Vi.ReactCurrentBatchConfig,ja=0,Xt=null,xn=null,Mn=null,tg=!1,ld=!1,Nd=0,u8=0;function qn(){throw Error(me(321))}function oy(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!To(n[o],r[o]))return!1;return!0}function iy(n,r,o,s,a,u){if(ja=u,Xt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Cf.current=n===null||n.memoizedState===null?f8:g8,n=o(s,a),ld){u=0;do{if(ld=!1,Nd=0,25<=u)throw Error(me(301));u+=1,Mn=xn=null,r.updateQueue=null,Cf.current=m8,n=o(s,a)}while(ld)}if(Cf.current=ng,r=xn!==null&&xn.next!==null,ja=0,Mn=xn=Xt=null,tg=!1,r)throw Error(me(300));return n}function sy(){var n=Nd!==0;return Nd=0,n}function Xo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?Xt.memoizedState=Mn=n:Mn=Mn.next=n,Mn}function oo(){if(xn===null){var n=Xt.alternate;n=n!==null?n.memoizedState:null}else n=xn.next;var r=Mn===null?Xt.memoizedState:Mn.next;if(r!==null)Mn=r,xn=n;else{if(n===null)throw Error(me(310));xn=n,n={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},Mn===null?Xt.memoizedState=Mn=n:Mn=Mn.next=n}return Mn}function Od(n,r){return typeof r=="function"?r(n):r}function gw(n){var r=oo(),o=r.queue;if(o===null)throw Error(me(311));o.lastRenderedReducer=n;var s=xn,a=s.baseQueue,u=o.pending;if(u!==null){if(a!==null){var h=a.next;a.next=u.next,u.next=h}s.baseQueue=a=u,o.pending=null}if(a!==null){u=a.next,s=s.baseState;var f=h=null,m=null,k=u;do{var v=k.lane;if((ja&v)===v)m!==null&&(m=m.next={lane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),s=k.hasEagerState?k.eagerState:n(s,k.action);else{var _={lane:v,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null};m===null?(f=m=_,h=s):m=m.next=_,Xt.lanes|=v,za|=v}k=k.next}while(k!==null&&k!==u);m===null?h=s:m.next=f,To(s,r.memoizedState)||(kr=!0),r.memoizedState=s,r.baseState=h,r.baseQueue=m,o.lastRenderedState=s}if(n=o.interleaved,n!==null){a=n;do u=a.lane,Xt.lanes|=u,za|=u,a=a.next;while(a!==n)}else a===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function mw(n){var r=oo(),o=r.queue;if(o===null)throw Error(me(311));o.lastRenderedReducer=n;var s=o.dispatch,a=o.pending,u=r.memoizedState;if(a!==null){o.pending=null;var h=a=a.next;do u=n(u,h.action),h=h.next;while(h!==a);To(u,r.memoizedState)||(kr=!0),r.memoizedState=u,r.baseQueue===null&&(r.baseState=u),o.lastRenderedState=u}return[u,s]}function x5(){}function E5(n,r){var o=Xt,s=oo(),a=r(),u=!To(s.memoizedState,a);if(u&&(s.memoizedState=a,kr=!0),s=s.queue,ay(T5.bind(null,o,s,n),[n]),s.getSnapshot!==r||u||Mn!==null&&Mn.memoizedState.tag&1){if(o.flags|=2048,Bd(9,D5.bind(null,o,s,a,r),void 0,null),Pn===null)throw Error(me(349));ja&30||S5(o,r,a)}return a}function S5(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Xt.updateQueue,r===null?(r={lastEffect:null,stores:null},Xt.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function D5(n,r,o,s){r.value=o,r.getSnapshot=s,I5(r)&&M5(n)}function T5(n,r,o){return o(function(){I5(r)&&M5(n)})}function I5(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!To(n,o)}catch{return!0}}function M5(n){var r=Li(n,1);r!==null&&So(r,n,1,-1)}function eT(n){var r=Xo();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:n},r.queue=n,n=n.dispatch=p8.bind(null,Xt,n),[r.memoizedState,n]}function Bd(n,r,o,s){return n={tag:n,create:r,destroy:o,deps:s,next:null},r=Xt.updateQueue,r===null?(r={lastEffect:null,stores:null},Xt.updateQueue=r,r.lastEffect=n.next=n):(o=r.lastEffect,o===null?r.lastEffect=n.next=n:(s=o.next,o.next=n,n.next=s,r.lastEffect=n)),n}function P5(){return oo().memoizedState}function Af(n,r,o,s){var a=Xo();Xt.flags|=n,a.memoizedState=Bd(1|r,o,void 0,s===void 0?null:s)}function $g(n,r,o,s){var a=oo();s=s===void 0?null:s;var u=void 0;if(xn!==null){var h=xn.memoizedState;if(u=h.destroy,s!==null&&oy(s,h.deps)){a.memoizedState=Bd(r,o,u,s);return}}Xt.flags|=n,a.memoizedState=Bd(1|r,o,u,s)}function tT(n,r){return Af(8390656,8,n,r)}function ay(n,r){return $g(2048,8,n,r)}function N5(n,r){return $g(4,2,n,r)}function O5(n,r){return $g(4,4,n,r)}function B5(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function R5(n,r,o){return o=o!=null?o.concat([n]):null,$g(4,4,B5.bind(null,r,n),o)}function cy(){}function L5(n,r){var o=oo();r=r===void 0?null:r;var s=o.memoizedState;return s!==null&&r!==null&&oy(r,s[1])?s[0]:(o.memoizedState=[n,r],n)}function j5(n,r){var o=oo();r=r===void 0?null:r;var s=o.memoizedState;return s!==null&&r!==null&&oy(r,s[1])?s[0]:(n=n(),o.memoizedState=[n,r],n)}function z5(n,r,o){return ja&21?(To(o,r)||(o=VM(),Xt.lanes|=o,za|=o,n.baseState=!0),r):(n.baseState&&(n.baseState=!1,kr=!0),n.memoizedState=o)}function d8(n,r){var o=Nt;Nt=o!==0&&4>o?o:4,n(!0);var s=fw.transition;fw.transition={};try{n(!1),r()}finally{Nt=o,fw.transition=s}}function F5(){return oo().memoizedState}function h8(n,r,o){var s=Bs(n);if(o={lane:s,action:o,hasEagerState:!1,eagerState:null,next:null},U5(n))V5(r,o);else if(o=b5(n,r,o,s),o!==null){var a=ir();So(o,n,s,a),H5(o,r,s)}}function p8(n,r,o){var s=Bs(n),a={lane:s,action:o,hasEagerState:!1,eagerState:null,next:null};if(U5(n))V5(r,a);else{var u=n.alternate;if(n.lanes===0&&(u===null||u.lanes===0)&&(u=r.lastRenderedReducer,u!==null))try{var h=r.lastRenderedState,f=u(h,o);if(a.hasEagerState=!0,a.eagerState=f,To(f,h)){var m=r.interleaved;m===null?(a.next=a,X0(r)):(a.next=m.next,m.next=a),r.interleaved=a;return}}catch{}finally{}o=b5(n,r,a,s),o!==null&&(a=ir(),So(o,n,s,a),H5(o,r,s))}}function U5(n){var r=n.alternate;return n===Xt||r!==null&&r===Xt}function V5(n,r){ld=tg=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function H5(n,r,o){if(o&4194240){var s=r.lanes;s&=n.pendingLanes,o|=s,r.lanes=o,z0(n,o)}}var ng={readContext:ro,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},f8={readContext:ro,useCallback:function(n,r){return Xo().memoizedState=[n,r===void 0?null:r],n},useContext:ro,useEffect:tT,useImperativeHandle:function(n,r,o){return o=o!=null?o.concat([n]):null,Af(4194308,4,B5.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Af(4194308,4,n,r)},useInsertionEffect:function(n,r){return Af(4,2,n,r)},useMemo:function(n,r){var o=Xo();return r=r===void 0?null:r,n=n(),o.memoizedState=[n,r],n},useReducer:function(n,r,o){var s=Xo();return r=o!==void 0?o(r):r,s.memoizedState=s.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},s.queue=n,n=n.dispatch=h8.bind(null,Xt,n),[s.memoizedState,n]},useRef:function(n){var r=Xo();return n={current:n},r.memoizedState=n},useState:eT,useDebugValue:cy,useDeferredValue:function(n){return Xo().memoizedState=n},useTransition:function(){var n=eT(!1),r=n[0];return n=d8.bind(null,n[1]),Xo().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,o){var s=Xt,a=Xo();if(Qt){if(o===void 0)throw Error(me(407));o=o()}else{if(o=r(),Pn===null)throw Error(me(349));ja&30||S5(s,r,o)}a.memoizedState=o;var u={value:o,getSnapshot:r};return a.queue=u,tT(T5.bind(null,s,u,n),[n]),s.flags|=2048,Bd(9,D5.bind(null,s,u,o,r),void 0,null),o},useId:function(){var n=Xo(),r=Pn.identifierPrefix;if(Qt){var o=Mi,s=Ii;o=(s&~(1<<32-Eo(s)-1)).toString(32)+o,r=":"+r+"R"+o,o=Nd++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=u8++,r=":"+r+"r"+o.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},g8={readContext:ro,useCallback:L5,useContext:ro,useEffect:ay,useImperativeHandle:R5,useInsertionEffect:N5,useLayoutEffect:O5,useMemo:j5,useReducer:gw,useRef:P5,useState:function(){return gw(Od)},useDebugValue:cy,useDeferredValue:function(n){var r=oo();return z5(r,xn.memoizedState,n)},useTransition:function(){var n=gw(Od)[0],r=oo().memoizedState;return[n,r]},useMutableSource:x5,useSyncExternalStore:E5,useId:F5,unstable_isNewReconciler:!1},m8={readContext:ro,useCallback:L5,useContext:ro,useEffect:ay,useImperativeHandle:R5,useInsertionEffect:N5,useLayoutEffect:O5,useMemo:j5,useReducer:mw,useRef:P5,useState:function(){return mw(Od)},useDebugValue:cy,useDeferredValue:function(n){var r=oo();return xn===null?r.memoizedState=n:z5(r,xn.memoizedState,n)},useTransition:function(){var n=mw(Od)[0],r=oo().memoizedState;return[n,r]},useMutableSource:x5,useSyncExternalStore:E5,useId:F5,unstable_isNewReconciler:!1};function yl(n,r){try{var o="",s=r;do o+=WU(s),s=s.return;while(s);var a=o}catch(u){a=`
Error generating stack: `+u.message+`
`+u.stack}return{value:n,source:r,stack:a,digest:null}}function kw(n,r,o){return{value:n,source:null,stack:o??null,digest:r??null}}function Av(n,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var k8=typeof WeakMap=="function"?WeakMap:Map;function W5(n,r,o){o=Ni(-1,o),o.tag=3,o.payload={element:null};var s=r.value;return o.callback=function(){og||(og=!0,Ov=s),Av(n,r)},o}function $5(n,r,o){o=Ni(-1,o),o.tag=3;var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var a=r.value;o.payload=function(){return s(a)},o.callback=function(){Av(n,r)}}var u=n.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(o.callback=function(){Av(n,r),typeof s!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var h=r.stack;this.componentDidCatch(r.value,{componentStack:h!==null?h:""})}),o}function nT(n,r,o){var s=n.pingCache;if(s===null){s=n.pingCache=new k8;var a=new Set;s.set(r,a)}else a=s.get(r),a===void 0&&(a=new Set,s.set(r,a));a.has(o)||(a.add(o),n=M8.bind(null,n,r,o),r.then(n,n))}function rT(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function oT(n,r,o,s,a){return n.mode&1?(n.flags|=65536,n.lanes=a,n):(n===r?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Ni(-1,1),r.tag=2,Ns(o,r,1))),o.lanes|=1),n)}var b8=Vi.ReactCurrentOwner,kr=!1;function nr(n,r,o,s){r.child=n===null?C5(r,null,o,s):wl(r,n.child,o,s)}function iT(n,r,o,s,a){o=o.render;var u=r.ref;return pl(r,a),s=iy(n,r,o,s,u,a),o=sy(),n!==null&&!kr?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a,ji(n,r,a)):(Qt&&o&&q0(r),r.flags|=1,nr(n,r,s,a),r.child)}function sT(n,r,o,s,a){if(n===null){var u=o.type;return typeof u=="function"&&!my(u)&&u.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=u,Y5(n,r,u,s,a)):(n=Df(o.type,null,s,r,r.mode,a),n.ref=r.ref,n.return=r,r.child=n)}if(u=n.child,!(n.lanes&a)){var h=u.memoizedProps;if(o=o.compare,o=o!==null?o:Sd,o(h,s)&&n.ref===r.ref)return ji(n,r,a)}return r.flags|=1,n=Rs(u,s),n.ref=r.ref,n.return=r,r.child=n}function Y5(n,r,o,s,a){if(n!==null){var u=n.memoizedProps;if(Sd(u,s)&&n.ref===r.ref)if(kr=!1,r.pendingProps=s=u,(n.lanes&a)!==0)n.flags&131072&&(kr=!0);else return r.lanes=n.lanes,ji(n,r,a)}return xv(n,r,o,s,a)}function q5(n,r,o){var s=r.pendingProps,a=s.children,u=n!==null?n.memoizedState:null;if(s.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(sl,Ir),Ir|=o;else{if(!(o&1073741824))return n=u!==null?u.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Vt(sl,Ir),Ir|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=u!==null?u.baseLanes:o,Vt(sl,Ir),Ir|=s}else u!==null?(s=u.baseLanes|o,r.memoizedState=null):s=o,Vt(sl,Ir),Ir|=s;return nr(n,r,a,o),r.child}function K5(n,r){var o=r.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function xv(n,r,o,s,a){var u=wr(o)?Ra:Xn.current;return u=kl(r,u),pl(r,a),o=iy(n,r,o,s,u,a),s=sy(),n!==null&&!kr?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a,ji(n,r,a)):(Qt&&s&&q0(r),r.flags|=1,nr(n,r,o,a),r.child)}function aT(n,r,o,s,a){if(wr(o)){var u=!0;Kf(r)}else u=!1;if(pl(r,a),r.stateNode===null)xf(n,r),y5(r,o,s),Cv(r,o,s,a),s=!0;else if(n===null){var h=r.stateNode,f=r.memoizedProps;h.props=f;var m=h.context,k=o.contextType;typeof k=="object"&&k!==null?k=ro(k):(k=wr(o)?Ra:Xn.current,k=kl(r,k));var v=o.getDerivedStateFromProps,_=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function";_||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(f!==s||m!==k)&&J2(r,h,s,k),ms=!1;var C=r.memoizedState;h.state=C,Xf(r,s,h,a),m=r.memoizedState,f!==s||C!==m||br.current||ms?(typeof v=="function"&&(_v(r,o,v,s),m=r.memoizedState),(f=ms||Z2(r,o,f,s,C,m,k))?(_||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(r.flags|=4194308)):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=s,r.memoizedState=m),h.props=s,h.state=m,h.context=k,s=f):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),s=!1)}else{h=r.stateNode,w5(n,r),f=r.memoizedProps,k=r.type===r.elementType?f:yo(r.type,f),h.props=k,_=r.pendingProps,C=h.context,m=o.contextType,typeof m=="object"&&m!==null?m=ro(m):(m=wr(o)?Ra:Xn.current,m=kl(r,m));var x=o.getDerivedStateFromProps;(v=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(f!==_||C!==m)&&J2(r,h,s,m),ms=!1,C=r.memoizedState,h.state=C,Xf(r,s,h,a);var S=r.memoizedState;f!==_||C!==S||br.current||ms?(typeof x=="function"&&(_v(r,o,x,s),S=r.memoizedState),(k=ms||Z2(r,o,k,s,C,S,m)||!1)?(v||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,S,m),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,S,m)),typeof h.componentDidUpdate=="function"&&(r.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof h.componentDidUpdate!="function"||f===n.memoizedProps&&C===n.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||f===n.memoizedProps&&C===n.memoizedState||(r.flags|=1024),r.memoizedProps=s,r.memoizedState=S),h.props=s,h.state=S,h.context=m,s=k):(typeof h.componentDidUpdate!="function"||f===n.memoizedProps&&C===n.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||f===n.memoizedProps&&C===n.memoizedState||(r.flags|=1024),s=!1)}return Ev(n,r,o,s,u,a)}function Ev(n,r,o,s,a,u){K5(n,r);var h=(r.flags&128)!==0;if(!s&&!h)return a&&Y2(r,o,!1),ji(n,r,u);s=r.stateNode,b8.current=r;var f=h&&typeof o.getDerivedStateFromError!="function"?null:s.render();return r.flags|=1,n!==null&&h?(r.child=wl(r,n.child,null,u),r.child=wl(r,null,f,u)):nr(n,r,f,u),r.memoizedState=s.state,a&&Y2(r,o,!0),r.child}function G5(n){var r=n.stateNode;r.pendingContext?$2(n,r.pendingContext,r.pendingContext!==r.context):r.context&&$2(n,r.context,!1),ty(n,r.containerInfo)}function cT(n,r,o,s,a){return bl(),G0(a),r.flags|=256,nr(n,r,o,s),r.child}var Sv={dehydrated:null,treeContext:null,retryLane:0};function Dv(n){return{baseLanes:n,cachePool:null,transitions:null}}function Q5(n,r,o){var s=r.pendingProps,a=Zt.current,u=!1,h=(r.flags&128)!==0,f;if((f=h)||(f=n!==null&&n.memoizedState===null?!1:(a&2)!==0),f?(u=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(a|=1),Vt(Zt,a&1),n===null)return vv(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(r.mode&1?n.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(h=s.children,n=s.fallback,u?(s=r.mode,u=r.child,h={mode:"hidden",children:h},!(s&1)&&u!==null?(u.childLanes=0,u.pendingProps=h):u=Kg(h,s,0,null),n=Pa(n,s,o,null),u.return=r,n.return=r,u.sibling=n,r.child=u,r.child.memoizedState=Dv(o),r.memoizedState=Sv,n):ly(r,h));if(a=n.memoizedState,a!==null&&(f=a.dehydrated,f!==null))return w8(n,r,h,s,f,a,o);if(u){u=s.fallback,h=r.mode,a=n.child,f=a.sibling;var m={mode:"hidden",children:s.children};return!(h&1)&&r.child!==a?(s=r.child,s.childLanes=0,s.pendingProps=m,r.deletions=null):(s=Rs(a,m),s.subtreeFlags=a.subtreeFlags&14680064),f!==null?u=Rs(f,u):(u=Pa(u,h,o,null),u.flags|=2),u.return=r,s.return=r,s.sibling=u,r.child=s,s=u,u=r.child,h=n.child.memoizedState,h=h===null?Dv(o):{baseLanes:h.baseLanes|o,cachePool:null,transitions:h.transitions},u.memoizedState=h,u.childLanes=n.childLanes&~o,r.memoizedState=Sv,s}return u=n.child,n=u.sibling,s=Rs(u,{mode:"visible",children:s.children}),!(r.mode&1)&&(s.lanes=o),s.return=r,s.sibling=null,n!==null&&(o=r.deletions,o===null?(r.deletions=[n],r.flags|=16):o.push(n)),r.child=s,r.memoizedState=null,s}function ly(n,r){return r=Kg({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Xp(n,r,o,s){return s!==null&&G0(s),wl(r,n.child,null,o),n=ly(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function w8(n,r,o,s,a,u,h){if(o)return r.flags&256?(r.flags&=-257,s=kw(Error(me(422))),Xp(n,r,h,s)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(u=s.fallback,a=r.mode,s=Kg({mode:"visible",children:s.children},a,0,null),u=Pa(u,a,h,null),u.flags|=2,s.return=r,u.return=r,s.sibling=u,r.child=s,r.mode&1&&wl(r,n.child,null,h),r.child.memoizedState=Dv(h),r.memoizedState=Sv,u);if(!(r.mode&1))return Xp(n,r,h,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var f=s.dgst;return s=f,u=Error(me(419)),s=kw(u,s,void 0),Xp(n,r,h,s)}if(f=(h&n.childLanes)!==0,kr||f){if(s=Pn,s!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|h)?0:a,a!==0&&a!==u.retryLane&&(u.retryLane=a,Li(n,a),So(s,n,a,-1))}return gy(),s=kw(Error(me(421))),Xp(n,r,h,s)}return a.data==="$?"?(r.flags|=128,r.child=n.child,r=P8.bind(null,n),a._reactRetry=r,null):(n=u.treeContext,Pr=Ps(a.nextSibling),Rr=r,Qt=!0,Ao=null,n!==null&&(Qr[Zr++]=Ii,Qr[Zr++]=Mi,Qr[Zr++]=La,Ii=n.id,Mi=n.overflow,La=r),r=ly(r,s.children),r.flags|=4096,r)}function lT(n,r,o){n.lanes|=r;var s=n.alternate;s!==null&&(s.lanes|=r),yv(n.return,r,o)}function bw(n,r,o,s,a){var u=n.memoizedState;u===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:a}:(u.isBackwards=r,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=o,u.tailMode=a)}function Z5(n,r,o){var s=r.pendingProps,a=s.revealOrder,u=s.tail;if(nr(n,r,s.children,o),s=Zt.current,s&2)s=s&1|2,r.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&lT(n,o,r);else if(n.tag===19)lT(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s&=1}if(Vt(Zt,s),!(r.mode&1))r.memoizedState=null;else switch(a){case"forwards":for(o=r.child,a=null;o!==null;)n=o.alternate,n!==null&&eg(n)===null&&(a=o),o=o.sibling;o=a,o===null?(a=r.child,r.child=null):(a=o.sibling,o.sibling=null),bw(r,!1,a,o,u);break;case"backwards":for(o=null,a=r.child,r.child=null;a!==null;){if(n=a.alternate,n!==null&&eg(n)===null){r.child=a;break}n=a.sibling,a.sibling=o,o=a,a=n}bw(r,!0,o,null,u);break;case"together":bw(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function xf(n,r){!(r.mode&1)&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function ji(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),za|=r.lanes,!(o&r.childLanes))return null;if(n!==null&&r.child!==n.child)throw Error(me(153));if(r.child!==null){for(n=r.child,o=Rs(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=Rs(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function v8(n,r,o){switch(r.tag){case 3:G5(r),bl();break;case 5:A5(r);break;case 1:wr(r.type)&&Kf(r);break;case 4:ty(r,r.stateNode.containerInfo);break;case 10:var s=r.type._context,a=r.memoizedProps.value;Vt(Zf,s._currentValue),s._currentValue=a;break;case 13:if(s=r.memoizedState,s!==null)return s.dehydrated!==null?(Vt(Zt,Zt.current&1),r.flags|=128,null):o&r.child.childLanes?Q5(n,r,o):(Vt(Zt,Zt.current&1),n=ji(n,r,o),n!==null?n.sibling:null);Vt(Zt,Zt.current&1);break;case 19:if(s=(o&r.childLanes)!==0,n.flags&128){if(s)return Z5(n,r,o);r.flags|=128}if(a=r.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Vt(Zt,Zt.current),s)break;return null;case 22:case 23:return r.lanes=0,q5(n,r,o)}return ji(n,r,o)}var J5,Tv,X5,eP;J5=function(n,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Tv=function(){};X5=function(n,r,o,s){var a=n.memoizedProps;if(a!==s){n=r.stateNode,Da(si.current);var u=null;switch(o){case"input":a=Zw(n,a),s=Zw(n,s),u=[];break;case"select":a=en({},a,{value:void 0}),s=en({},s,{value:void 0}),u=[];break;case"textarea":a=ev(n,a),s=ev(n,s),u=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(n.onclick=Yf)}nv(o,s);var h;o=null;for(k in a)if(!s.hasOwnProperty(k)&&a.hasOwnProperty(k)&&a[k]!=null)if(k==="style"){var f=a[k];for(h in f)f.hasOwnProperty(h)&&(o||(o={}),o[h]="")}else k!=="dangerouslySetInnerHTML"&&k!=="children"&&k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(vd.hasOwnProperty(k)?u||(u=[]):(u=u||[]).push(k,null));for(k in s){var m=s[k];if(f=a?.[k],s.hasOwnProperty(k)&&m!==f&&(m!=null||f!=null))if(k==="style")if(f){for(h in f)!f.hasOwnProperty(h)||m&&m.hasOwnProperty(h)||(o||(o={}),o[h]="");for(h in m)m.hasOwnProperty(h)&&f[h]!==m[h]&&(o||(o={}),o[h]=m[h])}else o||(u||(u=[]),u.push(k,o)),o=m;else k==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,f=f?f.__html:void 0,m!=null&&f!==m&&(u=u||[]).push(k,m)):k==="children"?typeof m!="string"&&typeof m!="number"||(u=u||[]).push(k,""+m):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&(vd.hasOwnProperty(k)?(m!=null&&k==="onScroll"&&$t("scroll",n),u||f===m||(u=[])):(u=u||[]).push(k,m))}o&&(u=u||[]).push("style",o);var k=u;(r.updateQueue=k)&&(r.flags|=4)}};eP=function(n,r,o,s){o!==s&&(r.flags|=4)};function Hu(n,r){if(!Qt)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function Kn(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,s=0;if(r)for(var a=n.child;a!==null;)o|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=n,a=a.sibling;else for(a=n.child;a!==null;)o|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=n,a=a.sibling;return n.subtreeFlags|=s,n.childLanes=o,r}function y8(n,r,o){var s=r.pendingProps;switch(K0(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(r),null;case 1:return wr(r.type)&&qf(),Kn(r),null;case 3:return s=r.stateNode,vl(),Yt(br),Yt(Xn),ry(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Zp(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Ao!==null&&(Lv(Ao),Ao=null))),Tv(n,r),Kn(r),null;case 5:ny(r);var a=Da(Pd.current);if(o=r.type,n!==null&&r.stateNode!=null)X5(n,r,o,s,a),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!s){if(r.stateNode===null)throw Error(me(166));return Kn(r),null}if(n=Da(si.current),Zp(r)){s=r.stateNode,o=r.type;var u=r.memoizedProps;switch(s[ei]=r,s[Id]=u,n=(r.mode&1)!==0,o){case"dialog":$t("cancel",s),$t("close",s);break;case"iframe":case"object":case"embed":$t("load",s);break;case"video":case"audio":for(a=0;a<td.length;a++)$t(td[a],s);break;case"source":$t("error",s);break;case"img":case"image":case"link":$t("error",s),$t("load",s);break;case"details":$t("toggle",s);break;case"input":b2(s,u),$t("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},$t("invalid",s);break;case"textarea":v2(s,u),$t("invalid",s)}nv(o,u),a=null;for(var h in u)if(u.hasOwnProperty(h)){var f=u[h];h==="children"?typeof f=="string"?s.textContent!==f&&(u.suppressHydrationWarning!==!0&&Qp(s.textContent,f,n),a=["children",f]):typeof f=="number"&&s.textContent!==""+f&&(u.suppressHydrationWarning!==!0&&Qp(s.textContent,f,n),a=["children",""+f]):vd.hasOwnProperty(h)&&f!=null&&h==="onScroll"&&$t("scroll",s)}switch(o){case"input":Vp(s),w2(s,u,!0);break;case"textarea":Vp(s),y2(s);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(s.onclick=Yf)}s=a,r.updateQueue=s,s!==null&&(r.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=SM(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof s.is=="string"?n=h.createElement(o,{is:s.is}):(n=h.createElement(o),o==="select"&&(h=n,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):n=h.createElementNS(n,o),n[ei]=r,n[Id]=s,J5(n,r,!1,!1),r.stateNode=n;e:{switch(h=rv(o,s),o){case"dialog":$t("cancel",n),$t("close",n),a=s;break;case"iframe":case"object":case"embed":$t("load",n),a=s;break;case"video":case"audio":for(a=0;a<td.length;a++)$t(td[a],n);a=s;break;case"source":$t("error",n),a=s;break;case"img":case"image":case"link":$t("error",n),$t("load",n),a=s;break;case"details":$t("toggle",n),a=s;break;case"input":b2(n,s),a=Zw(n,s),$t("invalid",n);break;case"option":a=s;break;case"select":n._wrapperState={wasMultiple:!!s.multiple},a=en({},s,{value:void 0}),$t("invalid",n);break;case"textarea":v2(n,s),a=ev(n,s),$t("invalid",n);break;default:a=s}nv(o,a),f=a;for(u in f)if(f.hasOwnProperty(u)){var m=f[u];u==="style"?IM(n,m):u==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&DM(n,m)):u==="children"?typeof m=="string"?(o!=="textarea"||m!=="")&&yd(n,m):typeof m=="number"&&yd(n,""+m):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vd.hasOwnProperty(u)?m!=null&&u==="onScroll"&&$t("scroll",n):m!=null&&N0(n,u,m,h))}switch(o){case"input":Vp(n),w2(n,s,!1);break;case"textarea":Vp(n),y2(n);break;case"option":s.value!=null&&n.setAttribute("value",""+Us(s.value));break;case"select":n.multiple=!!s.multiple,u=s.value,u!=null?ll(n,!!s.multiple,u,!1):s.defaultValue!=null&&ll(n,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(n.onclick=Yf)}switch(o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Kn(r),null;case 6:if(n&&r.stateNode!=null)eP(n,r,n.memoizedProps,s);else{if(typeof s!="string"&&r.stateNode===null)throw Error(me(166));if(o=Da(Pd.current),Da(si.current),Zp(r)){if(s=r.stateNode,o=r.memoizedProps,s[ei]=r,(u=s.nodeValue!==o)&&(n=Rr,n!==null))switch(n.tag){case 3:Qp(s.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Qp(s.nodeValue,o,(n.mode&1)!==0)}u&&(r.flags|=4)}else s=(o.nodeType===9?o:o.ownerDocument).createTextNode(s),s[ei]=r,r.stateNode=s}return Kn(r),null;case 13:if(Yt(Zt),s=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Qt&&Pr!==null&&r.mode&1&&!(r.flags&128))k5(),bl(),r.flags|=98560,u=!1;else if(u=Zp(r),s!==null&&s.dehydrated!==null){if(n===null){if(!u)throw Error(me(318));if(u=r.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(me(317));u[ei]=r}else bl(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Kn(r),u=!1}else Ao!==null&&(Lv(Ao),Ao=null),u=!0;if(!u)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(s=s!==null,s!==(n!==null&&n.memoizedState!==null)&&s&&(r.child.flags|=8192,r.mode&1&&(n===null||Zt.current&1?En===0&&(En=3):gy())),r.updateQueue!==null&&(r.flags|=4),Kn(r),null);case 4:return vl(),Tv(n,r),n===null&&Dd(r.stateNode.containerInfo),Kn(r),null;case 10:return J0(r.type._context),Kn(r),null;case 17:return wr(r.type)&&qf(),Kn(r),null;case 19:if(Yt(Zt),u=r.memoizedState,u===null)return Kn(r),null;if(s=(r.flags&128)!==0,h=u.rendering,h===null)if(s)Hu(u,!1);else{if(En!==0||n!==null&&n.flags&128)for(n=r.child;n!==null;){if(h=eg(n),h!==null){for(r.flags|=128,Hu(u,!1),s=h.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),r.subtreeFlags=0,s=o,o=r.child;o!==null;)u=o,n=s,u.flags&=14680066,h=u.alternate,h===null?(u.childLanes=0,u.lanes=n,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=h.childLanes,u.lanes=h.lanes,u.child=h.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=h.memoizedProps,u.memoizedState=h.memoizedState,u.updateQueue=h.updateQueue,u.type=h.type,n=h.dependencies,u.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return Vt(Zt,Zt.current&1|2),r.child}n=n.sibling}u.tail!==null&&hn()>_l&&(r.flags|=128,s=!0,Hu(u,!1),r.lanes=4194304)}else{if(!s)if(n=eg(h),n!==null){if(r.flags|=128,s=!0,o=n.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Hu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!Qt)return Kn(r),null}else 2*hn()-u.renderingStartTime>_l&&o!==1073741824&&(r.flags|=128,s=!0,Hu(u,!1),r.lanes=4194304);u.isBackwards?(h.sibling=r.child,r.child=h):(o=u.last,o!==null?o.sibling=h:r.child=h,u.last=h)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=hn(),r.sibling=null,o=Zt.current,Vt(Zt,s?o&1|2:o&1),r):(Kn(r),null);case 22:case 23:return fy(),s=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==s&&(r.flags|=8192),s&&r.mode&1?Ir&1073741824&&(Kn(r),r.subtreeFlags&6&&(r.flags|=8192)):Kn(r),null;case 24:return null;case 25:return null}throw Error(me(156,r.tag))}function _8(n,r){switch(K0(r),r.tag){case 1:return wr(r.type)&&qf(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return vl(),Yt(br),Yt(Xn),ry(),n=r.flags,n&65536&&!(n&128)?(r.flags=n&-65537|128,r):null;case 5:return ny(r),null;case 13:if(Yt(Zt),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(me(340));bl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Yt(Zt),null;case 4:return vl(),null;case 10:return J0(r.type._context),null;case 22:case 23:return fy(),null;case 24:return null;default:return null}}var ef=!1,Zn=!1,C8=typeof WeakSet=="function"?WeakSet:Set,Se=null;function il(n,r){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(s){an(n,r,s)}else o.current=null}function Iv(n,r,o){try{o()}catch(s){an(n,r,s)}}var uT=!1;function A8(n,r){if(pv=Hf,n=o5(),Y0(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var a=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{o.nodeType,u.nodeType}catch{o=null;break e}var h=0,f=-1,m=-1,k=0,v=0,_=n,C=null;t:for(;;){for(var x;_!==o||a!==0&&_.nodeType!==3||(f=h+a),_!==u||s!==0&&_.nodeType!==3||(m=h+s),_.nodeType===3&&(h+=_.nodeValue.length),(x=_.firstChild)!==null;)C=_,_=x;for(;;){if(_===n)break t;if(C===o&&++k===a&&(f=h),C===u&&++v===s&&(m=h),(x=_.nextSibling)!==null)break;_=C,C=_.parentNode}_=x}o=f===-1||m===-1?null:{start:f,end:m}}else o=null}o=o||{start:0,end:0}}else o=null;for(fv={focusedElem:n,selectionRange:o},Hf=!1,Se=r;Se!==null;)if(r=Se,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Se=n;else for(;Se!==null;){r=Se;try{var S=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,B=S.memoizedState,N=r.stateNode,I=N.getSnapshotBeforeUpdate(r.elementType===r.type?T:yo(r.type,T),B);N.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var L=r.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(V){an(r,r.return,V)}if(n=r.sibling,n!==null){n.return=r.return,Se=n;break}Se=r.return}return S=uT,uT=!1,S}function ud(n,r,o){var s=r.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var u=a.destroy;a.destroy=void 0,u!==void 0&&Iv(r,o,u)}a=a.next}while(a!==s)}}function Yg(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var s=o.create;o.destroy=s()}o=o.next}while(o!==r)}}function Mv(n){var r=n.ref;if(r!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof r=="function"?r(n):r.current=n}}function tP(n){var r=n.alternate;r!==null&&(n.alternate=null,tP(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[ei],delete r[Id],delete r[kv],delete r[s8],delete r[a8])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function nP(n){return n.tag===5||n.tag===3||n.tag===4}function dT(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||nP(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Pv(n,r,o){var s=n.tag;if(s===5||s===6)n=n.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(n,r):o.insertBefore(n,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(n,o)):(r=o,r.appendChild(n)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Yf));else if(s!==4&&(n=n.child,n!==null))for(Pv(n,r,o),n=n.sibling;n!==null;)Pv(n,r,o),n=n.sibling}function Nv(n,r,o){var s=n.tag;if(s===5||s===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(s!==4&&(n=n.child,n!==null))for(Nv(n,r,o),n=n.sibling;n!==null;)Nv(n,r,o),n=n.sibling}var Hn=null,_o=!1;function hs(n,r,o){for(o=o.child;o!==null;)rP(n,r,o),o=o.sibling}function rP(n,r,o){if(ii&&typeof ii.onCommitFiberUnmount=="function")try{ii.onCommitFiberUnmount(jg,o)}catch{}switch(o.tag){case 5:Zn||il(o,r);case 6:var s=Hn,a=_o;Hn=null,hs(n,r,o),Hn=s,_o=a,Hn!==null&&(_o?(n=Hn,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):Hn.removeChild(o.stateNode));break;case 18:Hn!==null&&(_o?(n=Hn,o=o.stateNode,n.nodeType===8?dw(n.parentNode,o):n.nodeType===1&&dw(n,o),xd(n)):dw(Hn,o.stateNode));break;case 4:s=Hn,a=_o,Hn=o.stateNode.containerInfo,_o=!0,hs(n,r,o),Hn=s,_o=a;break;case 0:case 11:case 14:case 15:if(!Zn&&(s=o.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var u=a,h=u.destroy;u=u.tag,h!==void 0&&(u&2||u&4)&&Iv(o,r,h),a=a.next}while(a!==s)}hs(n,r,o);break;case 1:if(!Zn&&(il(o,r),s=o.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=o.memoizedProps,s.state=o.memoizedState,s.componentWillUnmount()}catch(f){an(o,r,f)}hs(n,r,o);break;case 21:hs(n,r,o);break;case 22:o.mode&1?(Zn=(s=Zn)||o.memoizedState!==null,hs(n,r,o),Zn=s):hs(n,r,o);break;default:hs(n,r,o)}}function hT(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new C8),r.forEach(function(s){var a=N8.bind(null,n,s);o.has(s)||(o.add(s),s.then(a,a))})}}function wo(n,r){var o=r.deletions;if(o!==null)for(var s=0;s<o.length;s++){var a=o[s];try{var u=n,h=r,f=h;e:for(;f!==null;){switch(f.tag){case 5:Hn=f.stateNode,_o=!1;break e;case 3:Hn=f.stateNode.containerInfo,_o=!0;break e;case 4:Hn=f.stateNode.containerInfo,_o=!0;break e}f=f.return}if(Hn===null)throw Error(me(160));rP(u,h,a),Hn=null,_o=!1;var m=a.alternate;m!==null&&(m.return=null),a.return=null}catch(k){an(a,r,k)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)oP(r,n),r=r.sibling}function oP(n,r){var o=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(wo(r,n),Zo(n),s&4){try{ud(3,n,n.return),Yg(3,n)}catch(T){an(n,n.return,T)}try{ud(5,n,n.return)}catch(T){an(n,n.return,T)}}break;case 1:wo(r,n),Zo(n),s&512&&o!==null&&il(o,o.return);break;case 5:if(wo(r,n),Zo(n),s&512&&o!==null&&il(o,o.return),n.flags&32){var a=n.stateNode;try{yd(a,"")}catch(T){an(n,n.return,T)}}if(s&4&&(a=n.stateNode,a!=null)){var u=n.memoizedProps,h=o!==null?o.memoizedProps:u,f=n.type,m=n.updateQueue;if(n.updateQueue=null,m!==null)try{f==="input"&&u.type==="radio"&&u.name!=null&&xM(a,u),rv(f,h);var k=rv(f,u);for(h=0;h<m.length;h+=2){var v=m[h],_=m[h+1];v==="style"?IM(a,_):v==="dangerouslySetInnerHTML"?DM(a,_):v==="children"?yd(a,_):N0(a,v,_,k)}switch(f){case"input":Jw(a,u);break;case"textarea":EM(a,u);break;case"select":var C=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!u.multiple;var x=u.value;x!=null?ll(a,!!u.multiple,x,!1):C!==!!u.multiple&&(u.defaultValue!=null?ll(a,!!u.multiple,u.defaultValue,!0):ll(a,!!u.multiple,u.multiple?[]:"",!1))}a[Id]=u}catch(T){an(n,n.return,T)}}break;case 6:if(wo(r,n),Zo(n),s&4){if(n.stateNode===null)throw Error(me(162));a=n.stateNode,u=n.memoizedProps;try{a.nodeValue=u}catch(T){an(n,n.return,T)}}break;case 3:if(wo(r,n),Zo(n),s&4&&o!==null&&o.memoizedState.isDehydrated)try{xd(r.containerInfo)}catch(T){an(n,n.return,T)}break;case 4:wo(r,n),Zo(n);break;case 13:wo(r,n),Zo(n),a=n.child,a.flags&8192&&(u=a.memoizedState!==null,a.stateNode.isHidden=u,!u||a.alternate!==null&&a.alternate.memoizedState!==null||(hy=hn())),s&4&&hT(n);break;case 22:if(v=o!==null&&o.memoizedState!==null,n.mode&1?(Zn=(k=Zn)||v,wo(r,n),Zn=k):wo(r,n),Zo(n),s&8192){if(k=n.memoizedState!==null,(n.stateNode.isHidden=k)&&!v&&n.mode&1)for(Se=n,v=n.child;v!==null;){for(_=Se=v;Se!==null;){switch(C=Se,x=C.child,C.tag){case 0:case 11:case 14:case 15:ud(4,C,C.return);break;case 1:il(C,C.return);var S=C.stateNode;if(typeof S.componentWillUnmount=="function"){s=C,o=C.return;try{r=s,S.props=r.memoizedProps,S.state=r.memoizedState,S.componentWillUnmount()}catch(T){an(s,o,T)}}break;case 5:il(C,C.return);break;case 22:if(C.memoizedState!==null){fT(_);continue}}x!==null?(x.return=C,Se=x):fT(_)}v=v.sibling}e:for(v=null,_=n;;){if(_.tag===5){if(v===null){v=_;try{a=_.stateNode,k?(u=a.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(f=_.stateNode,m=_.memoizedProps.style,h=m!=null&&m.hasOwnProperty("display")?m.display:null,f.style.display=TM("display",h))}catch(T){an(n,n.return,T)}}}else if(_.tag===6){if(v===null)try{_.stateNode.nodeValue=k?"":_.memoizedProps}catch(T){an(n,n.return,T)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===n)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;v===_&&(v=null),_=_.return}v===_&&(v=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:wo(r,n),Zo(n),s&4&&hT(n);break;case 21:break;default:wo(r,n),Zo(n)}}function Zo(n){var r=n.flags;if(r&2){try{e:{for(var o=n.return;o!==null;){if(nP(o)){var s=o;break e}o=o.return}throw Error(me(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(yd(a,""),s.flags&=-33);var u=dT(n);Nv(n,u,a);break;case 3:case 4:var h=s.stateNode.containerInfo,f=dT(n);Pv(n,f,h);break;default:throw Error(me(161))}}catch(m){an(n,n.return,m)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function x8(n,r,o){Se=n,iP(n)}function iP(n,r,o){for(var s=(n.mode&1)!==0;Se!==null;){var a=Se,u=a.child;if(a.tag===22&&s){var h=a.memoizedState!==null||ef;if(!h){var f=a.alternate,m=f!==null&&f.memoizedState!==null||Zn;f=ef;var k=Zn;if(ef=h,(Zn=m)&&!k)for(Se=a;Se!==null;)h=Se,m=h.child,h.tag===22&&h.memoizedState!==null?gT(a):m!==null?(m.return=h,Se=m):gT(a);for(;u!==null;)Se=u,iP(u),u=u.sibling;Se=a,ef=f,Zn=k}pT(n)}else a.subtreeFlags&8772&&u!==null?(u.return=a,Se=u):pT(n)}}function pT(n){for(;Se!==null;){var r=Se;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Zn||Yg(5,r);break;case 1:var s=r.stateNode;if(r.flags&4&&!Zn)if(o===null)s.componentDidMount();else{var a=r.elementType===r.type?o.memoizedProps:yo(r.type,o.memoizedProps);s.componentDidUpdate(a,o.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var u=r.updateQueue;u!==null&&Q2(r,u,s);break;case 3:var h=r.updateQueue;if(h!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Q2(r,h,o)}break;case 5:var f=r.stateNode;if(o===null&&r.flags&4){o=f;var m=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&o.focus();break;case"img":m.src&&(o.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var k=r.alternate;if(k!==null){var v=k.memoizedState;if(v!==null){var _=v.dehydrated;_!==null&&xd(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}Zn||r.flags&512&&Mv(r)}catch(C){an(r,r.return,C)}}if(r===n){Se=null;break}if(o=r.sibling,o!==null){o.return=r.return,Se=o;break}Se=r.return}}function fT(n){for(;Se!==null;){var r=Se;if(r===n){Se=null;break}var o=r.sibling;if(o!==null){o.return=r.return,Se=o;break}Se=r.return}}function gT(n){for(;Se!==null;){var r=Se;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Yg(4,r)}catch(m){an(r,o,m)}break;case 1:var s=r.stateNode;if(typeof s.componentDidMount=="function"){var a=r.return;try{s.componentDidMount()}catch(m){an(r,a,m)}}var u=r.return;try{Mv(r)}catch(m){an(r,u,m)}break;case 5:var h=r.return;try{Mv(r)}catch(m){an(r,h,m)}}}catch(m){an(r,r.return,m)}if(r===n){Se=null;break}var f=r.sibling;if(f!==null){f.return=r.return,Se=f;break}Se=r.return}}var E8=Math.ceil,rg=Vi.ReactCurrentDispatcher,uy=Vi.ReactCurrentOwner,to=Vi.ReactCurrentBatchConfig,bt=0,Pn=null,Cn=null,Wn=0,Ir=0,sl=$s(0),En=0,Rd=null,za=0,qg=0,dy=0,dd=null,mr=null,hy=0,_l=1/0,xi=null,og=!1,Ov=null,Os=null,tf=!1,xs=null,ig=0,hd=0,Bv=null,Ef=-1,Sf=0;function ir(){return bt&6?hn():Ef!==-1?Ef:Ef=hn()}function Bs(n){return n.mode&1?bt&2&&Wn!==0?Wn&-Wn:l8.transition!==null?(Sf===0&&(Sf=VM()),Sf):(n=Nt,n!==0||(n=window.event,n=n===void 0?16:GM(n.type)),n):1}function So(n,r,o,s){if(50<hd)throw hd=0,Bv=null,Error(me(185));Kd(n,o,s),(!(bt&2)||n!==Pn)&&(n===Pn&&(!(bt&2)&&(qg|=o),En===4&&ys(n,Wn)),vr(n,s),o===1&&bt===0&&!(r.mode&1)&&(_l=hn()+500,Hg&&Ys()))}function vr(n,r){var o=n.callbackNode;l7(n,r);var s=Vf(n,n===Pn?Wn:0);if(s===0)o!==null&&A2(o),n.callbackNode=null,n.callbackPriority=0;else if(r=s&-s,n.callbackPriority!==r){if(o!=null&&A2(o),r===1)n.tag===0?c8(mT.bind(null,n)):f5(mT.bind(null,n)),o8(function(){!(bt&6)&&Ys()}),o=null;else{switch(HM(s)){case 1:o=j0;break;case 4:o=FM;break;case 16:o=Uf;break;case 536870912:o=UM;break;default:o=Uf}o=pP(o,sP.bind(null,n))}n.callbackPriority=r,n.callbackNode=o}}function sP(n,r){if(Ef=-1,Sf=0,bt&6)throw Error(me(327));var o=n.callbackNode;if(fl()&&n.callbackNode!==o)return null;var s=Vf(n,n===Pn?Wn:0);if(s===0)return null;if(s&30||s&n.expiredLanes||r)r=sg(n,s);else{r=s;var a=bt;bt|=2;var u=cP();(Pn!==n||Wn!==r)&&(xi=null,_l=hn()+500,Ma(n,r));do try{T8();break}catch(f){aP(n,f)}while(1);Z0(),rg.current=u,bt=a,Cn!==null?r=0:(Pn=null,Wn=0,r=En)}if(r!==0){if(r===2&&(a=cv(n),a!==0&&(s=a,r=Rv(n,a))),r===1)throw o=Rd,Ma(n,0),ys(n,s),vr(n,hn()),o;if(r===6)ys(n,s);else{if(a=n.current.alternate,!(s&30)&&!S8(a)&&(r=sg(n,s),r===2&&(u=cv(n),u!==0&&(s=u,r=Rv(n,u))),r===1))throw o=Rd,Ma(n,0),ys(n,s),vr(n,hn()),o;switch(n.finishedWork=a,n.finishedLanes=s,r){case 0:case 1:throw Error(me(345));case 2:_a(n,mr,xi);break;case 3:if(ys(n,s),(s&130023424)===s&&(r=hy+500-hn(),10<r)){if(Vf(n,0)!==0)break;if(a=n.suspendedLanes,(a&s)!==s){ir(),n.pingedLanes|=n.suspendedLanes&a;break}n.timeoutHandle=mv(_a.bind(null,n,mr,xi),r);break}_a(n,mr,xi);break;case 4:if(ys(n,s),(s&4194240)===s)break;for(r=n.eventTimes,a=-1;0<s;){var h=31-Eo(s);u=1<<h,h=r[h],h>a&&(a=h),s&=~u}if(s=a,s=hn()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*E8(s/1960))-s,10<s){n.timeoutHandle=mv(_a.bind(null,n,mr,xi),s);break}_a(n,mr,xi);break;case 5:_a(n,mr,xi);break;default:throw Error(me(329))}}}return vr(n,hn()),n.callbackNode===o?sP.bind(null,n):null}function Rv(n,r){var o=dd;return n.current.memoizedState.isDehydrated&&(Ma(n,r).flags|=256),n=sg(n,r),n!==2&&(r=mr,mr=o,r!==null&&Lv(r)),n}function Lv(n){mr===null?mr=n:mr.push.apply(mr,n)}function S8(n){for(var r=n;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var s=0;s<o.length;s++){var a=o[s],u=a.getSnapshot;a=a.value;try{if(!To(u(),a))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ys(n,r){for(r&=~dy,r&=~qg,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var o=31-Eo(r),s=1<<o;n[o]=-1,r&=~s}}function mT(n){if(bt&6)throw Error(me(327));fl();var r=Vf(n,0);if(!(r&1))return vr(n,hn()),null;var o=sg(n,r);if(n.tag!==0&&o===2){var s=cv(n);s!==0&&(r=s,o=Rv(n,s))}if(o===1)throw o=Rd,Ma(n,0),ys(n,r),vr(n,hn()),o;if(o===6)throw Error(me(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,_a(n,mr,xi),vr(n,hn()),null}function py(n,r){var o=bt;bt|=1;try{return n(r)}finally{bt=o,bt===0&&(_l=hn()+500,Hg&&Ys())}}function Fa(n){xs!==null&&xs.tag===0&&!(bt&6)&&fl();var r=bt;bt|=1;var o=to.transition,s=Nt;try{if(to.transition=null,Nt=1,n)return n()}finally{Nt=s,to.transition=o,bt=r,!(bt&6)&&Ys()}}function fy(){Ir=sl.current,Yt(sl)}function Ma(n,r){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,r8(o)),Cn!==null)for(o=Cn.return;o!==null;){var s=o;switch(K0(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&qf();break;case 3:vl(),Yt(br),Yt(Xn),ry();break;case 5:ny(s);break;case 4:vl();break;case 13:Yt(Zt);break;case 19:Yt(Zt);break;case 10:J0(s.type._context);break;case 22:case 23:fy()}o=o.return}if(Pn=n,Cn=n=Rs(n.current,null),Wn=Ir=r,En=0,Rd=null,dy=qg=za=0,mr=dd=null,Sa!==null){for(r=0;r<Sa.length;r++)if(o=Sa[r],s=o.interleaved,s!==null){o.interleaved=null;var a=s.next,u=o.pending;if(u!==null){var h=u.next;u.next=a,s.next=h}o.pending=s}Sa=null}return n}function aP(n,r){do{var o=Cn;try{if(Z0(),Cf.current=ng,tg){for(var s=Xt.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}tg=!1}if(ja=0,Mn=xn=Xt=null,ld=!1,Nd=0,uy.current=null,o===null||o.return===null){En=1,Rd=r,Cn=null;break}e:{var u=n,h=o.return,f=o,m=r;if(r=Wn,f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var k=m,v=f,_=v.tag;if(!(v.mode&1)&&(_===0||_===11||_===15)){var C=v.alternate;C?(v.updateQueue=C.updateQueue,v.memoizedState=C.memoizedState,v.lanes=C.lanes):(v.updateQueue=null,v.memoizedState=null)}var x=rT(h);if(x!==null){x.flags&=-257,oT(x,h,f,u,r),x.mode&1&&nT(u,k,r),r=x,m=k;var S=r.updateQueue;if(S===null){var T=new Set;T.add(m),r.updateQueue=T}else S.add(m);break e}else{if(!(r&1)){nT(u,k,r),gy();break e}m=Error(me(426))}}else if(Qt&&f.mode&1){var B=rT(h);if(B!==null){!(B.flags&65536)&&(B.flags|=256),oT(B,h,f,u,r),G0(yl(m,f));break e}}u=m=yl(m,f),En!==4&&(En=2),dd===null?dd=[u]:dd.push(u),u=h;do{switch(u.tag){case 3:u.flags|=65536,r&=-r,u.lanes|=r;var N=W5(u,m,r);G2(u,N);break e;case 1:f=m;var I=u.type,L=u.stateNode;if(!(u.flags&128)&&(typeof I.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Os===null||!Os.has(L)))){u.flags|=65536,r&=-r,u.lanes|=r;var V=$5(u,f,r);G2(u,V);break e}}u=u.return}while(u!==null)}uP(o)}catch(K){r=K,Cn===o&&o!==null&&(Cn=o=o.return);continue}break}while(1)}function cP(){var n=rg.current;return rg.current=ng,n===null?ng:n}function gy(){(En===0||En===3||En===2)&&(En=4),Pn===null||!(za&268435455)&&!(qg&268435455)||ys(Pn,Wn)}function sg(n,r){var o=bt;bt|=2;var s=cP();(Pn!==n||Wn!==r)&&(xi=null,Ma(n,r));do try{D8();break}catch(a){aP(n,a)}while(1);if(Z0(),bt=o,rg.current=s,Cn!==null)throw Error(me(261));return Pn=null,Wn=0,En}function D8(){for(;Cn!==null;)lP(Cn)}function T8(){for(;Cn!==null&&!e7();)lP(Cn)}function lP(n){var r=hP(n.alternate,n,Ir);n.memoizedProps=n.pendingProps,r===null?uP(n):Cn=r,uy.current=null}function uP(n){var r=n;do{var o=r.alternate;if(n=r.return,r.flags&32768){if(o=_8(o,r),o!==null){o.flags&=32767,Cn=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{En=6,Cn=null;return}}else if(o=y8(o,r,Ir),o!==null){Cn=o;return}if(r=r.sibling,r!==null){Cn=r;return}Cn=r=n}while(r!==null);En===0&&(En=5)}function _a(n,r,o){var s=Nt,a=to.transition;try{to.transition=null,Nt=1,I8(n,r,o,s)}finally{to.transition=a,Nt=s}return null}function I8(n,r,o,s){do fl();while(xs!==null);if(bt&6)throw Error(me(327));o=n.finishedWork;var a=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(me(177));n.callbackNode=null,n.callbackPriority=0;var u=o.lanes|o.childLanes;if(u7(n,u),n===Pn&&(Cn=Pn=null,Wn=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||tf||(tf=!0,pP(Uf,function(){return fl(),null})),u=(o.flags&15990)!==0,o.subtreeFlags&15990||u){u=to.transition,to.transition=null;var h=Nt;Nt=1;var f=bt;bt|=4,uy.current=null,A8(n,o),oP(o,n),Q7(fv),Hf=!!pv,fv=pv=null,n.current=o,x8(o),t7(),bt=f,Nt=h,to.transition=u}else n.current=o;if(tf&&(tf=!1,xs=n,ig=a),u=n.pendingLanes,u===0&&(Os=null),o7(o.stateNode),vr(n,hn()),r!==null)for(s=n.onRecoverableError,o=0;o<r.length;o++)a=r[o],s(a.value,{componentStack:a.stack,digest:a.digest});if(og)throw og=!1,n=Ov,Ov=null,n;return ig&1&&n.tag!==0&&fl(),u=n.pendingLanes,u&1?n===Bv?hd++:(hd=0,Bv=n):hd=0,Ys(),null}function fl(){if(xs!==null){var n=HM(ig),r=to.transition,o=Nt;try{if(to.transition=null,Nt=16>n?16:n,xs===null)var s=!1;else{if(n=xs,xs=null,ig=0,bt&6)throw Error(me(331));var a=bt;for(bt|=4,Se=n.current;Se!==null;){var u=Se,h=u.child;if(Se.flags&16){var f=u.deletions;if(f!==null){for(var m=0;m<f.length;m++){var k=f[m];for(Se=k;Se!==null;){var v=Se;switch(v.tag){case 0:case 11:case 15:ud(8,v,u)}var _=v.child;if(_!==null)_.return=v,Se=_;else for(;Se!==null;){v=Se;var C=v.sibling,x=v.return;if(tP(v),v===k){Se=null;break}if(C!==null){C.return=x,Se=C;break}Se=x}}}var S=u.alternate;if(S!==null){var T=S.child;if(T!==null){S.child=null;do{var B=T.sibling;T.sibling=null,T=B}while(T!==null)}}Se=u}}if(u.subtreeFlags&2064&&h!==null)h.return=u,Se=h;else e:for(;Se!==null;){if(u=Se,u.flags&2048)switch(u.tag){case 0:case 11:case 15:ud(9,u,u.return)}var N=u.sibling;if(N!==null){N.return=u.return,Se=N;break e}Se=u.return}}var I=n.current;for(Se=I;Se!==null;){h=Se;var L=h.child;if(h.subtreeFlags&2064&&L!==null)L.return=h,Se=L;else e:for(h=I;Se!==null;){if(f=Se,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:Yg(9,f)}}catch(K){an(f,f.return,K)}if(f===h){Se=null;break e}var V=f.sibling;if(V!==null){V.return=f.return,Se=V;break e}Se=f.return}}if(bt=a,Ys(),ii&&typeof ii.onPostCommitFiberRoot=="function")try{ii.onPostCommitFiberRoot(jg,n)}catch{}s=!0}return s}finally{Nt=o,to.transition=r}}return!1}function kT(n,r,o){r=yl(o,r),r=W5(n,r,1),n=Ns(n,r,1),r=ir(),n!==null&&(Kd(n,1,r),vr(n,r))}function an(n,r,o){if(n.tag===3)kT(n,n,o);else for(;r!==null;){if(r.tag===3){kT(r,n,o);break}else if(r.tag===1){var s=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Os===null||!Os.has(s))){n=yl(o,n),n=$5(r,n,1),r=Ns(r,n,1),n=ir(),r!==null&&(Kd(r,1,n),vr(r,n));break}}r=r.return}}function M8(n,r,o){var s=n.pingCache;s!==null&&s.delete(r),r=ir(),n.pingedLanes|=n.suspendedLanes&o,Pn===n&&(Wn&o)===o&&(En===4||En===3&&(Wn&130023424)===Wn&&500>hn()-hy?Ma(n,0):dy|=o),vr(n,r)}function dP(n,r){r===0&&(n.mode&1?(r=$p,$p<<=1,!($p&130023424)&&($p=4194304)):r=1);var o=ir();n=Li(n,r),n!==null&&(Kd(n,r,o),vr(n,o))}function P8(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),dP(n,o)}function N8(n,r){var o=0;switch(n.tag){case 13:var s=n.stateNode,a=n.memoizedState;a!==null&&(o=a.retryLane);break;case 19:s=n.stateNode;break;default:throw Error(me(314))}s!==null&&s.delete(r),dP(n,o)}var hP;hP=function(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps||br.current)kr=!0;else{if(!(n.lanes&o)&&!(r.flags&128))return kr=!1,v8(n,r,o);kr=!!(n.flags&131072)}else kr=!1,Qt&&r.flags&1048576&&g5(r,Qf,r.index);switch(r.lanes=0,r.tag){case 2:var s=r.type;xf(n,r),n=r.pendingProps;var a=kl(r,Xn.current);pl(r,o),a=iy(null,r,s,n,a,o);var u=sy();return r.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,wr(s)?(u=!0,Kf(r)):u=!1,r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ey(r),a.updater=Wg,r.stateNode=a,a._reactInternals=r,Cv(r,s,n,o),r=Ev(null,r,s,!0,u,o)):(r.tag=0,Qt&&u&&q0(r),nr(null,r,a,o),r=r.child),r;case 16:s=r.elementType;e:{switch(xf(n,r),n=r.pendingProps,a=s._init,s=a(s._payload),r.type=s,a=r.tag=B8(s),n=yo(s,n),a){case 0:r=xv(null,r,s,n,o);break e;case 1:r=aT(null,r,s,n,o);break e;case 11:r=iT(null,r,s,n,o);break e;case 14:r=sT(null,r,s,yo(s.type,n),o);break e}throw Error(me(306,s,""))}return r;case 0:return s=r.type,a=r.pendingProps,a=r.elementType===s?a:yo(s,a),xv(n,r,s,a,o);case 1:return s=r.type,a=r.pendingProps,a=r.elementType===s?a:yo(s,a),aT(n,r,s,a,o);case 3:e:{if(G5(r),n===null)throw Error(me(387));s=r.pendingProps,u=r.memoizedState,a=u.element,w5(n,r),Xf(r,s,null,o);var h=r.memoizedState;if(s=h.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},r.updateQueue.baseState=u,r.memoizedState=u,r.flags&256){a=yl(Error(me(423)),r),r=cT(n,r,s,o,a);break e}else if(s!==a){a=yl(Error(me(424)),r),r=cT(n,r,s,o,a);break e}else for(Pr=Ps(r.stateNode.containerInfo.firstChild),Rr=r,Qt=!0,Ao=null,o=C5(r,null,s,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(bl(),s===a){r=ji(n,r,o);break e}nr(n,r,s,o)}r=r.child}return r;case 5:return A5(r),n===null&&vv(r),s=r.type,a=r.pendingProps,u=n!==null?n.memoizedProps:null,h=a.children,gv(s,a)?h=null:u!==null&&gv(s,u)&&(r.flags|=32),K5(n,r),nr(n,r,h,o),r.child;case 6:return n===null&&vv(r),null;case 13:return Q5(n,r,o);case 4:return ty(r,r.stateNode.containerInfo),s=r.pendingProps,n===null?r.child=wl(r,null,s,o):nr(n,r,s,o),r.child;case 11:return s=r.type,a=r.pendingProps,a=r.elementType===s?a:yo(s,a),iT(n,r,s,a,o);case 7:return nr(n,r,r.pendingProps,o),r.child;case 8:return nr(n,r,r.pendingProps.children,o),r.child;case 12:return nr(n,r,r.pendingProps.children,o),r.child;case 10:e:{if(s=r.type._context,a=r.pendingProps,u=r.memoizedProps,h=a.value,Vt(Zf,s._currentValue),s._currentValue=h,u!==null)if(To(u.value,h)){if(u.children===a.children&&!br.current){r=ji(n,r,o);break e}}else for(u=r.child,u!==null&&(u.return=r);u!==null;){var f=u.dependencies;if(f!==null){h=u.child;for(var m=f.firstContext;m!==null;){if(m.context===s){if(u.tag===1){m=Ni(-1,o&-o),m.tag=2;var k=u.updateQueue;if(k!==null){k=k.shared;var v=k.pending;v===null?m.next=m:(m.next=v.next,v.next=m),k.pending=m}}u.lanes|=o,m=u.alternate,m!==null&&(m.lanes|=o),yv(u.return,o,r),f.lanes|=o;break}m=m.next}}else if(u.tag===10)h=u.type===r.type?null:u.child;else if(u.tag===18){if(h=u.return,h===null)throw Error(me(341));h.lanes|=o,f=h.alternate,f!==null&&(f.lanes|=o),yv(h,o,r),h=u.sibling}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===r){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}nr(n,r,a.children,o),r=r.child}return r;case 9:return a=r.type,s=r.pendingProps.children,pl(r,o),a=ro(a),s=s(a),r.flags|=1,nr(n,r,s,o),r.child;case 14:return s=r.type,a=yo(s,r.pendingProps),a=yo(s.type,a),sT(n,r,s,a,o);case 15:return Y5(n,r,r.type,r.pendingProps,o);case 17:return s=r.type,a=r.pendingProps,a=r.elementType===s?a:yo(s,a),xf(n,r),r.tag=1,wr(s)?(n=!0,Kf(r)):n=!1,pl(r,o),y5(r,s,a),Cv(r,s,a,o),Ev(null,r,s,!0,n,o);case 19:return Z5(n,r,o);case 22:return q5(n,r,o)}throw Error(me(156,r.tag))};function pP(n,r){return zM(n,r)}function O8(n,r,o,s){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(n,r,o,s){return new O8(n,r,o,s)}function my(n){return n=n.prototype,!(!n||!n.isReactComponent)}function B8(n){if(typeof n=="function")return my(n)?1:0;if(n!=null){if(n=n.$$typeof,n===B0)return 11;if(n===R0)return 14}return 2}function Rs(n,r){var o=n.alternate;return o===null?(o=Xr(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function Df(n,r,o,s,a,u){var h=2;if(s=n,typeof n=="function")my(n)&&(h=1);else if(typeof n=="string")h=5;else e:switch(n){case Qc:return Pa(o.children,a,u,r);case O0:h=8,a|=8;break;case qw:return n=Xr(12,o,r,a|2),n.elementType=qw,n.lanes=u,n;case Kw:return n=Xr(13,o,r,a),n.elementType=Kw,n.lanes=u,n;case Gw:return n=Xr(19,o,r,a),n.elementType=Gw,n.lanes=u,n;case _M:return Kg(o,a,u,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case vM:h=10;break e;case yM:h=9;break e;case B0:h=11;break e;case R0:h=14;break e;case gs:h=16,s=null;break e}throw Error(me(130,n==null?n:typeof n,""))}return r=Xr(h,o,r,a),r.elementType=n,r.type=s,r.lanes=u,r}function Pa(n,r,o,s){return n=Xr(7,n,s,r),n.lanes=o,n}function Kg(n,r,o,s){return n=Xr(22,n,s,r),n.elementType=_M,n.lanes=o,n.stateNode={isHidden:!1},n}function ww(n,r,o){return n=Xr(6,n,null,r),n.lanes=o,n}function vw(n,r,o){return r=Xr(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function R8(n,r,o,s,a){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ew(0),this.expirationTimes=ew(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ew(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ky(n,r,o,s,a,u,h,f,m){return n=new R8(n,r,o,f,m),r===1?(r=1,u===!0&&(r|=8)):r=0,u=Xr(3,null,null,r),n.current=u,u.stateNode=n,u.memoizedState={element:s,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ey(u),n}function L8(n,r,o){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gc,key:s==null?null:""+s,children:n,containerInfo:r,implementation:o}}function fP(n){if(!n)return Vs;n=n._reactInternals;e:{if($a(n)!==n||n.tag!==1)throw Error(me(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(wr(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(me(171))}if(n.tag===1){var o=n.type;if(wr(o))return p5(n,o,r)}return r}function gP(n,r,o,s,a,u,h,f,m){return n=ky(o,s,!0,n,a,u,h,f,m),n.context=fP(null),o=n.current,s=ir(),a=Bs(o),u=Ni(s,a),u.callback=r??null,Ns(o,u,a),n.current.lanes=a,Kd(n,a,s),vr(n,s),n}function Gg(n,r,o,s){var a=r.current,u=ir(),h=Bs(a);return o=fP(o),r.context===null?r.context=o:r.pendingContext=o,r=Ni(u,h),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=Ns(a,r,h),n!==null&&(So(n,a,h,u),_f(n,a,h)),h}function ag(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function bT(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function by(n,r){bT(n,r),(n=n.alternate)&&bT(n,r)}function j8(){return null}var mP=typeof reportError=="function"?reportError:function(n){console.error(n)};function wy(n){this._internalRoot=n}Qg.prototype.render=wy.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(me(409));Gg(n,r,null,null)};Qg.prototype.unmount=wy.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Fa(function(){Gg(null,n,null,null)}),r[Ri]=null}};function Qg(n){this._internalRoot=n}Qg.prototype.unstable_scheduleHydration=function(n){if(n){var r=YM();n={blockedOn:null,target:n,priority:r};for(var o=0;o<vs.length&&r!==0&&r<vs[o].priority;o++);vs.splice(o,0,n),o===0&&KM(n)}};function vy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Zg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function wT(){}function z8(n,r,o,s,a){if(a){if(typeof s=="function"){var u=s;s=function(){var k=ag(h);u.call(k)}}var h=gP(r,s,n,0,null,!1,!1,"",wT);return n._reactRootContainer=h,n[Ri]=h.current,Dd(n.nodeType===8?n.parentNode:n),Fa(),h}for(;a=n.lastChild;)n.removeChild(a);if(typeof s=="function"){var f=s;s=function(){var k=ag(m);f.call(k)}}var m=ky(n,0,!1,null,null,!1,!1,"",wT);return n._reactRootContainer=m,n[Ri]=m.current,Dd(n.nodeType===8?n.parentNode:n),Fa(function(){Gg(r,m,o,s)}),m}function Jg(n,r,o,s,a){var u=o._reactRootContainer;if(u){var h=u;if(typeof a=="function"){var f=a;a=function(){var m=ag(h);f.call(m)}}Gg(r,h,n,a)}else h=z8(o,r,n,a,s);return ag(h)}WM=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var o=ed(r.pendingLanes);o!==0&&(z0(r,o|1),vr(r,hn()),!(bt&6)&&(_l=hn()+500,Ys()))}break;case 13:Fa(function(){var s=Li(n,1);if(s!==null){var a=ir();So(s,n,1,a)}}),by(n,1)}};F0=function(n){if(n.tag===13){var r=Li(n,134217728);if(r!==null){var o=ir();So(r,n,134217728,o)}by(n,134217728)}};$M=function(n){if(n.tag===13){var r=Bs(n),o=Li(n,r);if(o!==null){var s=ir();So(o,n,r,s)}by(n,r)}};YM=function(){return Nt};qM=function(n,r){var o=Nt;try{return Nt=n,r()}finally{Nt=o}};iv=function(n,r,o){switch(r){case"input":if(Jw(n,o),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var s=o[r];if(s!==n&&s.form===n.form){var a=Vg(s);if(!a)throw Error(me(90));AM(s),Jw(s,a)}}}break;case"textarea":EM(n,o);break;case"select":r=o.value,r!=null&&ll(n,!!o.multiple,r,!1)}};NM=py;OM=Fa;var F8={usingClientEntryPoint:!1,Events:[Qd,el,Vg,MM,PM,py]},Wu={findFiberByHostInstance:Ea,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},U8={bundleType:Wu.bundleType,version:Wu.version,rendererPackageName:Wu.rendererPackageName,rendererConfig:Wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=LM(n),n===null?null:n.stateNode},findFiberByHostInstance:Wu.findFiberByHostInstance||j8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{jg=nf.inject(U8),ii=nf}catch{}}zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F8;zr.createPortal=function(n,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vy(r))throw Error(me(200));return L8(n,r,null,o)};zr.createRoot=function(n,r){if(!vy(n))throw Error(me(299));var o=!1,s="",a=mP;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),r=ky(n,1,!1,null,null,o,!1,s,a),n[Ri]=r.current,Dd(n.nodeType===8?n.parentNode:n),new wy(r)};zr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(me(188)):(n=Object.keys(n).join(","),Error(me(268,n)));return n=LM(r),n=n===null?null:n.stateNode,n};zr.flushSync=function(n){return Fa(n)};zr.hydrate=function(n,r,o){if(!Zg(r))throw Error(me(200));return Jg(null,n,r,!0,o)};zr.hydrateRoot=function(n,r,o){if(!vy(n))throw Error(me(405));var s=o!=null&&o.hydratedSources||null,a=!1,u="",h=mP;if(o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onRecoverableError!==void 0&&(h=o.onRecoverableError)),r=gP(r,null,n,1,o??null,a,!1,u,h),n[Ri]=r.current,Dd(n),s)for(n=0;n<s.length;n++)o=s[n],a=o._getVersion,a=a(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,a]:r.mutableSourceEagerHydrationData.push(o,a);return new Qg(r)};zr.render=function(n,r,o){if(!Zg(r))throw Error(me(200));return Jg(null,n,r,!1,o)};zr.unmountComponentAtNode=function(n){if(!Zg(n))throw Error(me(40));return n._reactRootContainer?(Fa(function(){Jg(null,null,n,!1,function(){n._reactRootContainer=null,n[Ri]=null})}),!0):!1};zr.unstable_batchedUpdates=py;zr.unstable_renderSubtreeIntoContainer=function(n,r,o,s){if(!Zg(o))throw Error(me(200));if(n==null||n._reactInternals===void 0)throw Error(me(38));return Jg(n,r,o,!1,s)};zr.version="18.2.0-next-9e3b772b8-20220608";function kP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kP)}catch(n){console.error(n)}}kP(),gM.exports=zr;var Xg=gM.exports;const V8=Ha(Xg);var vT=Xg;$w.createRoot=vT.createRoot,$w.hydrateRoot=vT.hydrateRoot;const H8="modulepreload",W8=function(n){return"/WorldWise/"+n},yT={},Hi=function(r,o,s){if(!o||o.length===0)return r();const a=document.getElementsByTagName("link");return Promise.all(o.map(u=>{if(u=W8(u),u in yT)return;yT[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(!!s)for(let v=a.length-1;v>=0;v--){const _=a[v];if(_.href===u&&(!h||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const k=document.createElement("link");if(k.rel=h?"stylesheet":H8,h||(k.as="script",k.crossOrigin=""),k.href=u,document.head.appendChild(k),h)return new Promise((v,_)=>{k.addEventListener("load",v),k.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>r())};/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ld(){return Ld=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])}return n},Ld.apply(this,arguments)}var Es;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Es||(Es={}));const _T="popstate";function $8(n){n===void 0&&(n={});function r(a,u){let{pathname:h="/",search:f="",hash:m=""}=Ya(a.location.hash.substr(1));return jv("",{pathname:h,search:f,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function o(a,u){let h=a.document.querySelector("base"),f="";if(h&&h.getAttribute("href")){let m=a.location.href,k=m.indexOf("#");f=k===-1?m:m.slice(0,k)}return f+"#"+(typeof u=="string"?u:cg(u))}function s(a,u){em(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(u)+")")}return q8(r,o,s,n)}function mn(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function em(n,r){if(!n){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Y8(){return Math.random().toString(36).substr(2,8)}function CT(n,r){return{usr:n.state,key:n.key,idx:r}}function jv(n,r,o,s){return o===void 0&&(o=null),Ld({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof r=="string"?Ya(r):r,{state:o,key:r&&r.key||s||Y8()})}function cg(n){let{pathname:r="/",search:o="",hash:s=""}=n;return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Ya(n){let r={};if(n){let o=n.indexOf("#");o>=0&&(r.hash=n.substr(o),n=n.substr(0,o));let s=n.indexOf("?");s>=0&&(r.search=n.substr(s),n=n.substr(0,s)),n&&(r.pathname=n)}return r}function q8(n,r,o,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:u=!1}=s,h=a.history,f=Es.Pop,m=null,k=v();k==null&&(k=0,h.replaceState(Ld({},h.state,{idx:k}),""));function v(){return(h.state||{idx:null}).idx}function _(){f=Es.Pop;let B=v(),N=B==null?null:B-k;k=B,m&&m({action:f,location:T.location,delta:N})}function C(B,N){f=Es.Push;let I=jv(T.location,B,N);o&&o(I,B),k=v()+1;let L=CT(I,k),V=T.createHref(I);try{h.pushState(L,"",V)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;a.location.assign(V)}u&&m&&m({action:f,location:T.location,delta:1})}function x(B,N){f=Es.Replace;let I=jv(T.location,B,N);o&&o(I,B),k=v();let L=CT(I,k),V=T.createHref(I);h.replaceState(L,"",V),u&&m&&m({action:f,location:T.location,delta:0})}function S(B){let N=a.location.origin!=="null"?a.location.origin:a.location.href,I=typeof B=="string"?B:cg(B);return mn(N,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,N)}let T={get action(){return f},get location(){return n(a,h)},listen(B){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(_T,_),m=B,()=>{a.removeEventListener(_T,_),m=null}},createHref(B){return r(a,B)},createURL:S,encodeLocation(B){let N=S(B);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:C,replace:x,go(B){return h.go(B)}};return T}var AT;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(AT||(AT={}));function K8(n,r,o){o===void 0&&(o="/");let s=typeof r=="string"?Ya(r):r,a=yy(s.pathname||"/",o);if(a==null)return null;let u=bP(n);G8(u);let h=null;for(let f=0;h==null&&f<u.length;++f)h=o9(u[f],a9(a));return h}function bP(n,r,o,s){r===void 0&&(r=[]),o===void 0&&(o=[]),s===void 0&&(s="");let a=(u,h,f)=>{let m={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(mn(m.relativePath.startsWith(s),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(s.length));let k=Ls([s,m.relativePath]),v=o.concat(m);u.children&&u.children.length>0&&(mn(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+k+'".')),bP(u.children,r,v,k)),!(u.path==null&&!u.index)&&r.push({path:k,score:n9(k,u.index),routesMeta:v})};return n.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))a(u,h);else for(let m of wP(u.path))a(u,h,m)}),r}function wP(n){let r=n.split("/");if(r.length===0)return[];let[o,...s]=r,a=o.endsWith("?"),u=o.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let h=wP(s.join("/")),f=[];return f.push(...h.map(m=>m===""?u:[u,m].join("/"))),a&&f.push(...h),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function G8(n){n.sort((r,o)=>r.score!==o.score?o.score-r.score:r9(r.routesMeta.map(s=>s.childrenIndex),o.routesMeta.map(s=>s.childrenIndex)))}const Q8=/^:\w+$/,Z8=3,J8=2,X8=1,e9=10,t9=-2,xT=n=>n==="*";function n9(n,r){let o=n.split("/"),s=o.length;return o.some(xT)&&(s+=t9),r&&(s+=J8),o.filter(a=>!xT(a)).reduce((a,u)=>a+(Q8.test(u)?Z8:u===""?X8:e9),s)}function r9(n,r){return n.length===r.length&&n.slice(0,-1).every((s,a)=>s===r[a])?n[n.length-1]-r[r.length-1]:0}function o9(n,r){let{routesMeta:o}=n,s={},a="/",u=[];for(let h=0;h<o.length;++h){let f=o[h],m=h===o.length-1,k=a==="/"?r:r.slice(a.length)||"/",v=i9({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},k);if(!v)return null;Object.assign(s,v.params);let _=f.route;u.push({params:s,pathname:Ls([a,v.pathname]),pathnameBase:d9(Ls([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=Ls([a,v.pathnameBase]))}return u}function i9(n,r){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[o,s]=s9(n.path,n.caseSensitive,n.end),a=r.match(o);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((k,v,_)=>{if(v==="*"){let C=f[_]||"";h=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}return k[v]=c9(f[_]||"",v),k},{}),pathname:u,pathnameBase:h,pattern:n}}function s9(n,r,o){r===void 0&&(r=!1),o===void 0&&(o=!0),em(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(h,f)=>(s.push(f),"/([^\\/]+)"));return n.endsWith("*")?(s.push("*"),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),s]}function a9(n){try{return decodeURI(n)}catch(r){return em(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),n}}function c9(n,r){try{return decodeURIComponent(n)}catch(o){return em(!1,'The value for the URL param "'+r+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+o+").")),n}}function yy(n,r){if(r==="/")return n;if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,s=n.charAt(o);return s&&s!=="/"?null:n.slice(o)||"/"}function l9(n,r){r===void 0&&(r="/");let{pathname:o,search:s="",hash:a=""}=typeof n=="string"?Ya(n):n;return{pathname:o?o.startsWith("/")?o:u9(o,r):r,search:h9(s),hash:p9(a)}}function u9(n,r){let o=r.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?o.length>1&&o.pop():a!=="."&&o.push(a)}),o.length>1?o.join("/"):"/"}function yw(n,r,o,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _y(n){return n.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function Cy(n,r,o,s){s===void 0&&(s=!1);let a;typeof n=="string"?a=Ya(n):(a=Ld({},n),mn(!a.pathname||!a.pathname.includes("?"),yw("?","pathname","search",a)),mn(!a.pathname||!a.pathname.includes("#"),yw("#","pathname","hash",a)),mn(!a.search||!a.search.includes("#"),yw("#","search","hash",a)));let u=n===""||a.pathname==="",h=u?"/":a.pathname,f;if(s||h==null)f=o;else{let _=r.length-1;if(h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),_-=1;a.pathname=C.join("/")}f=_>=0?r[_]:"/"}let m=l9(a,f),k=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&o.endsWith("/");return!m.pathname.endsWith("/")&&(k||v)&&(m.pathname+="/"),m}const Ls=n=>n.join("/").replace(/\/\/+/g,"/"),d9=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),h9=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,p9=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function f9(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const vP=["post","put","patch","delete"];new Set(vP);const g9=["get",...vP];new Set(g9);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lg(){return lg=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])}return n},lg.apply(this,arguments)}const Ay=ee.createContext(null),yP=ee.createContext(null),qa=ee.createContext(null),tm=ee.createContext(null),ui=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),_P=ee.createContext(null);function m9(n,r){let{relative:o}=r===void 0?{}:r;Nl()||mn(!1);let{basename:s,navigator:a}=ee.useContext(qa),{hash:u,pathname:h,search:f}=xy(n,{relative:o}),m=h;return s!=="/"&&(m=h==="/"?s:Ls([s,h])),a.createHref({pathname:m,search:f,hash:u})}function Nl(){return ee.useContext(tm)!=null}function Ka(){return Nl()||mn(!1),ee.useContext(tm).location}function CP(n){ee.useContext(qa).static||ee.useLayoutEffect(n)}function Ol(){let{isDataRoute:n}=ee.useContext(ui);return n?P9():k9()}function k9(){Nl()||mn(!1);let n=ee.useContext(Ay),{basename:r,navigator:o}=ee.useContext(qa),{matches:s}=ee.useContext(ui),{pathname:a}=Ka(),u=JSON.stringify(_y(s).map(m=>m.pathnameBase)),h=ee.useRef(!1);return CP(()=>{h.current=!0}),ee.useCallback(function(m,k){if(k===void 0&&(k={}),!h.current)return;if(typeof m=="number"){o.go(m);return}let v=Cy(m,JSON.parse(u),a,k.relative==="path");n==null&&r!=="/"&&(v.pathname=v.pathname==="/"?r:Ls([r,v.pathname])),(k.replace?o.replace:o.push)(v,k.state,k)},[r,o,u,a,n])}const AP=ee.createContext(null);function b9(){return ee.useContext(AP)}function w9(n){let r=ee.useContext(ui).outlet;return r&&ee.createElement(AP.Provider,{value:n},r)}function v9(){let{matches:n}=ee.useContext(ui),r=n[n.length-1];return r?r.params:{}}function xy(n,r){let{relative:o}=r===void 0?{}:r,{matches:s}=ee.useContext(ui),{pathname:a}=Ka(),u=JSON.stringify(_y(s).map(h=>h.pathnameBase));return ee.useMemo(()=>Cy(n,JSON.parse(u),a,o==="path"),[n,u,a,o])}function y9(n,r){return _9(n,r)}function _9(n,r,o){Nl()||mn(!1);let{navigator:s}=ee.useContext(qa),{matches:a}=ee.useContext(ui),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let m=Ka(),k;if(r){var v;let T=typeof r=="string"?Ya(r):r;f==="/"||(v=T.pathname)!=null&&v.startsWith(f)||mn(!1),k=T}else k=m;let _=k.pathname||"/",C=f==="/"?_:_.slice(f.length)||"/",x=K8(n,{pathname:C}),S=S9(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},h,T.params),pathname:Ls([f,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:Ls([f,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),a,o);return r&&S?ee.createElement(tm.Provider,{value:{location:lg({pathname:"/",search:"",hash:"",state:null,key:"default"},k),navigationType:Es.Pop}},S):S}function C9(){let n=M9(),r=f9(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),o=n instanceof Error?n.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},u=null;return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},r),o?ee.createElement("pre",{style:a},o):null,u)}const A9=ee.createElement(C9,null);class x9 extends ee.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){return o.location!==r.location||o.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error||o.error,location:o.location,revalidation:r.revalidation||o.revalidation}}componentDidCatch(r,o){console.error("React Router caught the following error during render",r,o)}render(){return this.state.error?ee.createElement(ui.Provider,{value:this.props.routeContext},ee.createElement(_P.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E9(n){let{routeContext:r,match:o,children:s}=n,a=ee.useContext(Ay);return a&&a.static&&a.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=o.route.id),ee.createElement(ui.Provider,{value:r},s)}function S9(n,r,o){var s;if(r===void 0&&(r=[]),o===void 0&&(o=null),n==null){var a;if((a=o)!=null&&a.errors)n=o.matches;else return null}let u=n,h=(s=o)==null?void 0:s.errors;if(h!=null){let f=u.findIndex(m=>m.route.id&&h?.[m.route.id]);f>=0||mn(!1),u=u.slice(0,Math.min(u.length,f+1))}return u.reduceRight((f,m,k)=>{let v=m.route.id?h?.[m.route.id]:null,_=null;o&&(_=m.route.errorElement||A9);let C=r.concat(u.slice(0,k+1)),x=()=>{let S;return v?S=_:m.route.Component?S=ee.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=f,ee.createElement(E9,{match:m,routeContext:{outlet:f,matches:C,isDataRoute:o!=null},children:S})};return o&&(m.route.ErrorBoundary||m.route.errorElement||k===0)?ee.createElement(x9,{location:o.location,revalidation:o.revalidation,component:_,error:v,children:x(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):x()},null)}var zv;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate"})(zv||(zv={}));var jd;(function(n){n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId"})(jd||(jd={}));function D9(n){let r=ee.useContext(Ay);return r||mn(!1),r}function T9(n){let r=ee.useContext(yP);return r||mn(!1),r}function I9(n){let r=ee.useContext(ui);return r||mn(!1),r}function xP(n){let r=I9(),o=r.matches[r.matches.length-1];return o.route.id||mn(!1),o.route.id}function M9(){var n;let r=ee.useContext(_P),o=T9(jd.UseRouteError),s=xP(jd.UseRouteError);return r||((n=o.errors)==null?void 0:n[s])}function P9(){let{router:n}=D9(zv.UseNavigateStable),r=xP(jd.UseNavigateStable),o=ee.useRef(!1);return CP(()=>{o.current=!0}),ee.useCallback(function(a,u){u===void 0&&(u={}),o.current&&(typeof a=="number"?n.navigate(a):n.navigate(a,lg({fromRouteId:r},u)))},[n,r])}function N9(n){let{to:r,replace:o,state:s,relative:a}=n;Nl()||mn(!1);let{matches:u}=ee.useContext(ui),{pathname:h}=Ka(),f=Ol(),m=Cy(r,_y(u).map(v=>v.pathnameBase),h,a==="path"),k=JSON.stringify(m);return ee.useEffect(()=>f(JSON.parse(k),{replace:o,state:s,relative:a}),[f,k,a,o,s]),null}function wee(n){return w9(n.context)}function tr(n){mn(!1)}function O9(n){let{basename:r="/",children:o=null,location:s,navigationType:a=Es.Pop,navigator:u,static:h=!1}=n;Nl()&&mn(!1);let f=r.replace(/^\/*/,"/"),m=ee.useMemo(()=>({basename:f,navigator:u,static:h}),[f,u,h]);typeof s=="string"&&(s=Ya(s));let{pathname:k="/",search:v="",hash:_="",state:C=null,key:x="default"}=s,S=ee.useMemo(()=>{let T=yy(k,f);return T==null?null:{location:{pathname:T,search:v,hash:_,state:C,key:x},navigationType:a}},[f,k,v,_,C,x,a]);return S==null?null:ee.createElement(qa.Provider,{value:m},ee.createElement(tm.Provider,{children:o,value:S}))}function B9(n){let{children:r,location:o}=n;return y9(Fv(r),o)}var ET;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(ET||(ET={}));new Promise(()=>{});function Fv(n,r){r===void 0&&(r=[]);let o=[];return ee.Children.forEach(n,(s,a)=>{if(!ee.isValidElement(s))return;let u=[...r,a];if(s.type===ee.Fragment){o.push.apply(o,Fv(s.props.children,u));return}s.type!==tr&&mn(!1),!s.props.index||!s.props.children||mn(!1);let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Fv(s.props.children,u)),o.push(h)}),o}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ug(){return ug=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])}return n},ug.apply(this,arguments)}function EP(n,r){if(n==null)return{};var o={},s=Object.keys(n),a,u;for(u=0;u<s.length;u++)a=s[u],!(r.indexOf(a)>=0)&&(o[a]=n[a]);return o}function R9(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function L9(n,r){return n.button===0&&(!r||r==="_self")&&!R9(n)}function Uv(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((r,o)=>{let s=n[o];return r.concat(Array.isArray(s)?s.map(a=>[o,a]):[[o,s]])},[]))}function j9(n,r){let o=Uv(n);if(r)for(let s of r.keys())o.has(s)||r.getAll(s).forEach(a=>{o.append(s,a)});return o}const z9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],F9=["aria-current","caseSensitive","className","end","style","to","children"],U9="startTransition",ST=PU[U9];function V9(n){let{basename:r,children:o,future:s,window:a}=n,u=ee.useRef();u.current==null&&(u.current=$8({window:a,v5Compat:!0}));let h=u.current,[f,m]=ee.useState({action:h.action,location:h.location}),{v7_startTransition:k}=s||{},v=ee.useCallback(_=>{k&&ST?ST(()=>m(_)):m(_)},[m,k]);return ee.useLayoutEffect(()=>h.listen(v),[h,v]),ee.createElement(O9,{basename:r,children:o,location:f.location,navigationType:f.action,navigator:h})}const H9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SP=ee.forwardRef(function(r,o){let{onClick:s,relative:a,reloadDocument:u,replace:h,state:f,target:m,to:k,preventScrollReset:v}=r,_=EP(r,z9),{basename:C}=ee.useContext(qa),x,S=!1;if(typeof k=="string"&&W9.test(k)&&(x=k,H9))try{let I=new URL(window.location.href),L=k.startsWith("//")?new URL(I.protocol+k):new URL(k),V=yy(L.pathname,C);L.origin===I.origin&&V!=null?k=V+L.search+L.hash:S=!0}catch{}let T=m9(k,{relative:a}),B=$9(k,{replace:h,state:f,target:m,preventScrollReset:v,relative:a});function N(I){s&&s(I),I.defaultPrevented||B(I)}return ee.createElement("a",ug({},_,{href:x||T,onClick:S||u?s:N,ref:o,target:m}))}),vee=ee.forwardRef(function(r,o){let{"aria-current":s="page",caseSensitive:a=!1,className:u="",end:h=!1,style:f,to:m,children:k}=r,v=EP(r,F9),_=xy(m,{relative:v.relative}),C=Ka(),x=ee.useContext(yP),{navigator:S}=ee.useContext(qa),T=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,B=C.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;a||(B=B.toLowerCase(),N=N?N.toLowerCase():null,T=T.toLowerCase());let I=B===T||!h&&B.startsWith(T)&&B.charAt(T.length)==="/",L=N!=null&&(N===T||!h&&N.startsWith(T)&&N.charAt(T.length)==="/"),V=I?s:void 0,K;typeof u=="function"?K=u({isActive:I,isPending:L}):K=[u,I?"active":null,L?"pending":null].filter(Boolean).join(" ");let Z=typeof f=="function"?f({isActive:I,isPending:L}):f;return ee.createElement(SP,ug({},v,{"aria-current":V,className:K,ref:o,style:Z,to:m}),typeof k=="function"?k({isActive:I,isPending:L}):k)});var DT;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher"})(DT||(DT={}));var TT;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(TT||(TT={}));function $9(n,r){let{target:o,replace:s,state:a,preventScrollReset:u,relative:h}=r===void 0?{}:r,f=Ol(),m=Ka(),k=xy(n,{relative:h});return ee.useCallback(v=>{if(L9(v,o)){v.preventDefault();let _=s!==void 0?s:cg(m)===cg(k);f(n,{replace:_,state:a,preventScrollReset:u,relative:h})}},[m,f,k,s,a,o,n,u,h])}function Y9(n){let r=ee.useRef(Uv(n)),o=ee.useRef(!1),s=Ka(),a=ee.useMemo(()=>j9(s.search,o.current?null:r.current),[s.search]),u=Ol(),h=ee.useCallback((f,m)=>{const k=Uv(typeof f=="function"?f(a):f);o.current=!0,u("?"+k,m)},[u,a]);return[a,h]}function _n(n,r,o,s){return new(o||(o=Promise))(function(a,u){function h(k){try{m(s.next(k))}catch(v){u(v)}}function f(k){try{m(s.throw(k))}catch(v){u(v)}}function m(k){k.done?a(k.value):function(_){return _ instanceof o?_:new o(function(C){C(_)})}(k.value).then(h,f)}m((s=s.apply(n,r||[])).next())})}class Do extends Error{constructor(r){var o,s,a,u;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,Do.prototype),r!==null&&typeof r=="object"&&(this.url=typeof r.url=="string"?r.url:"",this.status=typeof r.status=="number"?r.status:0,this.isAbort=!!r.isAbort,this.originalError=r.originalError,r.response!==null&&typeof r.response=="object"?this.response=r.response:r.data!==null&&typeof r.data=="object"?this.response=r.data:this.response={}),this.originalError||r instanceof Do||(this.originalError=r),typeof DOMException<"u"&&r instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(o=this.response)===null||o===void 0?void 0:o.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((u=(a=(s=this.originalError)===null||s===void 0?void 0:s.cause)===null||a===void 0?void 0:a.message)===null||u===void 0)&&u.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return Object.assign({},this)}}const rf=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function q9(n,r){const o={};if(typeof n!="string")return o;const s=Object.assign({},r||{}).decode||K9;let a=0;for(;a<n.length;){const u=n.indexOf("=",a);if(u===-1)break;let h=n.indexOf(";",a);if(h===-1)h=n.length;else if(h<u){a=n.lastIndexOf(";",u-1)+1;continue}const f=n.slice(a,u).trim();if(o[f]===void 0){let m=n.slice(u+1,h).trim();m.charCodeAt(0)===34&&(m=m.slice(1,-1));try{o[f]=s(m)}catch{o[f]=m}}a=h+1}return o}function IT(n,r,o){const s=Object.assign({},o||{}),a=s.encode||G9;if(!rf.test(n))throw new TypeError("argument name is invalid");const u=a(r);if(u&&!rf.test(u))throw new TypeError("argument val is invalid");let h=n+"="+u;if(s.maxAge!=null){const f=s.maxAge-0;if(isNaN(f)||!isFinite(f))throw new TypeError("option maxAge is invalid");h+="; Max-Age="+Math.floor(f)}if(s.domain){if(!rf.test(s.domain))throw new TypeError("option domain is invalid");h+="; Domain="+s.domain}if(s.path){if(!rf.test(s.path))throw new TypeError("option path is invalid");h+="; Path="+s.path}if(s.expires){if(!function(m){return Object.prototype.toString.call(m)==="[object Date]"||m instanceof Date}(s.expires)||isNaN(s.expires.valueOf()))throw new TypeError("option expires is invalid");h+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(h+="; HttpOnly"),s.secure&&(h+="; Secure"),s.priority)switch(typeof s.priority=="string"?s.priority.toLowerCase():s.priority){case"low":h+="; Priority=Low";break;case"medium":h+="; Priority=Medium";break;case"high":h+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:h+="; SameSite=Strict";break;case"lax":h+="; SameSite=Lax";break;case"strict":h+="; SameSite=Strict";break;case"none":h+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return h}function K9(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function G9(n){return encodeURIComponent(n)}let DP;function Tf(n){if(n)try{const r=decodeURIComponent(DP(n.split(".")[1]).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)||{}}catch{}return{}}function TP(n,r=0){let o=Tf(n);return!(Object.keys(o).length>0&&(!o.exp||o.exp-r>Date.now()/1e3))}DP=typeof atob=="function"?atob:n=>{let r=String(n).replace(/=+$/,"");if(r.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,s,a=0,u=0,h="";s=r.charAt(u++);~s&&(o=a%4?64*o+s:s,a++%4)?h+=String.fromCharCode(255&o>>(-2*a&6)):0)s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s);return h};const MT="pb_auth";class Q9{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!TP(this.token)}get isAdmin(){return Tf(this.token).type==="admin"}get isAuthRecord(){return Tf(this.token).type==="authRecord"}save(r,o){this.baseToken=r||"",this.baseModel=o||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(r,o=MT){const s=q9(r||"")[o]||"";let a={};try{a=JSON.parse(s),(typeof a===null||typeof a!="object"||Array.isArray(a))&&(a={})}catch{}this.save(a.token||"",a.model||null)}exportToCookie(r,o=MT){var s,a;const u={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},h=Tf(this.token);h?.exp?u.expires=new Date(1e3*h.exp):u.expires=new Date("1970-01-01"),r=Object.assign({},u,r);const f={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let m=IT(o,JSON.stringify(f),r);const k=typeof Blob<"u"?new Blob([m]).size:m.length;if(f.model&&k>4096){f.model={id:(s=f?.model)===null||s===void 0?void 0:s.id,email:(a=f?.model)===null||a===void 0?void 0:a.email};const v=["collectionId","username","verified"];for(const _ in this.model)v.includes(_)&&(f.model[_]=this.model[_]);m=IT(o,JSON.stringify(f),r)}return m}onChange(r,o=!1){return this._onChangeCallbacks.push(r),o&&r(this.token,this.model),()=>{for(let s=this._onChangeCallbacks.length-1;s>=0;s--)if(this._onChangeCallbacks[s]==r)return delete this._onChangeCallbacks[s],void this._onChangeCallbacks.splice(s,1)}}triggerChange(){for(const r of this._onChangeCallbacks)r&&r(this.token,this.model)}}class Z9 extends Q9{constructor(r="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=r,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(r,o){this._storageSet(this.storageKey,{token:r,model:o}),super.save(r,o)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(r){if(typeof window<"u"&&window?.localStorage){const o=window.localStorage.getItem(r)||"";try{return JSON.parse(o)}catch{return o}}return this.storageFallback[r]}_storageSet(r,o){if(typeof window<"u"&&window?.localStorage){let s=o;typeof o!="string"&&(s=JSON.stringify(o)),window.localStorage.setItem(r,s)}else this.storageFallback[r]=o}_storageRemove(r){var o;typeof window<"u"&&window?.localStorage&&((o=window.localStorage)===null||o===void 0||o.removeItem(r)),delete this.storageFallback[r]}_bindStorageEvent(){typeof window<"u"&&window?.localStorage&&window.addEventListener&&window.addEventListener("storage",r=>{if(r.key!=this.storageKey)return;const o=this._storageGet(this.storageKey)||{};super.save(o.token||"",o.model||null)})}}class Ga{constructor(r){this.client=r}}class J9 extends Ga{getAll(r){return r=Object.assign({method:"GET"},r),this.client.send("/api/settings",r)}update(r,o){return o=Object.assign({method:"PATCH",body:r},o),this.client.send("/api/settings",o)}testS3(r="storage",o){return o=Object.assign({method:"POST",body:{filesystem:r}},o),this.client.send("/api/settings/test/s3",o).then(()=>!0)}testEmail(r,o,s){return s=Object.assign({method:"POST",body:{email:r,template:o}},s),this.client.send("/api/settings/test/email",s).then(()=>!0)}generateAppleClientSecret(r,o,s,a,u,h){return h=Object.assign({method:"POST",body:{clientId:r,teamId:o,keyId:s,privateKey:a,duration:u}},h),this.client.send("/api/settings/apple/generate-client-secret",h)}}class Ey extends Ga{decode(r){return r}getFullList(r,o){if(typeof r=="number")return this._getFullList(r,o);let s=500;return(o=Object.assign({},r,o)).batch&&(s=o.batch,delete o.batch),this._getFullList(s,o)}getList(r=1,o=30,s){return(s=Object.assign({method:"GET"},s)).query=Object.assign({page:r,perPage:o},s.query),this.client.send(this.baseCrudPath,s).then(a=>{var u;return a.items=((u=a.items)===null||u===void 0?void 0:u.map(h=>this.decode(h)))||[],a})}getFirstListItem(r,o){return(o=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+r},o)).query=Object.assign({filter:r,skipTotal:1},o.query),this.getList(1,1,o).then(s=>{var a;if(!(!((a=s?.items)===null||a===void 0)&&a.length))throw new Do({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return s.items[0]})}getOne(r,o){return o=Object.assign({method:"GET"},o),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(r),o).then(s=>this.decode(s))}create(r,o){return o=Object.assign({method:"POST",body:r},o),this.client.send(this.baseCrudPath,o).then(s=>this.decode(s))}update(r,o,s){return s=Object.assign({method:"PATCH",body:o},s),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(r),s).then(a=>this.decode(a))}delete(r,o){return o=Object.assign({method:"DELETE"},o),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(r),o).then(()=>!0)}_getFullList(r=500,o){(o=o||{}).query=Object.assign({skipTotal:1},o.query);let s=[],a=u=>_n(this,void 0,void 0,function*(){return this.getList(u,r||500,o).then(h=>{const f=h.items;return s=s.concat(f),f.length==h.perPage?a(u+1):s})});return a(1)}}function Tr(n,r,o,s){const a=s!==void 0;return a||o!==void 0?a?(console.warn(n),r.body=Object.assign({},r.body,o),r.query=Object.assign({},r.query,s),r):Object.assign(r,o):r}function _w(n){var r,o;(o=(r=n)._resetAutoRefresh)===null||o===void 0||o.call(r)}class X9 extends Ey{get baseCrudPath(){return"/api/admins"}update(r,o,s){return super.update(r,o,s).then(a=>{var u,h;return((u=this.client.authStore.model)===null||u===void 0?void 0:u.id)===a.id&&((h=this.client.authStore.model)===null||h===void 0?void 0:h.collectionId)===void 0&&this.client.authStore.save(this.client.authStore.token,a),a})}delete(r,o){return super.delete(r,o).then(s=>{var a,u;return s&&((a=this.client.authStore.model)===null||a===void 0?void 0:a.id)===r&&((u=this.client.authStore.model)===null||u===void 0?void 0:u.collectionId)===void 0&&this.client.authStore.clear(),s})}authResponse(r){const o=this.decode(r?.admin||{});return r?.token&&r?.admin&&this.client.authStore.save(r.token,o),Object.assign({},r,{token:r?.token||"",admin:o})}authWithPassword(r,o,s,a){return _n(this,void 0,void 0,function*(){let u={method:"POST",body:{identity:r,password:o}};u=Tr("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",u,s,a);const h=u.autoRefreshThreshold;delete u.autoRefreshThreshold,u.autoRefresh||_w(this.client);let f=yield this.client.send(this.baseCrudPath+"/auth-with-password",u);return f=this.authResponse(f),h&&function(k,v,_,C){_w(k);const x=k.beforeSend,S=k.authStore.model,T=k.authStore.onChange((B,N)=>{(!B||N?.id!=S?.id||(N?.collectionId||S?.collectionId)&&N?.collectionId!=S?.collectionId)&&_w(k)});k._resetAutoRefresh=function(){T(),k.beforeSend=x,delete k._resetAutoRefresh},k.beforeSend=(B,N)=>_n(this,void 0,void 0,function*(){var I;const L=k.authStore.token;if(!((I=N.query)===null||I===void 0)&&I.autoRefresh)return x?x(B,N):{url:B,sendOptions:N};let V=k.authStore.isValid;if(V&&TP(k.authStore.token,v))try{yield _()}catch{V=!1}V||(yield C());const K=N.headers||{};for(let Z in K)if(Z.toLowerCase()=="authorization"&&L==K[Z]&&k.authStore.token){K[Z]=k.authStore.token;break}return N.headers=K,x?x(B,N):{url:B,sendOptions:N}})}(this.client,h,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(r,o,Object.assign({autoRefresh:!0},u))),f})}authRefresh(r,o){let s={method:"POST"};return s=Tr("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",s,r,o),this.client.send(this.baseCrudPath+"/auth-refresh",s).then(this.authResponse.bind(this))}requestPasswordReset(r,o,s){let a={method:"POST",body:{email:r}};return a=Tr("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",a,o,s),this.client.send(this.baseCrudPath+"/request-password-reset",a).then(()=>!0)}confirmPasswordReset(r,o,s,a,u){let h={method:"POST",body:{token:r,password:o,passwordConfirm:s}};return h=Tr("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",h,a,u),this.client.send(this.baseCrudPath+"/confirm-password-reset",h).then(()=>!0)}}class IP extends Ga{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentTopics=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}subscribe(r,o){var s;return _n(this,void 0,void 0,function*(){if(!r)throw new Error("topic must be set.");const a=function(u){const h=u;let f;try{f=JSON.parse(h?.data)}catch{}o(f||{})};return this.subscriptions[r]||(this.subscriptions[r]=[]),this.subscriptions[r].push(a),this.isConnected?this.subscriptions[r].length===1?yield this.submitSubscriptions():(s=this.eventSource)===null||s===void 0||s.addEventListener(r,a):yield this.connect(),()=>_n(this,void 0,void 0,function*(){return this.unsubscribeByTopicAndListener(r,a)})})}unsubscribe(r){var o;return _n(this,void 0,void 0,function*(){if(this.hasSubscriptionListeners(r)){if(r){for(let s of this.subscriptions[r])(o=this.eventSource)===null||o===void 0||o.removeEventListener(r,s);delete this.subscriptions[r]}else this.subscriptions={};this.hasSubscriptionListeners()?this.hasSubscriptionListeners(r)||(yield this.submitSubscriptions()):this.disconnect()}})}unsubscribeByPrefix(r){var o;return _n(this,void 0,void 0,function*(){let s=!1;for(let a in this.subscriptions)if(a.startsWith(r)){s=!0;for(let u of this.subscriptions[a])(o=this.eventSource)===null||o===void 0||o.removeEventListener(a,u);delete this.subscriptions[a]}s&&(this.hasSubscriptionListeners()?yield this.submitSubscriptions():this.disconnect())})}unsubscribeByTopicAndListener(r,o){var s;return _n(this,void 0,void 0,function*(){if(!Array.isArray(this.subscriptions[r])||!this.subscriptions[r].length)return;let a=!1;for(let u=this.subscriptions[r].length-1;u>=0;u--)this.subscriptions[r][u]===o&&(a=!0,delete this.subscriptions[r][u],this.subscriptions[r].splice(u,1),(s=this.eventSource)===null||s===void 0||s.removeEventListener(r,o));a&&(this.subscriptions[r].length||delete this.subscriptions[r],this.hasSubscriptionListeners()?this.hasSubscriptionListeners(r)||(yield this.submitSubscriptions()):this.disconnect())})}hasSubscriptionListeners(r){var o,s;if(this.subscriptions=this.subscriptions||{},r)return!!(!((o=this.subscriptions[r])===null||o===void 0)&&o.length);for(let a in this.subscriptions)if(!((s=this.subscriptions[a])===null||s===void 0)&&s.length)return!0;return!1}submitSubscriptions(){return _n(this,void 0,void 0,function*(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},query:{requestKey:this.getSubscriptionsCancelKey()}}).catch(r=>{if(!r?.isAbort)throw r})})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getNonEmptySubscriptionTopics(){const r=[];for(let o in this.subscriptions)this.subscriptions[o].length&&r.push(o);return r}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let r in this.subscriptions)for(let o of this.subscriptions[r])this.eventSource.addEventListener(r,o)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let r in this.subscriptions)for(let o of this.subscriptions[r])this.eventSource.removeEventListener(r,o)}connect(){return _n(this,void 0,void 0,function*(){if(!(this.reconnectAttempts>0))return new Promise((r,o)=>{this.pendingConnects.push({resolve:r,reject:o}),this.pendingConnects.length>1||this.initConnect()})})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=r=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",r=>{const o=r;this.clientId=o?.lastEventId,this.submitSubscriptions().then(()=>_n(this,void 0,void 0,function*(){let s=3;for(;this.hasUnsentSubscriptions()&&s>0;)s--,yield this.submitSubscriptions()})).then(()=>{for(let s of this.pendingConnects)s.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId)}).catch(s=>{this.clientId="",this.connectErrorHandler(s)})})}hasUnsentSubscriptions(){const r=this.getNonEmptySubscriptionTopics();if(r.length!=this.lastSentTopics.length)return!0;for(const o of r)if(!this.lastSentTopics.includes(o))return!0;return!1}connectErrorHandler(r){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let s of this.pendingConnects)s.reject(new Do(r));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const o=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},o)}disconnect(r=!1){var o;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(o=this.eventSource)===null||o===void 0||o.close(),this.eventSource=null,this.clientId="",!r){this.reconnectAttempts=0;for(let s of this.pendingConnects)s.resolve();this.pendingConnects=[]}}}class eV extends Ey{constructor(r,o){super(r),this.collectionIdOrName=o}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}subscribeOne(r,o){return _n(this,void 0,void 0,function*(){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),this.client.realtime.subscribe(this.collectionIdOrName+"/"+r,o)})}subscribe(r,o){return _n(this,void 0,void 0,function*(){if(typeof r=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),this.client.realtime.subscribe(this.collectionIdOrName,r);if(!o)throw new Error("Missing subscription callback.");if(r==="")throw new Error("Missing topic.");let s=this.collectionIdOrName;return r!=="*"&&(s+="/"+r),this.client.realtime.subscribe(s,o)})}unsubscribe(r){return _n(this,void 0,void 0,function*(){return r==="*"?this.client.realtime.unsubscribe(this.collectionIdOrName):r?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+r):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)})}getFullList(r,o){if(typeof r=="number")return super.getFullList(r,o);const s=Object.assign({},r,o);return super.getFullList(s)}getList(r=1,o=30,s){return super.getList(r,o,s)}getFirstListItem(r,o){return super.getFirstListItem(r,o)}getOne(r,o){return super.getOne(r,o)}create(r,o){return super.create(r,o)}update(r,o,s){return super.update(r,o,s).then(a=>{var u,h,f;return((u=this.client.authStore.model)===null||u===void 0?void 0:u.id)!==a?.id||((h=this.client.authStore.model)===null||h===void 0?void 0:h.collectionId)!==this.collectionIdOrName&&((f=this.client.authStore.model)===null||f===void 0?void 0:f.collectionName)!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,a),a})}delete(r,o){return super.delete(r,o).then(s=>{var a,u,h;return!s||((a=this.client.authStore.model)===null||a===void 0?void 0:a.id)!==r||((u=this.client.authStore.model)===null||u===void 0?void 0:u.collectionId)!==this.collectionIdOrName&&((h=this.client.authStore.model)===null||h===void 0?void 0:h.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),s})}authResponse(r){const o=this.decode(r?.record||{});return this.client.authStore.save(r?.token,o),Object.assign({},r,{token:r?.token||"",record:o})}listAuthMethods(r){return r=Object.assign({method:"GET"},r),this.client.send(this.baseCollectionPath+"/auth-methods",r).then(o=>Object.assign({},o,{usernamePassword:!!o?.usernamePassword,emailPassword:!!o?.emailPassword,authProviders:Array.isArray(o?.authProviders)?o?.authProviders:[]}))}authWithPassword(r,o,s,a){let u={method:"POST",body:{identity:r,password:o}};return u=Tr("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",u,s,a),this.client.send(this.baseCollectionPath+"/auth-with-password",u).then(h=>this.authResponse(h))}authWithOAuth2Code(r,o,s,a,u,h,f){let m={method:"POST",body:{provider:r,code:o,codeVerifier:s,redirectUrl:a,createData:u}};return m=Tr("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",m,h,f),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",m).then(k=>this.authResponse(k))}authWithOAuth2(...r){return _n(this,void 0,void 0,function*(){if(r.length>1||typeof r?.[0]=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code(r?.[0]||"",r?.[1]||"",r?.[2]||"",r?.[3]||"",r?.[4]||{},r?.[5]||{},r?.[6]||{});const o=r?.[0]||{},s=(yield this.listAuthMethods()).authProviders.find(m=>m.name===o.provider);if(!s)throw new Do(new Error(`Missing or invalid provider "${o.provider}".`));const a=this.client.buildUrl("/api/oauth2-redirect"),u=new IP(this.client);let h=null;function f(){h?.close(),u.unsubscribe()}return o.urlCallback||(h=PT(void 0)),new Promise((m,k)=>_n(this,void 0,void 0,function*(){var v;try{yield u.subscribe("@oauth2",S=>_n(this,void 0,void 0,function*(){const T=u.clientId;try{if(!S.state||T!==S.state)throw new Error("State parameters don't match.");const B=Object.assign({},o);delete B.provider,delete B.scopes,delete B.createData,delete B.urlCallback;const N=yield this.authWithOAuth2Code(s.name,S.code,s.codeVerifier,a,o.createData,B);m(N)}catch(B){k(new Do(B))}f()}));const _={state:u.clientId};!((v=o.scopes)===null||v===void 0)&&v.length&&(_.scope=o.scopes.join(" "));const C=this._replaceQueryParams(s.authUrl+a,_);yield(o.urlCallback||function(S){h?h.location.href=S:h=PT(S)})(C)}catch(_){f(),k(new Do(_))}}))})}authRefresh(r,o){let s={method:"POST"};return s=Tr("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",s,r,o),this.client.send(this.baseCollectionPath+"/auth-refresh",s).then(a=>this.authResponse(a))}requestPasswordReset(r,o,s){let a={method:"POST",body:{email:r}};return a=Tr("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",a,o,s),this.client.send(this.baseCollectionPath+"/request-password-reset",a).then(()=>!0)}confirmPasswordReset(r,o,s,a,u){let h={method:"POST",body:{token:r,password:o,passwordConfirm:s}};return h=Tr("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",h,a,u),this.client.send(this.baseCollectionPath+"/confirm-password-reset",h).then(()=>!0)}requestVerification(r,o,s){let a={method:"POST",body:{email:r}};return a=Tr("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",a,o,s),this.client.send(this.baseCollectionPath+"/request-verification",a).then(()=>!0)}confirmVerification(r,o,s){let a={method:"POST",body:{token:r}};return a=Tr("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",a,o,s),this.client.send(this.baseCollectionPath+"/confirm-verification",a).then(()=>!0)}requestEmailChange(r,o,s){let a={method:"POST",body:{newEmail:r}};return a=Tr("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",a,o,s),this.client.send(this.baseCollectionPath+"/request-email-change",a).then(()=>!0)}confirmEmailChange(r,o,s,a){let u={method:"POST",body:{token:r,password:o}};return u=Tr("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",u,s,a),this.client.send(this.baseCollectionPath+"/confirm-email-change",u).then(()=>!0)}listExternalAuths(r,o){return o=Object.assign({method:"GET"},o),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(r)+"/external-auths",o)}unlinkExternalAuth(r,o,s){return s=Object.assign({method:"DELETE"},s),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(r)+"/external-auths/"+encodeURIComponent(o),s).then(()=>!0)}_replaceQueryParams(r,o={}){let s=r,a="";r.indexOf("?")>=0&&(s=r.substring(0,r.indexOf("?")),a=r.substring(r.indexOf("?")+1));const u={},h=a.split("&");for(const f of h){if(f=="")continue;const m=f.split("=");u[decodeURIComponent(m[0].replace(/\+/g," "))]=decodeURIComponent((m[1]||"").replace(/\+/g," "))}for(let f in o)o.hasOwnProperty(f)&&(o[f]==null?delete u[f]:u[f]=o[f]);a="";for(let f in u)u.hasOwnProperty(f)&&(a!=""&&(a+="&"),a+=encodeURIComponent(f.replace(/%20/g,"+"))+"="+encodeURIComponent(u[f].replace(/%20/g,"+")));return a!=""?s+"?"+a:s}}function PT(n){if(typeof window>"u"||!window?.open)throw new Do(new Error("Not in a browser context - please pass a custom urlCallback function."));let r=1024,o=768,s=window.innerWidth,a=window.innerHeight;r=r>s?s:r,o=o>a?a:o;let u=s/2-r/2,h=a/2-o/2;return window.open(n,"popup_window","width="+r+",height="+o+",top="+h+",left="+u+",resizable,menubar=no")}class tV extends Ey{get baseCrudPath(){return"/api/collections"}import(r,o=!1,s){return _n(this,void 0,void 0,function*(){return s=Object.assign({method:"PUT",body:{collections:r,deleteMissing:o}},s),this.client.send(this.baseCrudPath+"/import",s).then(()=>!0)})}}class nV extends Ga{getRequestsList(r=1,o=30,s){return(s=Object.assign({method:"GET"},s)).query=Object.assign({page:r,perPage:o},s.query),this.client.send("/api/logs/requests",s)}getRequest(r,o){return o=Object.assign({method:"GET"},o),this.client.send("/api/logs/requests/"+encodeURIComponent(r),o)}getRequestsStats(r){return r=Object.assign({method:"GET"},r),this.client.send("/api/logs/requests/stats",r)}}class rV extends Ga{check(r){return r=Object.assign({method:"GET"},r),this.client.send("/api/health",r)}}class oV extends Ga{getUrl(r,o,s={}){if(!o||!r?.id||!r?.collectionId&&!r?.collectionName)return"";const a=[];a.push("api"),a.push("files"),a.push(encodeURIComponent(r.collectionId||r.collectionName)),a.push(encodeURIComponent(r.id)),a.push(encodeURIComponent(o));let u=this.client.buildUrl(a.join("/"));if(Object.keys(s).length){s.download===!1&&delete s.download;const h=new URLSearchParams(s);u+=(u.includes("?")?"&":"?")+h}return u}getToken(r){return r=Object.assign({method:"POST"},r),this.client.send("/api/files/token",r).then(o=>o?.token||"")}}class iV extends Ga{getFullList(r){return r=Object.assign({method:"GET"},r),this.client.send("/api/backups",r)}create(r,o){return o=Object.assign({method:"POST",body:{name:r}},o),this.client.send("/api/backups",o).then(()=>!0)}upload(r,o){return o=Object.assign({method:"POST",body:r},o),this.client.send("/api/backups/upload",o).then(()=>!0)}delete(r,o){return o=Object.assign({method:"DELETE"},o),this.client.send(`/api/backups/${encodeURIComponent(r)}`,o).then(()=>!0)}restore(r,o){return o=Object.assign({method:"POST"},o),this.client.send(`/api/backups/${encodeURIComponent(r)}/restore`,o).then(()=>!0)}getDownloadUrl(r,o){return this.client.buildUrl(`/api/backups/${encodeURIComponent(o)}?token=${encodeURIComponent(r)}`)}}const sV=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];let aV=class{constructor(r="/",o,s="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=r,this.lang=s,this.authStore=o||new Z9,this.admins=new X9(this),this.collections=new tV(this),this.files=new oV(this),this.logs=new nV(this),this.settings=new J9(this),this.realtime=new IP(this),this.health=new rV(this),this.backups=new iV(this)}collection(r){return this.recordServices[r]||(this.recordServices[r]=new eV(this,r)),this.recordServices[r]}autoCancellation(r){return this.enableAutoCancellation=!!r,this}cancelRequest(r){return this.cancelControllers[r]&&(this.cancelControllers[r].abort(),delete this.cancelControllers[r]),this}cancelAllRequests(){for(let r in this.cancelControllers)this.cancelControllers[r].abort();return this.cancelControllers={},this}getFileUrl(r,o,s={}){return this.files.getUrl(r,o,s)}buildUrl(r){var o;let s=this.baseUrl;return typeof window>"u"||!window.location||s.startsWith("https://")||s.startsWith("http://")||(s=!((o=window.location.origin)===null||o===void 0)&&o.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(s+=window.location.pathname||"/",s+=s.endsWith("/")?"":"/"),s+=this.baseUrl),r&&(s+=s.endsWith("/")?"":"/",s+=r.startsWith("/")?r.substring(1):r),s}send(r,o){return _n(this,void 0,void 0,function*(){o=this.initSendOptions(r,o);let s=this.buildUrl(r);if(this.beforeSend){const a=Object.assign({},yield this.beforeSend(s,o));a.url!==void 0||a.options!==void 0?(s=a.url||s,o=a.options||o):Object.keys(a).length&&(o=a,console?.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(o.query!==void 0){const a=this.serializeQueryParams(o.query);a&&(s+=(s.includes("?")?"&":"?")+a),delete o.query}return this.getHeader(o.headers,"Content-Type")=="application/json"&&o.body&&typeof o.body!="string"&&(o.body=JSON.stringify(o.body)),(o.fetch||fetch)(s,o).then(a=>_n(this,void 0,void 0,function*(){let u={};try{u=yield a.json()}catch{}if(this.afterSend&&(u=yield this.afterSend(a,u)),a.status>=400)throw new Do({url:a.url,status:a.status,data:u});return u})).catch(a=>{throw new Do(a)})})}initSendOptions(r,o){(o=Object.assign({method:"GET"},o)).query=o.query||{},o.body=this.convertToFormDataIfNeeded(o.body);for(let s in o)sV.includes(s)||(o.query[s]=o[s],delete o[s]);if(o.query=Object.assign({},o.params,o.query),o.requestKey===void 0&&(o.$autoCancel===!1||o.query.$autoCancel===!1?o.requestKey=null:(o.$cancelKey||o.query.$cancelKey)&&(o.requestKey=o.$cancelKey||o.query.$cancelKey)),delete o.$autoCancel,delete o.query.$autoCancel,delete o.$cancelKey,delete o.query.$cancelKey,this.getHeader(o.headers,"Content-Type")!==null||this.isFormData(o.body)||(o.headers=Object.assign({},o.headers,{"Content-Type":"application/json"})),this.getHeader(o.headers,"Accept-Language")===null&&(o.headers=Object.assign({},o.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(o.headers,"Authorization")===null&&(o.headers=Object.assign({},o.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&o.requestKey!==null){const s=o.requestKey||(o.method||"GET")+r;delete o.requestKey,this.cancelRequest(s);const a=new AbortController;this.cancelControllers[s]=a,o.signal=a.signal}return o}convertToFormDataIfNeeded(r){if(typeof FormData>"u"||r===void 0||typeof r!="object"||r===null||this.isFormData(r)||!this.hasBlobField(r))return r;const o=new FormData;for(let s in r){const a=Array.isArray(r[s])?r[s]:[r[s]];for(let u of a)o.append(s,u)}return o}hasBlobField(r){for(let o in r){const s=Array.isArray(r[o])?r[o]:[r[o]];for(let a of s)if(typeof Blob<"u"&&a instanceof Blob||typeof File<"u"&&a instanceof File)return!0}return!1}getHeader(r,o){r=r||{},o=o.toLowerCase();for(let s in r)if(s.toLowerCase()==o)return r[s];return null}isFormData(r){return r&&(r.constructor.name==="FormData"||typeof FormData<"u"&&r instanceof FormData)}serializeQueryParams(r){const o=[];for(const s in r){if(r[s]===null)continue;const a=r[s],u=encodeURIComponent(s);if(Array.isArray(a))for(const h of a)o.push(u+"="+encodeURIComponent(h));else a instanceof Date?o.push(u+"="+encodeURIComponent(a.toISOString())):typeof a!==null&&typeof a=="object"?o.push(u+"="+encodeURIComponent(JSON.stringify(a))):o.push(u+"="+encodeURIComponent(a))}return o.join("&")}};const of=new aV("https://worldwise.pockethost.io"),MP=ee.createContext(),cV={cities:[],isLoading:!1,currentCity:{},dbUser:null,error:""};function lV(n,r){switch(r.type){case"loading":return{...n,isLoading:!0};case"cities/loaded":return{...n,isLoading:!1,cities:r.payload};case"city/loaded":return{...n,isLoading:!1,currentCity:r.payload};case"city/created":return{...n,isLoading:!1,cities:[...n.cities,r.payload],currentCity:r.payload};case"city/deleted":return{...n,isLoading:!1,cities:n.cities.filter(o=>o.id!==r.payload),currentCity:{}};case"rejected":return{...n,isLoading:!1,error:r.payload};case"db/load":return{...n,dbUser:`cities_${r.payload}`};default:throw new Error("Unknown action type")}}function uV({children:n}){const[{cities:r,isLoading:o,currentCity:s,dbUser:a,error:u},h]=ee.useReducer(lV,cV);ee.useEffect(function(){async function v(){h({type:"loading"});try{const _=await of.collection(a).getFullList({sort:"-date",requestKey:"getCities"});h({type:"cities/loaded",payload:_})}catch(_){console.error(_),h({type:"rejected",payload:"There was an error loading cities..."})}}a&&v()},[a]);const f=ee.useCallback(async function(_){if(Number(_)!==s.id){h({type:"loading"});try{const C=await of.collection(a).getOne(_);h({type:"city/loaded",payload:C})}catch(C){console.error(C),h({type:"rejected",payload:"There was an error loading the city..."})}}},[s.id,a]);async function m(v){h({type:"loading"});try{const _=await of.collection(a).create(JSON.stringify(v));h({type:"city/created",payload:_})}catch(_){console.error(_),h({type:"rejected",payload:"There was an error creating the city..."})}}async function k(v){h({type:"loading"});try{await of.collection(a).delete(v),h({type:"city/deleted",payload:v})}catch(_){console.error(_),h({type:"rejected",payload:"There was an error deleting the city..."})}}return he.jsx(MP.Provider,{value:{cities:r,isLoading:o,currentCity:s,dbUser:a,error:u,getCity:f,createCity:m,deleteCity:k,dispatch:h},children:n})}function Jd(){const n=ee.useContext(MP);if(n===void 0)throw new Error("CitiesContext was used outside the CitiesProvider");return n}var dV="Logging",hV=globalThis&&globalThis.__values||function(n){var r=typeof Symbol=="function"&&Symbol.iterator,o=r&&n[r],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},zc=globalThis&&globalThis.__read||function(n,r){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var s=o.call(n),a,u=[],h;try{for(;(r===void 0||r-- >0)&&!(a=s.next()).done;)u.push(a.value)}catch(f){h={error:f}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(h)throw h.error}}return u},Fc=globalThis&&globalThis.__spreadArray||function(n,r,o){if(o||arguments.length===2)for(var s=0,a=r.length,u;s<a;s++)(u||!(s in r))&&(u||(u=Array.prototype.slice.call(r,0,s)),u[s]=r[s]);return n.concat(u||Array.prototype.slice.call(r))},NT={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},vo;(function(n){n.DEBUG="DEBUG",n.ERROR="ERROR",n.INFO="INFO",n.WARN="WARN",n.VERBOSE="VERBOSE"})(vo||(vo={}));var Mo=function(){function n(r,o){o===void 0&&(o=vo.WARN),this.name=r,this.level=o,this._pluggables=[]}return n.prototype._padding=function(r){return r<10?"0"+r:""+r},n.prototype._ts=function(){var r=new Date;return[this._padding(r.getMinutes()),this._padding(r.getSeconds())].join(":")+"."+r.getMilliseconds()},n.prototype.configure=function(r){return r?(this._config=r,this._config):this._config},n.prototype._log=function(r){for(var o,s,a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];var h=this.level;n.LOG_LEVEL&&(h=n.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(h=window.LOG_LEVEL);var f=NT[h],m=NT[r];if(m>=f){var k=console.log.bind(console);r===vo.ERROR&&console.error&&(k=console.error.bind(console)),r===vo.WARN&&console.warn&&(k=console.warn.bind(console));var v="[".concat(r,"] ").concat(this._ts()," ").concat(this.name),_="";if(a.length===1&&typeof a[0]=="string")_="".concat(v," - ").concat(a[0]),k(_);else if(a.length===1)_="".concat(v," ").concat(a[0]),k(v,a[0]);else if(typeof a[0]=="string"){var C=a.slice(1);C.length===1&&(C=C[0]),_="".concat(v," - ").concat(a[0]," ").concat(C),k("".concat(v," - ").concat(a[0]),C)}else _="".concat(v," ").concat(a),k(v,a);try{for(var x=hV(this._pluggables),S=x.next();!S.done;S=x.next()){var T=S.value,B={message:_,timestamp:Date.now()};T.pushLogs([B])}}catch(N){o={error:N}}finally{try{S&&!S.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}}},n.prototype.log=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];this._log.apply(this,Fc([vo.INFO],zc(r),!1))},n.prototype.info=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];this._log.apply(this,Fc([vo.INFO],zc(r),!1))},n.prototype.warn=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];this._log.apply(this,Fc([vo.WARN],zc(r),!1))},n.prototype.error=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];this._log.apply(this,Fc([vo.ERROR],zc(r),!1))},n.prototype.debug=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];this._log.apply(this,Fc([vo.DEBUG],zc(r),!1))},n.prototype.verbose=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];this._log.apply(this,Fc([vo.VERBOSE],zc(r),!1))},n.prototype.addPluggable=function(r){r&&r.getCategoryName()===dV&&(this._pluggables.push(r),r.configure(this._config))},n.prototype.listPluggables=function(){return this._pluggables},n.LOG_LEVEL=null,n}(),pV=globalThis&&globalThis.__read||function(n,r){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var s=o.call(n),a,u=[],h;try{for(;(r===void 0||r-- >0)&&!(a=s.next()).done;)u.push(a.value)}catch(f){h={error:f}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(h)throw h.error}}return u},Cw=new Mo("Amplify"),fV=function(){function n(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Notifications=null,this.Logger=Mo,this.ServiceWorker=null}return n.prototype.register=function(r){Cw.debug("component registered in amplify",r),this._components.push(r),typeof r.getModuleName=="function"?(this._modules[r.getModuleName()]=r,this[r.getModuleName()]=r):Cw.debug("no getModuleName method for component",r),r.configure(this._config)},n.prototype.configure=function(r){var o=this;return r?(this._config=Object.assign(this._config,r),Cw.debug("amplify config",this._config),Object.entries(this._modules).forEach(function(s){var a=pV(s,2);a[0];var u=a[1];Object.keys(u).forEach(function(h){o._modules[h]&&(u[h]=o._modules[h])})}),this._components.map(function(s){s.configure(o._config)}),this._config):this._config},n.prototype.addPluggable=function(r){r&&r.getCategory&&typeof r.getCategory=="function"&&this._components.map(function(o){o.addPluggable&&typeof o.addPluggable=="function"&&o.addPluggable(r)})},n}(),nm=new fV,sn;(function(n){n.WebUnknown="0",n.React="1",n.NextJs="2",n.Angular="3",n.VueJs="4",n.Nuxt="5",n.Svelte="6",n.ServerSideUnknown="100",n.ReactSSR="101",n.NextJsSSR="102",n.AngularSSR="103",n.VueJsSSR="104",n.NuxtSSR="105",n.SvelteSSR="106",n.ReactNative="201",n.Expo="202"})(sn||(sn={}));var Vv;(function(n){n.API="api",n.Auth="auth",n.Analytics="analytics",n.DataStore="datastore",n.Geo="geo",n.InAppMessaging="inappmessaging",n.Interactions="interactions",n.Predictions="predictions",n.PubSub="pubsub",n.PushNotification="pushnotification",n.Storage="storage"})(Vv||(Vv={}));var OT;(function(n){n.Record="1",n.UpdateEndpoint="2"})(OT||(OT={}));var BT;(function(n){n.GraphQl="1",n.Get="2",n.Post="3",n.Put="4",n.Patch="5",n.Del="6",n.Head="7"})(BT||(BT={}));var Hv;(function(n){n.FederatedSignIn="30"})(Hv||(Hv={}));var RT;(function(n){n.Subscribe="1",n.GraphQl="2"})(RT||(RT={}));var LT;(function(n){n.None="0"})(LT||(LT={}));var jT;(function(n){n.None="0"})(jT||(jT={}));var zT;(function(n){n.None="0"})(zT||(zT={}));var FT;(function(n){n.Convert="1",n.Identify="2",n.Interpret="3"})(FT||(FT={}));var UT;(function(n){n.Subscribe="1"})(UT||(UT={}));var VT;(function(n){n.None="0"})(VT||(VT={}));var HT;(function(n){n.Put="1",n.Get="2",n.List="3",n.Copy="4",n.Remove="5",n.GetProperties="6"})(HT||(HT={}));var PP="5.3.11",rm=function(){return typeof{}<"u"},Bl=function(){return typeof window<"u"},NP=function(){return typeof document<"u"},Sy=function(){return typeof process<"u"},zd=function(n,r){return!!Object.keys(n).find(function(o){return o.startsWith(r)})};function gV(){var n=function(s){return s.startsWith("_react")||s.startsWith("__react")},r=function(s){return Object.keys(s).find(n)},o=function(){return Array.from(document.querySelectorAll("[id]"))};return NP()&&o().some(r)}function mV(){return Sy()&&typeof process.env<"u"&&!!Object.keys(process.env).find(function(n){return n.includes("react")})}function kV(){return Bl()&&zd(window,"__VUE")}function bV(){return rm()&&zd({},"__VUE")}function wV(){return Bl()&&zd(window,"__SVELTE")}function vV(){return Sy()&&typeof process.env<"u"&&!!Object.keys(process.env).find(function(n){return n.includes("svelte")})}function yV(){return Bl()&&window.next&&typeof window.next=="object"}function _V(){return rm()&&(zd({},"__next")||zd({},"__NEXT"))}function CV(){return Bl()&&(window.__NUXT__!==void 0||window.$nuxt!==void 0)}function AV(){return rm()&&typeof{}.__NUXT_PATHS__<"u"}function xV(){var n=!!(NP()&&document.querySelector("[ng-version]")),r=!!(Bl()&&typeof window.ng<"u");return n||r}function EV(){var n;return Sy()&&typeof process.env=="object"&&((n=process.env.npm_lifecycle_script)===null||n===void 0?void 0:n.startsWith("ng "))||!1}function SV(){return typeof navigator<"u"&&typeof navigator.product<"u"&&navigator.product==="ReactNative"}function DV(){return rm()&&typeof{}.expo<"u"}function TV(){return Bl()}var IV=[{platform:sn.Expo,detectionMethod:DV},{platform:sn.ReactNative,detectionMethod:SV},{platform:sn.NextJs,detectionMethod:yV},{platform:sn.Nuxt,detectionMethod:CV},{platform:sn.Angular,detectionMethod:xV},{platform:sn.React,detectionMethod:gV},{platform:sn.VueJs,detectionMethod:kV},{platform:sn.Svelte,detectionMethod:wV},{platform:sn.WebUnknown,detectionMethod:TV},{platform:sn.NextJsSSR,detectionMethod:_V},{platform:sn.NuxtSSR,detectionMethod:AV},{platform:sn.ReactSSR,detectionMethod:mV},{platform:sn.VueJsSSR,detectionMethod:bV},{platform:sn.AngularSSR,detectionMethod:EV},{platform:sn.SvelteSSR,detectionMethod:vV}];function MV(){var n;return((n=IV.find(function(r){return r.detectionMethod()}))===null||n===void 0?void 0:n.platform)||sn.ServerSideUnknown}var pd,If=[],dg=!1,PV=10,NV=10,OV=1e3,Dy=function(){if(!pd){if(pd=MV(),dg)for(;If.length;)If.pop()();else If.forEach(function(n){return n()});WT(sn.ServerSideUnknown,PV),WT(sn.WebUnknown,NV)}return pd},OP=function(n){dg||If.push(n)};function BV(){pd=void 0}function WT(n,r){pd===n&&!dg&&setTimeout(function(){BV(),dg=!0,setTimeout(Dy,OV)},r)}var RV=globalThis&&globalThis.__read||function(n,r){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var s=o.call(n),a,u=[],h;try{for(;(r===void 0||r-- >0)&&!(a=s.next()).done;)u.push(a.value)}catch(f){h={error:f}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(h)throw h.error}}return u},BP="aws-amplify",LV=function(){function n(){this.userAgent="".concat(BP,"/").concat(PP)}return Object.defineProperty(n.prototype,"framework",{get:function(){return Dy()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isReactNative",{get:function(){return this.framework===sn.ReactNative||this.framework===sn.Expo},enumerable:!1,configurable:!0}),n.prototype.observeFrameworkChanges=function(r){OP(r)},n}(),Aw=new LV,jV=function(n){var r=n===void 0?{}:n,o=r.category,s=r.action;r.framework;var a=[[BP,PP]];return o&&a.push([o,s]),a.push(["framework",Dy()]),a},Ty=function(n){var r=jV(n),o=r.map(function(s){var a=RV(s,2),u=a[0],h=a[1];return"".concat(u,"/").concat(h)}).join(" ");return o},fd=globalThis&&globalThis.__assign||function(){return fd=Object.assign||function(n){for(var r,o=1,s=arguments.length;o<s;o++){r=arguments[o];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},fd.apply(this,arguments)},xw=globalThis&&globalThis.__read||function(n,r){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var s=o.call(n),a,u=[],h;try{for(;(r===void 0||r-- >0)&&!(a=s.next()).done;)u.push(a.value)}catch(f){h={error:f}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(h)throw h.error}}return u},$T=globalThis&&globalThis.__spreadArray||function(n,r,o){if(o||arguments.length===2)for(var s=0,a=r.length,u;s<a;s++)(u||!(s in r))&&(u||(u=Array.prototype.slice.call(r,0,s)),u[s]=r[s]);return n.concat(u||Array.prototype.slice.call(r))},_i=new Mo("Hub"),zV=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default";function FV(n){return n.onHubCapsule!==void 0}var UV=function(){function n(r){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=r}return n.prototype._remove=function(r,o){if(r instanceof RegExp){var s=this.patterns.find(function(u){var h=u.pattern;return h.source===r.source});if(!s){_i.warn("No listeners for ".concat(r));return}this.patterns=$T([],xw(this.patterns.filter(function(u){return u!==s})),!1)}else{var a=this.listeners[r];if(!a){_i.warn("No listeners for ".concat(r));return}this.listeners[r]=$T([],xw(a.filter(function(u){var h=u.callback;return h!==o})),!1)}},n.prototype.remove=function(r,o){this._remove(r,o)},n.prototype.dispatch=function(r,o,s,a){if(s===void 0&&(s=""),this.protectedChannels.indexOf(r)>-1){var u=a===zV;u||_i.warn("WARNING: ".concat(r," is protected and dispatching on it can have unintended consequences"))}var h={channel:r,payload:fd({},o),source:s,patternInfo:[]};try{this._toListeners(h)}catch(f){_i.error(f)}},n.prototype.listen=function(r,o,s){var a=this;s===void 0&&(s="noname");var u;if(FV(o))_i.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),u=o.onHubCapsule.bind(o);else{if(typeof o!="function")throw new Error("No callback supplied to Hub");u=o}if(r instanceof RegExp)this.patterns.push({pattern:r,callback:u});else{var h=this.listeners[r];h||(h=[],this.listeners[r]=h),h.push({name:s,callback:u})}return function(){a._remove(r,u)}},n.prototype._toListeners=function(r){var o=r.channel,s=r.payload,a=this.listeners[o];if(a&&a.forEach(function(h){_i.debug("Dispatching to ".concat(o," with "),s);try{h.callback(r)}catch(f){_i.error(f)}}),this.patterns.length>0){if(!s.message){_i.warn("Cannot perform pattern matching without a message key");return}var u=s.message;this.patterns.forEach(function(h){var f=u.match(h.pattern);if(f){var m=xw(f),k=m.slice(1),v=fd(fd({},r),{patternInfo:k});try{h.callback(v)}catch(_){_i.error(_)}}})}},n}(),Si=new UV("__default__"),VV=function(n){if(n.isResolved)return n;var r=!0,o=!1,s=!1,a=n.then(function(u){return s=!0,r=!1,u},function(u){throw o=!0,r=!1,u});return a.isFullfilled=function(){return s},a.isPending=function(){return r},a.isRejected=function(){return o},a},zi=function(){var n=typeof window<"u"&&typeof window.document<"u",r=typeof process<"u"&&process.versions!=null&&process.versions.node!=null;return{isBrowser:n,isNode:r}},HV=globalThis&&globalThis.__extends||function(){var n=function(r,o){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])},n(r,o)};return function(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");n(r,o);function s(){this.constructor=r}r.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}}(),YT=globalThis&&globalThis.__awaiter||function(n,r,o,s){function a(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function f(v){try{k(s.next(v))}catch(_){h(_)}}function m(v){try{k(s.throw(v))}catch(_){h(_)}}function k(v){v.done?u(v.value):a(v.value).then(f,m)}k((s=s.apply(n,r||[])).next())})},Ew=globalThis&&globalThis.__generator||function(n,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(k){return function(v){return m([k,v])}}function m(k){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,k[0]&&(o=0)),o;)try{if(s=1,a&&(u=k[0]&2?a.return:k[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,k[1])).done)return u;switch(a=0,u&&(k=[k[0]&2,u.value]),k[0]){case 0:case 1:u=k;break;case 4:return o.label++,{value:k[1],done:!1};case 5:o.label++,a=k[1],k=[0];continue;case 7:k=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(k[0]===6||k[0]===2)){o=0;continue}if(k[0]===3&&(!u||k[1]>u[0]&&k[1]<u[3])){o.label=k[1];break}if(k[0]===6&&o.label<u[1]){o.label=u[1],u=k;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(k);break}u[2]&&o.ops.pop(),o.trys.pop();continue}k=r.call(n,o)}catch(v){k=[6,v],a=0}finally{s=u=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}},WV=globalThis&&globalThis.__read||function(n,r){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var s=o.call(n),a,u=[],h;try{for(;(r===void 0||r-- >0)&&!(a=s.next()).done;)u.push(a.value)}catch(f){h={error:f}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(h)throw h.error}}return u},$V=globalThis&&globalThis.__spreadArray||function(n,r,o){if(o||arguments.length===2)for(var s=0,a=r.length,u;s<a;s++)(u||!(s in r))&&(u||(u=Array.prototype.slice.call(r,0,s)),u[s]=r[s]);return n.concat(u||Array.prototype.slice.call(r))},sf=new Mo("Util"),Ta=function(n){HV(r,n);function r(o){var s=n.call(this,o)||this;return s.nonRetryable=!0,s}return r}(Error),YV=function(n){var r="nonRetryable";return n&&n[r]};function qV(n,r,o,s){return YT(this,void 0,void 0,function(){var a=this;return Ew(this,function(u){if(typeof n!="function")throw Error("functionToRetry must be a function");return[2,new Promise(function(h,f){return YT(a,void 0,void 0,function(){var m,k,v,_,C,x,S;return Ew(this,function(T){switch(T.label){case 0:m=0,k=!1,_=function(){},s&&s.then(function(){k=!0,clearTimeout(v),_()}),x=function(){var B,N,I,L;return Ew(this,function(V){switch(V.label){case 0:m++,sf.debug("".concat(n.name," attempt #").concat(m," with this vars: ").concat(JSON.stringify(r))),V.label=1;case 1:return V.trys.push([1,3,,7]),B={},N=h,[4,n.apply(void 0,$V([],WV(r),!1))];case 2:return[2,(B.value=N.apply(void 0,[V.sent()]),B)];case 3:return I=V.sent(),C=I,sf.debug("error on ".concat(n.name),I),YV(I)?(sf.debug("".concat(n.name," non retryable error"),I),[2,{value:f(I)}]):(L=o(m,r,I),sf.debug("".concat(n.name," retrying in ").concat(L," ms")),L===!1||k?[2,{value:f(I)}]:[3,4]);case 4:return[4,new Promise(function(K){_=K,v=setTimeout(_,L)})];case 5:V.sent(),V.label=6;case 6:return[3,7];case 7:return[2]}})},T.label=1;case 1:return k?[3,3]:[5,x()];case 2:return S=T.sent(),typeof S=="object"?[2,S.value]:[3,1];case 3:return f(C),[2]}})})})]})})}var RP=5*60*1e3;function LP(n){n===void 0&&(n=RP);var r=100,o=100;return function(s){var a=Math.pow(2,s)*r+o*Math.random();return a>n?!1:a}}var KV=function(n,r,o,s){return o===void 0&&(o=RP),qV(n,r,LP(o),s)};function GV(n){return n.split("").map(function(r){return r.charCodeAt(0).toString(16).padStart(2,"0")}).join("")}function QV(n){return n.match(/.{2}/g).map(function(r){return String.fromCharCode(parseInt(r,16))}).join("")}var Na={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wv=function(n,r){return Wv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])},Wv(n,r)};function Iy(n,r){Wv(n,r);function o(){this.constructor=n}n.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}var Tn=function(){return Tn=Object.assign||function(r){for(var o,s=1,a=arguments.length;s<a;s++){o=arguments[s];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])}return r},Tn.apply(this,arguments)};function ZV(n,r){var o={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&r.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(o[s[a]]=n[s[a]]);return o}function JV(n,r,o,s){var a=arguments.length,u=a<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,o):s,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,r,o,s);else for(var f=n.length-1;f>=0;f--)(h=n[f])&&(u=(a<3?h(u):a>3?h(r,o,u):h(r,o))||u);return a>3&&u&&Object.defineProperty(r,o,u),u}function XV(n,r){return function(o,s){r(o,s,n)}}function eH(n,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,r)}function mt(n,r,o,s){function a(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function f(v){try{k(s.next(v))}catch(_){h(_)}}function m(v){try{k(s.throw(v))}catch(_){h(_)}}function k(v){v.done?u(v.value):a(v.value).then(f,m)}k((s=s.apply(n,r||[])).next())})}function kt(n,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(k){return function(v){return m([k,v])}}function m(k){if(s)throw new TypeError("Generator is already executing.");for(;o;)try{if(s=1,a&&(u=k[0]&2?a.return:k[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,k[1])).done)return u;switch(a=0,u&&(k=[k[0]&2,u.value]),k[0]){case 0:case 1:u=k;break;case 4:return o.label++,{value:k[1],done:!1};case 5:o.label++,a=k[1],k=[0];continue;case 7:k=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(k[0]===6||k[0]===2)){o=0;continue}if(k[0]===3&&(!u||k[1]>u[0]&&k[1]<u[3])){o.label=k[1];break}if(k[0]===6&&o.label<u[1]){o.label=u[1],u=k;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(k);break}u[2]&&o.ops.pop(),o.trys.pop();continue}k=r.call(n,o)}catch(v){k=[6,v],a=0}finally{s=u=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}}function tH(n,r,o,s){s===void 0&&(s=o),n[s]=r[o]}function nH(n,r){for(var o in n)o!=="default"&&!r.hasOwnProperty(o)&&(r[o]=n[o])}function $v(n){var r=typeof Symbol=="function"&&Symbol.iterator,o=r&&n[r],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Co(n,r){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var s=o.call(n),a,u=[],h;try{for(;(r===void 0||r-- >0)&&!(a=s.next()).done;)u.push(a.value)}catch(f){h={error:f}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(h)throw h.error}}return u}function rH(){for(var n=[],r=0;r<arguments.length;r++)n=n.concat(Co(arguments[r]));return n}function oH(){for(var n=0,r=0,o=arguments.length;r<o;r++)n+=arguments[r].length;for(var s=Array(n),a=0,r=0;r<o;r++)for(var u=arguments[r],h=0,f=u.length;h<f;h++,a++)s[a]=u[h];return s}function Fd(n){return this instanceof Fd?(this.v=n,this):new Fd(n)}function iH(n,r,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,r||[]),a,u=[];return a={},h("next"),h("throw"),h("return"),a[Symbol.asyncIterator]=function(){return this},a;function h(C){s[C]&&(a[C]=function(x){return new Promise(function(S,T){u.push([C,x,S,T])>1||f(C,x)})})}function f(C,x){try{m(s[C](x))}catch(S){_(u[0][3],S)}}function m(C){C.value instanceof Fd?Promise.resolve(C.value.v).then(k,v):_(u[0][2],C)}function k(C){f("next",C)}function v(C){f("throw",C)}function _(C,x){C(x),u.shift(),u.length&&f(u[0][0],u[0][1])}}function sH(n){var r,o;return r={},s("next"),s("throw",function(a){throw a}),s("return"),r[Symbol.iterator]=function(){return this},r;function s(a,u){r[a]=n[a]?function(h){return(o=!o)?{value:Fd(n[a](h)),done:a==="return"}:u?u(h):h}:u}}function aH(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n[Symbol.asyncIterator],o;return r?r.call(n):(n=typeof $v=="function"?$v(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(u){o[u]=n[u]&&function(h){return new Promise(function(f,m){h=n[u](h),a(f,m,h.done,h.value)})}}function a(u,h,f,m){Promise.resolve(m).then(function(k){u({value:k,done:f})},h)}}function cH(n,r){return Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,n}function lH(n){if(n&&n.__esModule)return n;var r={};if(n!=null)for(var o in n)Object.hasOwnProperty.call(n,o)&&(r[o]=n[o]);return r.default=n,r}function uH(n){return n&&n.__esModule?n:{default:n}}function dH(n,r){if(!r.has(n))throw new TypeError("attempted to get private field on non-instance");return r.get(n)}function hH(n,r,o){if(!r.has(n))throw new TypeError("attempted to set private field on non-instance");return r.set(n,o),o}const pH=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Tn},__asyncDelegator:sH,__asyncGenerator:iH,__asyncValues:aH,__await:Fd,__awaiter:mt,__classPrivateFieldGet:dH,__classPrivateFieldSet:hH,__createBinding:tH,__decorate:JV,__exportStar:nH,__extends:Iy,__generator:kt,__importDefault:uH,__importStar:lH,__makeTemplateObject:cH,__metadata:eH,__param:XV,__read:Co,__rest:ZV,__spread:rH,__spreadArrays:oH,__values:$v},Symbol.toStringTag,{value:"Module"})),jP=E0(pH);var om={},Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.MAX_HASHABLE_LENGTH=Mr.INIT=Mr.KEY=Mr.DIGEST_LENGTH=Mr.BLOCK_SIZE=void 0;Mr.BLOCK_SIZE=64;Mr.DIGEST_LENGTH=32;Mr.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);Mr.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Mr.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1;var im={};Object.defineProperty(im,"__esModule",{value:!0});im.RawSha256=void 0;var Kr=Mr,fH=function(){function n(){this.state=Int32Array.from(Kr.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return n.prototype.update=function(r){if(this.finished)throw new Error("Attempted to update an already finished hash.");var o=0,s=r.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>Kr.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=r[o++],s--,this.bufferLength===Kr.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},n.prototype.digest=function(){if(!this.finished){var r=this.bytesHashed*8,o=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(o.setUint8(this.bufferLength++,128),s%Kr.BLOCK_SIZE>=Kr.BLOCK_SIZE-8){for(var a=this.bufferLength;a<Kr.BLOCK_SIZE;a++)o.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(var a=this.bufferLength;a<Kr.BLOCK_SIZE-8;a++)o.setUint8(a,0);o.setUint32(Kr.BLOCK_SIZE-8,Math.floor(r/4294967296),!0),o.setUint32(Kr.BLOCK_SIZE-4,r),this.hashBuffer(),this.finished=!0}for(var u=new Uint8Array(Kr.DIGEST_LENGTH),a=0;a<8;a++)u[a*4]=this.state[a]>>>24&255,u[a*4+1]=this.state[a]>>>16&255,u[a*4+2]=this.state[a]>>>8&255,u[a*4+3]=this.state[a]>>>0&255;return u},n.prototype.hashBuffer=function(){for(var r=this,o=r.buffer,s=r.state,a=s[0],u=s[1],h=s[2],f=s[3],m=s[4],k=s[5],v=s[6],_=s[7],C=0;C<Kr.BLOCK_SIZE;C++){if(C<16)this.temp[C]=(o[C*4]&255)<<24|(o[C*4+1]&255)<<16|(o[C*4+2]&255)<<8|o[C*4+3]&255;else{var x=this.temp[C-2],S=(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10;x=this.temp[C-15];var T=(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3;this.temp[C]=(S+this.temp[C-7]|0)+(T+this.temp[C-16]|0)}var B=(((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&k^~m&v)|0)+(_+(Kr.KEY[C]+this.temp[C]|0)|0)|0,N=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&u^a&h^u&h)|0;_=v,v=k,k=m,m=f+B|0,f=h,h=u,u=a,a=B+N|0}s[0]+=a,s[1]+=u,s[2]+=h,s[3]+=f,s[4]+=m,s[5]+=k,s[6]+=v,s[7]+=_},n}();im.RawSha256=fH;var zP={},sm={},gH=function(n){for(var r=[],o=0,s=n.length;o<s;o++){var a=n.charCodeAt(o);if(a<128)r.push(a);else if(a<2048)r.push(a>>6|192,a&63|128);else if(o+1<n.length&&(a&64512)===55296&&(n.charCodeAt(o+1)&64512)===56320){var u=65536+((a&1023)<<10)+(n.charCodeAt(++o)&1023);r.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else r.push(a>>12|224,a>>6&63|128,a&63|128)}return Uint8Array.from(r)},mH=function(n){for(var r="",o=0,s=n.length;o<s;o++){var a=n[o];if(a<128)r+=String.fromCharCode(a);else if(192<=a&&a<224){var u=n[++o];r+=String.fromCharCode((a&31)<<6|u&63)}else if(240<=a&&a<365){var h=[a,n[++o],n[++o],n[++o]],f="%"+h.map(function(m){return m.toString(16)}).join("%");r+=decodeURIComponent(f)}else r+=String.fromCharCode((a&15)<<12|(n[++o]&63)<<6|n[++o]&63)}return r};function kH(n){return new TextEncoder().encode(n)}function bH(n){return new TextDecoder("utf-8").decode(n)}var wH=function(n){return typeof TextEncoder=="function"?kH(n):gH(n)},vH=function(n){return typeof TextDecoder=="function"?bH(n):mH(n)};const yH=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:wH,toUtf8:vH},Symbol.toStringTag,{value:"Module"})),_H=E0(yH);Object.defineProperty(sm,"__esModule",{value:!0});sm.convertToBuffer=void 0;var CH=_H,AH=typeof Buffer<"u"&&Buffer.from?function(n){return Buffer.from(n,"utf8")}:CH.fromUtf8;function xH(n){return n instanceof Uint8Array?n:typeof n=="string"?AH(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)}sm.convertToBuffer=xH;var am={};Object.defineProperty(am,"__esModule",{value:!0});am.isEmptyData=void 0;function EH(n){return typeof n=="string"?n.length===0:n.byteLength===0}am.isEmptyData=EH;var cm={};Object.defineProperty(cm,"__esModule",{value:!0});cm.numToUint8=void 0;function SH(n){return new Uint8Array([(n&4278190080)>>24,(n&16711680)>>16,(n&65280)>>8,n&255])}cm.numToUint8=SH;var lm={};Object.defineProperty(lm,"__esModule",{value:!0});lm.uint32ArrayFrom=void 0;function DH(n){if(!Array.from){for(var r=new Uint32Array(n.length),o=0;o<n.length;)r[o]=n[o];return r}return Uint32Array.from(n)}lm.uint32ArrayFrom=DH;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.uint32ArrayFrom=n.numToUint8=n.isEmptyData=n.convertToBuffer=void 0;var r=sm;Object.defineProperty(n,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=am;Object.defineProperty(n,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var s=cm;Object.defineProperty(n,"numToUint8",{enumerable:!0,get:function(){return s.numToUint8}});var a=lm;Object.defineProperty(n,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})})(zP);Object.defineProperty(om,"__esModule",{value:!0});om.Sha256=void 0;var qT=jP,hg=Mr,Yv=im,qv=zP,TH=function(){function n(r){if(this.hash=new Yv.RawSha256,r){this.outer=new Yv.RawSha256;var o=IH(r),s=new Uint8Array(hg.BLOCK_SIZE);s.set(o);for(var a=0;a<hg.BLOCK_SIZE;a++)o[a]^=54,s[a]^=92;this.hash.update(o),this.outer.update(s);for(var a=0;a<o.byteLength;a++)o[a]=0}}return n.prototype.update=function(r){if(!((0,qv.isEmptyData)(r)||this.error))try{this.hash.update((0,qv.convertToBuffer)(r))}catch(o){this.error=o}},n.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},n.prototype.digest=function(){return(0,qT.__awaiter)(this,void 0,void 0,function(){return(0,qT.__generator)(this,function(r){return[2,this.digestSync()]})})},n}();om.Sha256=TH;function IH(n){var r=(0,qv.convertToBuffer)(n);if(r.byteLength>hg.BLOCK_SIZE){var o=new Yv.RawSha256;o.update(r),r=o.digest()}var s=new Uint8Array(hg.BLOCK_SIZE);return s.set(r),s}(function(n){Object.defineProperty(n,"__esModule",{value:!0});var r=jP;(0,r.__exportStar)(om,n)})(Na);var pg=globalThis&&globalThis.__assign||function(){return pg=Object.assign||function(n){for(var r,o=1,s=arguments.length;o<s;o++){r=arguments[o];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},pg.apply(this,arguments)},MH=new Mo("Parser"),FP=function(n){var r={};if(n.aws_mobile_analytics_app_id){var o={AWSPinpoint:{appId:n.aws_mobile_analytics_app_id,region:n.aws_mobile_analytics_app_region}};r.Analytics=o}(n.aws_cognito_identity_pool_id||n.aws_user_pools_id)&&(r.Auth={userPoolId:n.aws_user_pools_id,userPoolWebClientId:n.aws_user_pools_web_client_id,region:n.aws_cognito_region,identityPoolId:n.aws_cognito_identity_pool_id,identityPoolRegion:n.aws_cognito_region,mandatorySignIn:n.aws_mandatory_sign_in==="enable",signUpVerificationMethod:n.aws_cognito_sign_up_verification_method||"code"});var s;return n.aws_user_files_s3_bucket?s={AWSS3:{bucket:n.aws_user_files_s3_bucket,region:n.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:n.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:s=n?n.Storage||n:{},n.Logging&&(r.Logging=pg(pg({},n.Logging),{region:n.aws_project_region})),n.geo&&(r.Geo=Object.assign({},n.geo),n.geo.amazon_location_service&&(r.Geo={AmazonLocationService:n.geo.amazon_location_service})),r.Analytics=Object.assign({},r.Analytics,n.Analytics),r.Auth=Object.assign({},r.Auth,n.Auth),r.Storage=Object.assign({},s),r.Logging=Object.assign({},r.Logging,n.Logging),MH.debug("parse config",n,"to amplifyconfig",r),r},PH=globalThis&&globalThis.__awaiter||function(n,r,o,s){function a(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function f(v){try{k(s.next(v))}catch(_){h(_)}}function m(v){try{k(s.throw(v))}catch(_){h(_)}}function k(v){v.done?u(v.value):a(v.value).then(f,m)}k((s=s.apply(n,r||[])).next())})},NH=globalThis&&globalThis.__generator||function(n,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(k){return function(v){return m([k,v])}}function m(k){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,k[0]&&(o=0)),o;)try{if(s=1,a&&(u=k[0]&2?a.return:k[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,k[1])).done)return u;switch(a=0,u&&(k=[k[0]&2,u.value]),k[0]){case 0:case 1:u=k;break;case 4:return o.label++,{value:k[1],done:!1};case 5:o.label++,a=k[1],k=[0];continue;case 7:k=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(k[0]===6||k[0]===2)){o=0;continue}if(k[0]===3&&(!u||k[1]>u[0]&&k[1]<u[3])){o.label=k[1];break}if(k[0]===6&&o.label<u[1]){o.label=u[1],u=k;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(k);break}u[2]&&o.ops.pop(),o.trys.pop();continue}k=r.call(n,o)}catch(v){k=[6,v],a=0}finally{s=u=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}},ks=new Mo("CognitoCredentials"),OH=new Promise(function(n,r){if(!zi().isBrowser)return ks.debug("not in the browser, directly resolved"),n();var o=window.gapi&&window.gapi.auth2?window.gapi.auth2:null;if(o)return ks.debug("google api already loaded"),n();setTimeout(function(){return n()},2e3)}),BH=function(){function n(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return n.prototype.refreshGoogleToken=function(){return PH(this,void 0,void 0,function(){return NH(this,function(r){switch(r.label){case 0:return this.initialized?[3,2]:(ks.debug("need to wait for the Google SDK loaded"),[4,OH]);case 1:r.sent(),this.initialized=!0,ks.debug("finish waiting"),r.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})})},n.prototype._refreshGoogleTokenImpl=function(){var r=null;return zi().isBrowser&&(r=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),r?new Promise(function(o,s){r.getAuthInstance().then(function(a){a||(ks.debug("google Auth undefined"),s(new Ta("google Auth undefined")));var u=a.currentUser.get();u.isSignedIn()?(ks.debug("refreshing the google access token"),u.reloadAuthResponse().then(function(h){var f=h.id_token,m=h.expires_at;o({token:f,expires_at:m})}).catch(function(h){h&&h.error==="network_error"?s("Network error reloading google auth response"):s(new Ta("Failed to reload google auth response"))})):s(new Ta("User is not signed in with Google"))}).catch(function(a){ks.debug("Failed to refresh google token",a),s(new Ta("Failed to refresh google token"))})}):(ks.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},n}(),RH=globalThis&&globalThis.__awaiter||function(n,r,o,s){function a(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function f(v){try{k(s.next(v))}catch(_){h(_)}}function m(v){try{k(s.throw(v))}catch(_){h(_)}}function k(v){v.done?u(v.value):a(v.value).then(f,m)}k((s=s.apply(n,r||[])).next())})},LH=globalThis&&globalThis.__generator||function(n,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(k){return function(v){return m([k,v])}}function m(k){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,k[0]&&(o=0)),o;)try{if(s=1,a&&(u=k[0]&2?a.return:k[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,k[1])).done)return u;switch(a=0,u&&(k=[k[0]&2,u.value]),k[0]){case 0:case 1:u=k;break;case 4:return o.label++,{value:k[1],done:!1};case 5:o.label++,a=k[1],k=[0];continue;case 7:k=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(k[0]===6||k[0]===2)){o=0;continue}if(k[0]===3&&(!u||k[1]>u[0]&&k[1]<u[3])){o.label=k[1];break}if(k[0]===6&&o.label<u[1]){o.label=u[1],u=k;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(k);break}u[2]&&o.ops.pop(),o.trys.pop();continue}k=r.call(n,o)}catch(v){k=[6,v],a=0}finally{s=u=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}},Aa=new Mo("CognitoCredentials"),jH=new Promise(function(n,r){if(!zi().isBrowser)return Aa.debug("not in the browser, directly resolved"),n();var o=window.FB;if(o)return Aa.debug("FB SDK already loaded"),n();setTimeout(function(){return n()},2e3)}),zH=function(){function n(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return n.prototype.refreshFacebookToken=function(){return RH(this,void 0,void 0,function(){return LH(this,function(r){switch(r.label){case 0:return this.initialized?[3,2]:(Aa.debug("need to wait for the Facebook SDK loaded"),[4,jH]);case 1:r.sent(),this.initialized=!0,Aa.debug("finish waiting"),r.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})})},n.prototype._refreshFacebookTokenImpl=function(){var r=null;if(zi().isBrowser&&(r=window.FB),!r){var o="no fb sdk available";return Aa.debug(o),Promise.reject(new Ta(o))}return new Promise(function(s,a){r.getLoginStatus(function(u){if(!u||!u.authResponse){var h="no response from facebook when refreshing the jwt token";Aa.debug(h),a(new Ta(h))}else{var f=u.authResponse,m=f.accessToken,k=f.expiresIn,v=new Date,_=k*1e3+v.getTime();if(!m){var h="the jwtToken is undefined";Aa.debug(h),a(new Ta(h))}s({token:m,expires_at:_})}},{scope:"public_profile,email"})})},n}(),FH=new BH,UH=new zH,ba={},VH=function(){function n(){}return n.setItem=function(r,o){return ba[r]=o,ba[r]},n.getItem=function(r){return Object.prototype.hasOwnProperty.call(ba,r)?ba[r]:void 0},n.removeItem=function(r){return delete ba[r]},n.clear=function(){return ba={},ba},n}(),UP=function(){function n(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch{this.storageWindow=VH}}return n.prototype.getStorage=function(){return this.storageWindow},n}(),VP={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-{}"]},HH={partitions:[VP,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-{}"]}]},WH=globalThis&&globalThis.__values||function(n){var r=typeof Symbol=="function"&&Symbol.iterator,o=r&&n[r],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},$H=function(n){var r,o,s=HH.partitions;try{for(var a=WH(s),u=a.next();!u.done;u=a.next()){var h=u.value,f=h.regions,m=h.outputs,k=h.regionRegex,v=new RegExp(k);if(f.includes(n)||v.test(n))return m.dnsSuffix}}catch(_){r={error:_}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return VP.outputs.dnsSuffix};function YH(n,r){return r=r||{},new Promise(function(o,s){var a=new XMLHttpRequest,u=[],h=[],f={},m=function(){return{ok:(a.status/100|0)==2,statusText:a.statusText,status:a.status,url:a.responseURL,text:function(){return Promise.resolve(a.responseText)},json:function(){return Promise.resolve(a.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([a.response]))},clone:m,headers:{keys:function(){return u},entries:function(){return h},get:function(v){return f[v.toLowerCase()]},has:function(v){return v.toLowerCase()in f}}}};for(var k in a.open(r.method||"get",n,!0),a.onload=function(){a.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(v,_,C){u.push(_=_.toLowerCase()),h.push([_,C]),f[_]=f[_]?f[_]+","+C:C}),o(m())},a.onerror=s,a.withCredentials=r.credentials=="include",r.headers)a.setRequestHeader(k,r.headers[k]);a.send(r.body||null)})}const qH=Object.freeze(Object.defineProperty({__proto__:null,default:YH},Symbol.toStringTag,{value:"Module"})),KT=E0(qH);self.fetch||(self.fetch=KT.default||KT);var Sw=function(n){var r;return function(){return r||(r=n()),r}},fg=globalThis&&globalThis.__assign||function(){return fg=Object.assign||function(n){for(var r,o=1,s=arguments.length;o<s;o++){r=arguments[o];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},fg.apply(this,arguments)},KH=globalThis&&globalThis.__awaiter||function(n,r,o,s){function a(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function f(v){try{k(s.next(v))}catch(_){h(_)}}function m(v){try{k(s.throw(v))}catch(_){h(_)}}function k(v){v.done?u(v.value):a(v.value).then(f,m)}k((s=s.apply(n,r||[])).next())})},GH=globalThis&&globalThis.__generator||function(n,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(k){return function(v){return m([k,v])}}function m(k){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,k[0]&&(o=0)),o;)try{if(s=1,a&&(u=k[0]&2?a.return:k[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,k[1])).done)return u;switch(a=0,u&&(k=[k[0]&2,u.value]),k[0]){case 0:case 1:u=k;break;case 4:return o.label++,{value:k[1],done:!1};case 5:o.label++,a=k[1],k=[0];continue;case 7:k=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(k[0]===6||k[0]===2)){o=0;continue}if(k[0]===3&&(!u||k[1]>u[0]&&k[1]<u[3])){o.label=k[1];break}if(k[0]===6&&o.label<u[1]){o.label=u[1],u=k;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(k);break}u[2]&&o.ops.pop(),o.trys.pop();continue}k=r.call(n,o)}catch(v){k=[6,v],a=0}finally{s=u=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}},QH=function(n){return!["HEAD","GET","DELETE"].includes(n.toUpperCase())},ZH=function(n,r){var o=n.url,s=n.method,a=n.headers,u=n.body,h=r.abortSignal;return KH(void 0,void 0,void 0,function(){var f,m,k,v,_,C,x;return GH(this,function(S){switch(S.label){case 0:return S.trys.push([0,2,,3]),[4,fetch(o,{method:s,headers:a,body:QH(s)?u:void 0,signal:h})];case 1:return f=S.sent(),[3,3];case 2:throw m=S.sent(),m instanceof TypeError?new Error("Network error"):m;case 3:return k={},(C=f.headers)===null||C===void 0||C.forEach(function(T,B){k[B.toLowerCase()]=T}),v={statusCode:f.status,headers:k,body:null},_=Object.assign((x=f.body)!==null&&x!==void 0?x:{},{text:Sw(function(){return f.text()}),blob:Sw(function(){return f.blob()}),json:Sw(function(){return f.json()})}),[2,fg(fg({},v),{body:_})]}})})},gg=globalThis&&globalThis.__assign||function(){return gg=Object.assign||function(n){for(var r,o=1,s=arguments.length;o<s;o++){r=arguments[o];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},gg.apply(this,arguments)},JH=globalThis&&globalThis.__awaiter||function(n,r,o,s){function a(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function f(v){try{k(s.next(v))}catch(_){h(_)}}function m(v){try{k(s.throw(v))}catch(_){h(_)}}function k(v){v.done?u(v.value):a(v.value).then(f,m)}k((s=s.apply(n,r||[])).next())})},XH=globalThis&&globalThis.__generator||function(n,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(k){return function(v){return m([k,v])}}function m(k){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,k[0]&&(o=0)),o;)try{if(s=1,a&&(u=k[0]&2?a.return:k[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,k[1])).done)return u;switch(a=0,u&&(k=[k[0]&2,u.value]),k[0]){case 0:case 1:u=k;break;case 4:return o.label++,{value:k[1],done:!1};case 5:o.label++,a=k[1],k=[0];continue;case 7:k=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(k[0]===6||k[0]===2)){o=0;continue}if(k[0]===3&&(!u||k[1]>u[0]&&k[1]<u[3])){o.label=k[1];break}if(k[0]===6&&o.label<u[1]){o.label=u[1],u=k;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(k);break}u[2]&&o.ops.pop(),o.trys.pop();continue}k=r.call(n,o)}catch(v){k=[6,v],a=0}finally{s=u=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}},eW=3,tW=function(n){var r=n.maxAttempts,o=r===void 0?eW:r,s=n.retryDecider,a=n.computeDelay,u=n.abortSignal;if(o<1)throw new Error("maxAttempts must be greater than 0");return function(h,f){return function(k){var v;return JH(this,void 0,void 0,function(){var _,C,x,S,T,B;return XH(this,function(N){switch(N.label){case 0:C=(v=f.attemptsCount)!==null&&v!==void 0?v:0,S=function(){if(x)return GT(x,C),x;throw GT(_,C),_},N.label=1;case 1:if(!(!u?.aborted&&C<o))return[3,11];N.label=2;case 2:return N.trys.push([2,4,,5]),[4,h(k)];case 3:return x=N.sent(),_=void 0,[3,5];case 4:return T=N.sent(),_=T,x=void 0,[3,5];case 5:return C=f.attemptsCount>C?f.attemptsCount:C+1,f.attemptsCount=C,[4,s(x,_)];case 6:return N.sent()?!u?.aborted&&C<o?(B=a(C),[4,nW(B,u)]):[3,8]:[3,9];case 7:N.sent(),N.label=8;case 8:return[3,1];case 9:return[2,S()];case 10:return[3,1];case 11:if(u?.aborted)throw new Error("Request aborted.");return[2,S()]}})})}}},nW=function(n,r){if(r?.aborted)return Promise.resolve();var o,s,a=new Promise(function(u){s=u,o=setTimeout(u,n)});return r?.addEventListener("abort",function u(h){clearTimeout(o),r?.removeEventListener("abort",u),s()}),a},GT=function(n,r){var o;Object.prototype.toString.call(n)==="[object Object]"&&(n.$metadata=gg(gg({},(o=n.$metadata)!==null&&o!==void 0?o:{}),{attempts:r}))},QT=5*60*1e3,rW=function(n){var r=LP(QT),o=r(n);return o===!1?QT:o},oW=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],iW=function(n){return oW.includes(n)},sW=globalThis&&globalThis.__awaiter||function(n,r,o,s){function a(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function f(v){try{k(s.next(v))}catch(_){h(_)}}function m(v){try{k(s.throw(v))}catch(_){h(_)}}function k(v){v.done?u(v.value):a(v.value).then(f,m)}k((s=s.apply(n,r||[])).next())})},aW=globalThis&&globalThis.__generator||function(n,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(k){return function(v){return m([k,v])}}function m(k){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,k[0]&&(o=0)),o;)try{if(s=1,a&&(u=k[0]&2?a.return:k[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,k[1])).done)return u;switch(a=0,u&&(k=[k[0]&2,u.value]),k[0]){case 0:case 1:u=k;break;case 4:return o.label++,{value:k[1],done:!1};case 5:o.label++,a=k[1],k=[0];continue;case 7:k=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(k[0]===6||k[0]===2)){o=0;continue}if(k[0]===3&&(!u||k[1]>u[0]&&k[1]<u[3])){o.label=k[1];break}if(k[0]===6&&o.label<u[1]){o.label=u[1],u=k;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(k);break}u[2]&&o.ops.pop(),o.trys.pop();continue}k=r.call(n,o)}catch(v){k=[6,v],a=0}finally{s=u=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}},cW=function(n){return function(r,o){return sW(void 0,void 0,void 0,function(){var s,a,u,h;return aW(this,function(f){switch(f.label){case 0:return o==null?[3,1]:(a=o,[3,3]);case 1:return[4,n(r)];case 2:a=f.sent(),f.label=3;case 3:return s=((h=a)!==null&&h!==void 0?h:{}).name,u=r?.statusCode,[2,hW(o)||dW(u,s)||iW(s)||pW(u,s)]}})})}},lW=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],uW=["TimeoutError","RequestTimeout","RequestTimeoutException"],dW=function(n,r){return n===429||lW.includes(r)},hW=function(n){return n?.name==="Network error"},pW=function(n,r){return[500,502,503,504].includes(n)||uW.includes(r)},fW=globalThis&&globalThis.__awaiter||function(n,r,o,s){function a(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function f(v){try{k(s.next(v))}catch(_){h(_)}}function m(v){try{k(s.throw(v))}catch(_){h(_)}}function k(v){v.done?u(v.value):a(v.value).then(f,m)}k((s=s.apply(n,r||[])).next())})},gW=globalThis&&globalThis.__generator||function(n,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(k){return function(v){return m([k,v])}}function m(k){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,k[0]&&(o=0)),o;)try{if(s=1,a&&(u=k[0]&2?a.return:k[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,k[1])).done)return u;switch(a=0,u&&(k=[k[0]&2,u.value]),k[0]){case 0:case 1:u=k;break;case 4:return o.label++,{value:k[1],done:!1};case 5:o.label++,a=k[1],k=[0];continue;case 7:k=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(k[0]===6||k[0]===2)){o=0;continue}if(k[0]===3&&(!u||k[1]>u[0]&&k[1]<u[3])){o.label=k[1];break}if(k[0]===6&&o.label<u[1]){o.label=u[1],u=k;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(k);break}u[2]&&o.ops.pop(),o.trys.pop();continue}k=r.call(n,o)}catch(v){k=[6,v],a=0}finally{s=u=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}},mW=function(n){var r=n.userAgentHeader,o=r===void 0?"x-amz-user-agent":r,s=n.userAgentValue,a=s===void 0?"":s;return function(u){return function(f){return fW(this,void 0,void 0,function(){var m,k,v;return gW(this,function(_){switch(_.label){case 0:return a.trim().length!==0?[3,2]:[4,u(f)];case 1:return m=_.sent(),[2,m];case 2:return k=o.toLowerCase(),f.headers[k]=f.headers[k]?"".concat(f.headers[k]," ").concat(a):a,[4,u(f)];case 3:return v=_.sent(),[2,v]}})})}}},HP=function(n,r){return function(o,s){for(var a={},u=function(k){return n(k,s)},h=r.length-1;h>=0;h--){var f=r[h],m=f(s);u=m(u,a)}return u(o)}},kW=HP(ZH,[mW,tW]),mg=globalThis&&globalThis.__assign||function(){return mg=Object.assign||function(n){for(var r,o=1,s=arguments.length;o<s;o++){r=arguments[o];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},mg.apply(this,arguments)},um=function(n){var r,o,s=n.headers,a=n.statusCode;return mg(mg({},bW(n)?n.$metadata:{}),{httpStatusCode:a,requestId:(o=(r=s["x-amzn-requestid"])!==null&&r!==void 0?r:s["x-amzn-request-id"])!==null&&o!==void 0?o:s["x-amz-request-id"],extendedRequestId:s["x-amz-id-2"],cfId:s["x-amz-cf-id"]})},bW=function(n){return typeof n?.$metadata=="object"},WP=globalThis&&globalThis.__awaiter||function(n,r,o,s){function a(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function f(v){try{k(s.next(v))}catch(_){h(_)}}function m(v){try{k(s.throw(v))}catch(_){h(_)}}function k(v){v.done?u(v.value):a(v.value).then(f,m)}k((s=s.apply(n,r||[])).next())})},$P=globalThis&&globalThis.__generator||function(n,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(k){return function(v){return m([k,v])}}function m(k){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,k[0]&&(o=0)),o;)try{if(s=1,a&&(u=k[0]&2?a.return:k[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,k[1])).done)return u;switch(a=0,u&&(k=[k[0]&2,u.value]),k[0]){case 0:case 1:u=k;break;case 4:return o.label++,{value:k[1],done:!1};case 5:o.label++,a=k[1],k=[0];continue;case 7:k=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(k[0]===6||k[0]===2)){o=0;continue}if(k[0]===3&&(!u||k[1]>u[0]&&k[1]<u[3])){o.label=k[1];break}if(k[0]===6&&o.label<u[1]){o.label=u[1],u=k;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(k);break}u[2]&&o.ops.pop(),o.trys.pop();continue}k=r.call(n,o)}catch(v){k=[6,v],a=0}finally{s=u=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}},wW=globalThis&&globalThis.__read||function(n,r){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var s=o.call(n),a,u=[],h;try{for(;(r===void 0||r-- >0)&&!(a=s.next()).done;)u.push(a.value)}catch(f){h={error:f}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(h)throw h.error}}return u},My=function(n){return WP(void 0,void 0,void 0,function(){var r,o,s,a,u,h,f,m,k,v;return $P(this,function(_){switch(_.label){case 0:return!n||n.statusCode<300?[2]:[4,Py(n)];case 1:return r=_.sent(),o=function(C){var x=wW(C.toString().split(/[\,\:]+/),1),S=x[0];return S.includes("#")?S.split("#")[1]:S},s=o((m=(f=(h=n.headers["x-amzn-errortype"])!==null&&h!==void 0?h:r.code)!==null&&f!==void 0?f:r.__type)!==null&&m!==void 0?m:"UnknownError"),a=(v=(k=r.message)!==null&&k!==void 0?k:r.Message)!==null&&v!==void 0?v:"Unknown error",u=new Error(a),[2,Object.assign(u,{name:s,$metadata:um(n)})]}})})},Py=function(n){return WP(void 0,void 0,void 0,function(){var r;return $P(this,function(o){switch(o.label){case 0:if(!n.body)throw new Error("Missing response payload");return[4,n.body.json()];case 1:return r=o.sent(),[2,Object.assign(r,{$metadata:um(n)})]}})})},vW=globalThis&&globalThis.__awaiter||function(n,r,o,s){function a(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function f(v){try{k(s.next(v))}catch(_){h(_)}}function m(v){try{k(s.throw(v))}catch(_){h(_)}}function k(v){v.done?u(v.value):a(v.value).then(f,m)}k((s=s.apply(n,r||[])).next())})},yW=globalThis&&globalThis.__generator||function(n,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(k){return function(v){return m([k,v])}}function m(k){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,k[0]&&(o=0)),o;)try{if(s=1,a&&(u=k[0]&2?a.return:k[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,k[1])).done)return u;switch(a=0,u&&(k=[k[0]&2,u.value]),k[0]){case 0:case 1:u=k;break;case 4:return o.label++,{value:k[1],done:!1};case 5:o.label++,a=k[1],k=[0];continue;case 7:k=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(k[0]===6||k[0]===2)){o=0;continue}if(k[0]===3&&(!u||k[1]>u[0]&&k[1]<u[3])){o.label=k[1];break}if(k[0]===6&&o.label<u[1]){o.label=u[1],u=k;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(k);break}u[2]&&o.ops.pop(),o.trys.pop();continue}k=r.call(n,o)}catch(v){k=[6,v],a=0}finally{s=u=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}},_W="cognito-identity",CW=function(n){var r=n.region;return{url:new URL("https://cognito-identity.".concat(r,".").concat($H(r)))}},AW=function(){return function(n,r){return function(s){return vW(this,void 0,void 0,function(){return yW(this,function(a){return s.headers["cache-control"]="no-store",[2,n(s)]})})}}},YP=HP(kW,[AW]),Ny={service:_W,endpointResolver:CW,retryDecider:cW(My),computeDelay:rW,userAgentValue:Ty()};OP(function(){Ny.userAgentValue=Ty()});var qP=function(n){return{"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.".concat(n)}},KP=function(n,r,o){var s=n.url;return{headers:r,url:s,body:o,method:"POST"}},gd=globalThis&&globalThis.__assign||function(){return gd=Object.assign||function(n){for(var r,o=1,s=arguments.length;o<s;o++){r=arguments[o];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},gd.apply(this,arguments)},xW=globalThis&&globalThis.__awaiter||function(n,r,o,s){function a(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function f(v){try{k(s.next(v))}catch(_){h(_)}}function m(v){try{k(s.throw(v))}catch(_){h(_)}}function k(v){v.done?u(v.value):a(v.value).then(f,m)}k((s=s.apply(n,r||[])).next())})},EW=globalThis&&globalThis.__generator||function(n,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(k){return function(v){return m([k,v])}}function m(k){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,k[0]&&(o=0)),o;)try{if(s=1,a&&(u=k[0]&2?a.return:k[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,k[1])).done)return u;switch(a=0,u&&(k=[k[0]&2,u.value]),k[0]){case 0:case 1:u=k;break;case 4:return o.label++,{value:k[1],done:!1};case 5:o.label++,a=k[1],k=[0];continue;case 7:k=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(k[0]===6||k[0]===2)){o=0;continue}if(k[0]===3&&(!u||k[1]>u[0]&&k[1]<u[3])){o.label=k[1];break}if(k[0]===6&&o.label<u[1]){o.label=u[1],u=k;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(k);break}u[2]&&o.ops.pop(),o.trys.pop();continue}k=r.call(n,o)}catch(v){k=[6,v],a=0}finally{s=u=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}},GP=function(n,r,o,s){return function(a,u){return xW(void 0,void 0,void 0,function(){var h,f,m,k;return EW(this,function(v){switch(v.label){case 0:return h=gd(gd({},s),a),[4,h.endpointResolver(h,u)];case 1:return f=v.sent(),[4,r(u,f)];case 2:return m=v.sent(),[4,n(m,gd({},h))];case 3:return k=v.sent(),[4,o(k)];case 4:return[2,v.sent()]}})})}},SW=globalThis&&globalThis.__awaiter||function(n,r,o,s){function a(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function f(v){try{k(s.next(v))}catch(_){h(_)}}function m(v){try{k(s.throw(v))}catch(_){h(_)}}function k(v){v.done?u(v.value):a(v.value).then(f,m)}k((s=s.apply(n,r||[])).next())})},DW=globalThis&&globalThis.__generator||function(n,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(k){return function(v){return m([k,v])}}function m(k){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,k[0]&&(o=0)),o;)try{if(s=1,a&&(u=k[0]&2?a.return:k[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,k[1])).done)return u;switch(a=0,u&&(k=[k[0]&2,u.value]),k[0]){case 0:case 1:u=k;break;case 4:return o.label++,{value:k[1],done:!1};case 5:o.label++,a=k[1],k=[0];continue;case 7:k=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(k[0]===6||k[0]===2)){o=0;continue}if(k[0]===3&&(!u||k[1]>u[0]&&k[1]<u[3])){o.label=k[1];break}if(k[0]===6&&o.label<u[1]){o.label=u[1],u=k;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(k);break}u[2]&&o.ops.pop(),o.trys.pop();continue}k=r.call(n,o)}catch(v){k=[6,v],a=0}finally{s=u=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}},TW=function(n,r){var o=qP("GetId"),s=JSON.stringify(n);return KP(r,o,s)},IW=function(n){return SW(void 0,void 0,void 0,function(){var r,o;return DW(this,function(s){switch(s.label){case 0:return n.statusCode>=300?[4,My(n)]:[3,2];case 1:throw r=s.sent(),r;case 2:return[4,Py(n)];case 3:return o=s.sent(),[2,{IdentityId:o.IdentityId,$metadata:um(n)}]}})})},af=GP(YP,TW,IW,Ny),MW=globalThis&&globalThis.__awaiter||function(n,r,o,s){function a(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function f(v){try{k(s.next(v))}catch(_){h(_)}}function m(v){try{k(s.throw(v))}catch(_){h(_)}}function k(v){v.done?u(v.value):a(v.value).then(f,m)}k((s=s.apply(n,r||[])).next())})},PW=globalThis&&globalThis.__generator||function(n,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(k){return function(v){return m([k,v])}}function m(k){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,k[0]&&(o=0)),o;)try{if(s=1,a&&(u=k[0]&2?a.return:k[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,k[1])).done)return u;switch(a=0,u&&(k=[k[0]&2,u.value]),k[0]){case 0:case 1:u=k;break;case 4:return o.label++,{value:k[1],done:!1};case 5:o.label++,a=k[1],k=[0];continue;case 7:k=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(k[0]===6||k[0]===2)){o=0;continue}if(k[0]===3&&(!u||k[1]>u[0]&&k[1]<u[3])){o.label=k[1];break}if(k[0]===6&&o.label<u[1]){o.label=u[1],u=k;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(k);break}u[2]&&o.ops.pop(),o.trys.pop();continue}k=r.call(n,o)}catch(v){k=[6,v],a=0}finally{s=u=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}},NW=function(n,r){var o=qP("GetCredentialsForIdentity"),s=JSON.stringify(n);return KP(r,o,s)},OW=function(n){return MW(void 0,void 0,void 0,function(){var r,o;return PW(this,function(s){switch(s.label){case 0:return n.statusCode>=300?[4,My(n)]:[3,2];case 1:throw r=s.sent(),r;case 2:return[4,Py(n)];case 3:return o=s.sent(),[2,{IdentityId:o.IdentityId,Credentials:BW(o.Credentials),$metadata:um(n)}]}})})},BW=function(n){return n===void 0&&(n={}),{AccessKeyId:n.AccessKeyId,SecretKey:n.SecretKey,SessionToken:n.SessionToken,Expiration:new Date(n.Expiration*1e3)}},cf=GP(YP,NW,OW,Ny),kg=globalThis&&globalThis.__assign||function(){return kg=Object.assign||function(n){for(var r,o=1,s=arguments.length;o<s;o++){r=arguments[o];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},kg.apply(this,arguments)},Gn=globalThis&&globalThis.__awaiter||function(n,r,o,s){function a(u){return u instanceof o?u:new o(function(h){h(u)})}return new(o||(o=Promise))(function(u,h){function f(v){try{k(s.next(v))}catch(_){h(_)}}function m(v){try{k(s.throw(v))}catch(_){h(_)}}function k(v){v.done?u(v.value):a(v.value).then(f,m)}k((s=s.apply(n,r||[])).next())})},Qn=globalThis&&globalThis.__generator||function(n,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,a,u,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(k){return function(v){return m([k,v])}}function m(k){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,k[0]&&(o=0)),o;)try{if(s=1,a&&(u=k[0]&2?a.return:k[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,k[1])).done)return u;switch(a=0,u&&(k=[k[0]&2,u.value]),k[0]){case 0:case 1:u=k;break;case 4:return o.label++,{value:k[1],done:!1};case 5:o.label++,a=k[1],k=[0];continue;case 7:k=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(k[0]===6||k[0]===2)){o=0;continue}if(k[0]===3&&(!u||k[1]>u[0]&&k[1]<u[3])){o.label=k[1];break}if(k[0]===6&&o.label<u[1]){o.label=u[1],u=k;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(k);break}u[2]&&o.ops.pop(),o.trys.pop();continue}k=r.call(n,o)}catch(v){k=[6,v],a=0}finally{s=u=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}},rt=new Mo("Credentials"),RW=50*60*1e3,LW="CognitoIdentityId-",jW=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",zW=function(n,r,o){Si.dispatch("core",{event:n,data:r,message:o},"Credentials",jW)},FW=function(){function n(r){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(r),this._refreshHandlers.google=FH.refreshGoogleToken,this._refreshHandlers.facebook=UH.refreshFacebookToken}return n.prototype.getModuleName=function(){return"Credentials"},n.prototype.getCredSource=function(){return this._credentials_source},n.prototype.configure=function(r){if(!r)return this._config||{};this._config=Object.assign({},this._config,r);var o=this._config.refreshHandlers;return o&&(this._refreshHandlers=kg(kg({},this._refreshHandlers),o)),this._storage=this._config.storage,this._storage||(this._storage=new UP().getStorage()),this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),zW("credentials_configured",null,"Credentials has been configured successfully"),this._config},n.prototype.get=function(){return rt.debug("getting credentials"),this._pickupCredentials()},n.prototype._getCognitoIdentityIdStorageKey=function(r){return"".concat(LW).concat(r)},n.prototype._pickupCredentials=function(){return rt.debug("picking up credentials"),!this._gettingCredPromise||!this._gettingCredPromise.isPending()?(rt.debug("getting new cred promise"),this._gettingCredPromise=VV(this._keepAlive())):rt.debug("getting old cred promise"),this._gettingCredPromise},n.prototype._keepAlive=function(){return Gn(this,void 0,void 0,function(){var r,o,s,a,u,h,f,m;return Qn(this,function(k){switch(k.label){case 0:if(rt.debug("checking if credentials exists and not expired"),r=this._credentials,r&&!this._isExpired(r)&&!this._isPastTTL())return rt.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(r)];if(rt.debug("need to get a new credential or refresh the existing one"),o=this.Auth,s=o===void 0?nm.Auth:o,!s||typeof s.currentUserCredentials!="function")return[2,this._setCredentialsForGuest()];if(!(!this._isExpired(r)&&this._isPastTTL()))return[3,6];rt.debug("ttl has passed but token is not yet expired"),k.label=1;case 1:return k.trys.push([1,5,,6]),[4,s.currentUserPoolUser()];case 2:return a=k.sent(),[4,s.currentSession()];case 3:return u=k.sent(),h=u.refreshToken,f=new Promise(function(v,_){a.refreshSession(h,function(C,x){return C?_(C):v(x)})}),[4,f];case 4:return k.sent(),[3,6];case 5:return m=k.sent(),rt.debug("Error attempting to refreshing the session",m),[3,6];case 6:return[2,s.currentUserCredentials()]}})})},n.prototype.refreshFederatedToken=function(r){rt.debug("Getting federated credentials");var o=r.provider,s=r.user,a=r.token,u=r.identity_id,h=r.expires_at;h=new Date(h).getFullYear()===1970?h*1e3:h;var f=this;return rt.debug("checking if federated jwt token expired"),h>new Date().getTime()?(rt.debug("token not expired"),this._setCredentialsFromFederation({provider:o,token:a,user:s,identity_id:u,expires_at:h})):f._refreshHandlers[o]&&typeof f._refreshHandlers[o]=="function"?(rt.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:f._refreshHandlers[o],provider:o,user:s})):(rt.debug("no refresh handler for provider:",o),this.clear(),Promise.reject("no refresh handler for provider"))},n.prototype._providerRefreshWithRetry=function(r){var o=this,s=r.refreshHandler,a=r.provider,u=r.user,h=10*1e3;return KV(s,[],h).then(function(f){return rt.debug("refresh federated token sucessfully",f),o._setCredentialsFromFederation({provider:a,token:f.token,user:u,identity_id:f.identity_id,expires_at:f.expires_at})}).catch(function(f){var m=typeof f=="string"&&f.toLowerCase().lastIndexOf("network error",f.length)===0;return m||o.clear(),rt.debug("refresh federated token failed",f),Promise.reject("refreshing federation token failed: "+f)})},n.prototype._isExpired=function(r){if(!r)return rt.debug("no credentials for expiration check"),!0;rt.debug("are these credentials expired?",r);var o=Date.now(),s=r.expiration;return s.getTime()<=o},n.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},n.prototype._setCredentialsForGuest=function(){var r;return Gn(this,void 0,void 0,function(){var o,s,a,u,h,f,m,k,v,_,C=this;return Qn(this,function(x){switch(x.label){case 0:return rt.debug("setting credentials for guest"),!((r=this._config)===null||r===void 0)&&r.identityPoolId||(this._config=Object.assign({},this._config,FP(this._config||{}).Auth)),o=this._config,s=o.identityPoolId,a=o.region,u=o.mandatorySignIn,h=o.identityPoolRegion,u?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:s?!h&&!a?(rt.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(m=this,[4,this._getGuestIdentityId()]):(rt.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return f=m._identityId=x.sent(),k={region:h??a},v=function(){return Gn(C,void 0,void 0,function(){var S,T;return Qn(this,function(B){switch(B.label){case 0:return f?[3,2]:[4,af(k,{IdentityPoolId:s})];case 1:S=B.sent().IdentityId,this._identityId=S,B.label=2;case 2:return[4,cf(k,{IdentityId:this._identityId})];case 3:return T=B.sent().Credentials,[2,{identityId:this._identityId,accessKeyId:T.AccessKeyId,secretAccessKey:T.SecretKey,sessionToken:T.SessionToken,expiration:T.Expiration}]}})})},_=v().catch(function(S){return Gn(C,void 0,void 0,function(){return Qn(this,function(T){throw S})})}),[2,this._loadCredentials(_,"guest",!1,null).then(function(S){return S}).catch(function(S){return Gn(C,void 0,void 0,function(){var T,B=this;return Qn(this,function(N){switch(N.label){case 0:return S.name==="ResourceNotFoundException"&&S.message==="Identity '".concat(f,"' not found.")?(rt.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]):[3,2];case 1:return N.sent(),T=function(){return Gn(B,void 0,void 0,function(){var I,L;return Qn(this,function(V){switch(V.label){case 0:return[4,af(k,{IdentityPoolId:s})];case 1:return I=V.sent().IdentityId,this._identityId=I,[4,cf(k,{IdentityId:I})];case 2:return L=V.sent().Credentials,[2,{identityId:I,accessKeyId:L.AccessKeyId,secretAccessKey:L.SecretKey,sessionToken:L.SessionToken,expiration:L.Expiration}]}})})},_=T().catch(function(I){return Gn(B,void 0,void 0,function(){return Qn(this,function(L){throw I})})}),[2,this._loadCredentials(_,"guest",!1,null)];case 2:return[2,S]}})})})]}})})},n.prototype._setCredentialsFromFederation=function(r){var o=this,s=r.provider,a=r.token,u=r.identity_id,h={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"},f=h[s]||s;if(!f)return Promise.reject("You must specify a federated provider");var m={};m[f]=a;var k=this._config,v=k.identityPoolId,_=k.region,C=k.identityPoolRegion;if(!v)return rt.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!C&&!_)return rt.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var x={region:C??_},S=function(){return Gn(o,void 0,void 0,function(){var B,N;return Qn(this,function(I){switch(I.label){case 0:return u?[3,2]:[4,af(x,{IdentityPoolId:v,Logins:m})];case 1:B=I.sent().IdentityId,u=B,I.label=2;case 2:return[4,cf(x,{IdentityId:u,Logins:m})];case 3:return N=I.sent().Credentials,[2,{identityId:u,accessKeyId:N.AccessKeyId,secretAccessKey:N.SecretKey,sessionToken:N.SessionToken,expiration:N.Expiration}]}})})},T=S().catch(function(B){return Gn(o,void 0,void 0,function(){return Qn(this,function(N){throw B})})});return this._loadCredentials(T,"federated",!0,r)},n.prototype._setCredentialsFromSession=function(r){var o=this;rt.debug("set credentials from session");var s=r.getIdToken().getJwtToken(),a=this._config,u=a.region,h=a.userPoolId,f=a.identityPoolId,m=a.identityPoolRegion;if(!f)return rt.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!m&&!u)return rt.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var k="cognito-idp."+u+".amazonaws.com/"+h,v={};v[k]=s;var _={region:m??u},C=function(){return Gn(o,void 0,void 0,function(){var S,T,B,N,I,L,V,K,Z,Q;return Qn(this,function(z){switch(z.label){case 0:return[4,this._getGuestIdentityId()];case 1:return S=z.sent(),S?[3,3]:[4,af(_,{IdentityPoolId:f,Logins:v})];case 2:B=z.sent().IdentityId,T=B,z.label=3;case 3:return[4,cf(_,{IdentityId:S||T,Logins:v})];case 4:return N=z.sent(),I=N.Credentials,L=I.AccessKeyId,V=I.Expiration,K=I.SecretKey,Z=I.SessionToken,Q=N.IdentityId,this._identityId=Q,S?(rt.debug("The guest identity ".concat(S," has been successfully linked to the logins")),S===Q&&rt.debug("The guest identity ".concat(S," has become the primary identity")),[4,this._removeGuestIdentityId()]):[3,6];case 5:z.sent(),z.label=6;case 6:return[2,{accessKeyId:L,secretAccessKey:K,sessionToken:Z,expiration:V,identityId:Q}]}})})},x=C().catch(function(S){return Gn(o,void 0,void 0,function(){return Qn(this,function(T){throw S})})});return this._loadCredentials(x,"userPool",!0,null)},n.prototype._loadCredentials=function(r,o,s,a){var u=this,h=this;return new Promise(function(f,m){r.then(function(k){return Gn(u,void 0,void 0,function(){var v,_,C,x,S;return Qn(this,function(T){switch(T.label){case 0:if(rt.debug("Load credentials successfully",k),this._identityId&&!k.identityId&&(k.identityId=this._identityId),h._credentials=k,h._credentials.authenticated=s,h._credentials_source=o,h._nextCredentialsRefresh=new Date().getTime()+RW,o==="federated"){v=Object.assign({id:this._credentials.identityId},a.user),_=a.provider,C=a.token,x=a.expires_at,S=a.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:_,token:C,user:v,expires_at:x,identity_id:S}))}catch(B){rt.debug("Failed to put federated info into auth storage",B)}}return o!=="guest"?[3,2]:[4,this._setGuestIdentityId(k.identityId)];case 1:T.sent(),T.label=2;case 2:return f(h._credentials),[2]}})})}).catch(function(k){if(k){rt.debug("Failed to load credentials",r),rt.debug("Error loading credentials",k),m(k);return}})})},n.prototype.set=function(r,o){return o==="session"?this._setCredentialsFromSession(r):o==="federation"?this._setCredentialsFromFederation(r):o==="guest"?this._setCredentialsForGuest():(rt.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},n.prototype.clear=function(){return Gn(this,void 0,void 0,function(){return Qn(this,function(r){return this._credentials=null,this._credentials_source=null,rt.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},n.prototype._getGuestIdentityId=function(){return Gn(this,void 0,void 0,function(){var r,o;return Qn(this,function(s){switch(s.label){case 0:r=this._config.identityPoolId,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._storageSync];case 2:return s.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(r))];case 3:return o=s.sent(),rt.debug("Failed to get the cached guest identityId",o),[3,4];case 4:return[2]}})})},n.prototype._setGuestIdentityId=function(r){return Gn(this,void 0,void 0,function(){var o,s;return Qn(this,function(a){switch(a.label){case 0:o=this._config.identityPoolId,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(o),r),[3,4];case 3:return s=a.sent(),rt.debug("Failed to cache guest identityId",s),[3,4];case 4:return[2]}})})},n.prototype._removeGuestIdentityId=function(){return Gn(this,void 0,void 0,function(){var r;return Qn(this,function(o){return r=this._config.identityPoolId,rt.debug("removing ".concat(this._getCognitoIdentityIdStorageKey(r)," from storage")),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(r)),[2]})})},n.prototype.shear=function(r){return{accessKeyId:r.accessKeyId,sessionToken:r.sessionToken,secretAccessKey:r.secretAccessKey,identityId:r.identityId,authenticated:r.authenticated}},n}(),QP=new FW(null);nm.register(QP);/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var ZP=HW,ZT=WW,UW=decodeURIComponent,VW=encodeURIComponent,lf=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function HW(n,r){if(typeof n!="string")throw new TypeError("argument str must be a string");for(var o={},s=r||{},a=n.split(";"),u=s.decode||UW,h=0;h<a.length;h++){var f=a[h],m=f.indexOf("=");if(!(m<0)){var k=f.substring(0,m).trim();if(o[k]==null){var v=f.substring(m+1,f.length).trim();v[0]==='"'&&(v=v.slice(1,-1)),o[k]=$W(v,u)}}}return o}function WW(n,r,o){var s=o||{},a=s.encode||VW;if(typeof a!="function")throw new TypeError("option encode is invalid");if(!lf.test(n))throw new TypeError("argument name is invalid");var u=a(r);if(u&&!lf.test(u))throw new TypeError("argument val is invalid");var h=n+"="+u;if(s.maxAge!=null){var f=s.maxAge-0;if(isNaN(f)||!isFinite(f))throw new TypeError("option maxAge is invalid");h+="; Max-Age="+Math.floor(f)}if(s.domain){if(!lf.test(s.domain))throw new TypeError("option domain is invalid");h+="; Domain="+s.domain}if(s.path){if(!lf.test(s.path))throw new TypeError("option path is invalid");h+="; Path="+s.path}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");h+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(h+="; HttpOnly"),s.secure&&(h+="; Secure"),s.sameSite){var m=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(m){case!0:h+="; SameSite=Strict";break;case"lax":h+="; SameSite=Lax";break;case"strict":h+="; SameSite=Strict";break;case"none":h+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return h}function $W(n,r){try{return r(n)}catch{return n}}function YW(){return typeof document=="object"&&typeof document.cookie=="string"}function qW(n,r){return typeof n=="string"?ZP(n,r):typeof n=="object"&&n!==null?n:{}}function KW(n,r){return typeof r>"u"&&(r=!n||n[0]!=="{"&&n[0]!=="["&&n[0]!=='"'),!r}function JT(n,r){r===void 0&&(r={});var o=GW(n);if(KW(o,r.doNotParse))try{return JSON.parse(o)}catch{}return n}function GW(n){return n&&n[0]==="j"&&n[1]===":"?n.substr(2):n}var xa=globalThis&&globalThis.__assign||function(){return xa=Object.assign||function(n){for(var r,o=1,s=arguments.length;o<s;o++){r=arguments[o];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},xa.apply(this,arguments)},QW=function(){function n(r,o){var s=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=qW(r,o),new Promise(function(){s.HAS_DOCUMENT_COOKIE=YW()}).catch(function(){})}return n.prototype._updateBrowserValues=function(r){this.HAS_DOCUMENT_COOKIE&&(this.cookies=ZP(document.cookie,r))},n.prototype._emitChange=function(r){for(var o=0;o<this.changeListeners.length;++o)this.changeListeners[o](r)},n.prototype.get=function(r,o,s){return o===void 0&&(o={}),this._updateBrowserValues(s),JT(this.cookies[r],o)},n.prototype.getAll=function(r,o){r===void 0&&(r={}),this._updateBrowserValues(o);var s={};for(var a in this.cookies)s[a]=JT(this.cookies[a],r);return s},n.prototype.set=function(r,o,s){var a;typeof o=="object"&&(o=JSON.stringify(o)),this.cookies=xa(xa({},this.cookies),(a={},a[r]=o,a)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=ZT(r,o,s)),this._emitChange({name:r,value:o,options:s})},n.prototype.remove=function(r,o){var s=o=xa(xa({},o),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=xa({},this.cookies),delete this.cookies[r],this.HAS_DOCUMENT_COOKIE&&(document.cookie=ZT(r,"",s)),this._emitChange({name:r,value:void 0,options:o})},n.prototype.addChangeListener=function(r){this.changeListeners.push(r)},n.prototype.removeChangeListener=function(r){var o=this.changeListeners.indexOf(r);o>=0&&this.changeListeners.splice(o,1)},n}();const Dw=QW;var bg=globalThis&&globalThis.__assign||function(){return bg=Object.assign||function(n){for(var r,o=1,s=arguments.length;o<s;o++){r=arguments[o];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},bg.apply(this,arguments)},XT=zi().isBrowser,ZW=365*24*60*60*1e3,JW=function(){function n(r){r===void 0&&(r={}),this.cookies=new Dw,this.store=XT?window.localStorage:Object.create(null),this.cookies=r.req?new Dw(decodeURIComponent(r.req.headers.cookie)):new Dw,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(n.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!1,configurable:!0}),n.prototype.clear=function(){var r=this;Array.from(new Array(this.length)).map(function(o,s){return r.key(s)}).forEach(function(o){return r.removeItem(o)})},n.prototype.getItem=function(r){return this.getLocalItem(r)},n.prototype.getLocalItem=function(r){return Object.prototype.hasOwnProperty.call(this.store,r)?this.store[r]:null},n.prototype.getUniversalItem=function(r){return this.cookies.get(r)},n.prototype.key=function(r){return Object.keys(this.store)[r]},n.prototype.removeItem=function(r){this.removeLocalItem(r),this.removeUniversalItem(r)},n.prototype.removeLocalItem=function(r){delete this.store[r]},n.prototype.removeUniversalItem=function(r){this.cookies.remove(r,{path:"/"})},n.prototype.setItem=function(r,o){this.setLocalItem(r,o);var s=r.split(".").pop(),a=["LastAuthUser","accessToken","refreshToken","idToken"];a.includes(s??"")&&this.setUniversalItem(r,o,{expires:new Date(Date.now()+ZW)})},n.prototype.setLocalItem=function(r,o){this.store[r]=o},n.prototype.setUniversalItem=function(r,o,s){s===void 0&&(s={}),this.cookies.set(r,o,bg(bg({},s),{path:"/",sameSite:!0,secure:!(XT&&window.location.hostname==="localhost")}))},n}(),XW="x-amz-user-agent",wg;(function(n){n.Cognito="COGNITO",n.Google="Google",n.Facebook="Facebook",n.Amazon="LoginWithAmazon",n.Apple="SignInWithApple"})(wg||(wg={}));function Tw(n){var r=["provider"];return n&&!!r.find(function(o){return n.hasOwnProperty(o)})}function e$(n){var r=["customProvider"];return n&&!!r.find(function(o){return n.hasOwnProperty(o)})}function t$(n){var r=["customState"];return n&&!!r.find(function(o){return n.hasOwnProperty(o)})}function Ia(n){return n.redirectSignIn!==void 0}var At;(function(n){n.NoConfig="noConfig",n.MissingAuthConfig="missingAuthConfig",n.EmptyUsername="emptyUsername",n.InvalidUsername="invalidUsername",n.EmptyPassword="emptyPassword",n.EmptyCode="emptyCode",n.SignUpError="signUpError",n.NoMFA="noMFA",n.InvalidMFA="invalidMFA",n.EmptyChallengeResponse="emptyChallengeResponse",n.NoUserSession="noUserSession",n.Default="default",n.DeviceConfig="deviceConfig",n.NetworkError="networkError",n.AutoSignInError="autoSignInError"})(At||(At={}));function n$(n){return!!n.username}var eI;(function(n){n.API_KEY="API_KEY",n.AWS_IAM="AWS_IAM",n.OPENID_CONNECT="OPENID_CONNECT",n.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",n.AWS_LAMBDA="AWS_LAMBDA"})(eI||(eI={}));/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var tI=function(){function n(o){var s=o||{},a=s.ValidationData,u=s.Username,h=s.Password,f=s.AuthParameters,m=s.ClientMetadata;this.validationData=a||{},this.authParameters=f||{},this.clientMetadata=m||{},this.username=u,this.password=h}var r=n.prototype;return r.getUsername=function(){return this.username},r.getPassword=function(){return this.password},r.getValidationData=function(){return this.validationData},r.getAuthParameters=function(){return this.authParameters},r.getClientMetadata=function(){return this.clientMetadata},n}(),Ft={},dm={};dm.byteLength=i$;dm.toByteArray=a$;dm.fromByteArray=u$;var ti=[],Gr=[],r$=typeof Uint8Array<"u"?Uint8Array:Array,Iw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Uc=0,o$=Iw.length;Uc<o$;++Uc)ti[Uc]=Iw[Uc],Gr[Iw.charCodeAt(Uc)]=Uc;Gr["-".charCodeAt(0)]=62;Gr["_".charCodeAt(0)]=63;function JP(n){var r=n.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=n.indexOf("=");o===-1&&(o=r);var s=o===r?0:4-o%4;return[o,s]}function i$(n){var r=JP(n),o=r[0],s=r[1];return(o+s)*3/4-s}function s$(n,r,o){return(r+o)*3/4-o}function a$(n){var r,o=JP(n),s=o[0],a=o[1],u=new r$(s$(n,s,a)),h=0,f=a>0?s-4:s,m;for(m=0;m<f;m+=4)r=Gr[n.charCodeAt(m)]<<18|Gr[n.charCodeAt(m+1)]<<12|Gr[n.charCodeAt(m+2)]<<6|Gr[n.charCodeAt(m+3)],u[h++]=r>>16&255,u[h++]=r>>8&255,u[h++]=r&255;return a===2&&(r=Gr[n.charCodeAt(m)]<<2|Gr[n.charCodeAt(m+1)]>>4,u[h++]=r&255),a===1&&(r=Gr[n.charCodeAt(m)]<<10|Gr[n.charCodeAt(m+1)]<<4|Gr[n.charCodeAt(m+2)]>>2,u[h++]=r>>8&255,u[h++]=r&255),u}function c$(n){return ti[n>>18&63]+ti[n>>12&63]+ti[n>>6&63]+ti[n&63]}function l$(n,r,o){for(var s,a=[],u=r;u<o;u+=3)s=(n[u]<<16&16711680)+(n[u+1]<<8&65280)+(n[u+2]&255),a.push(c$(s));return a.join("")}function u$(n){for(var r,o=n.length,s=o%3,a=[],u=16383,h=0,f=o-s;h<f;h+=u)a.push(l$(n,h,h+u>f?f:h+u));return s===1?(r=n[o-1],a.push(ti[r>>2]+ti[r<<4&63]+"==")):s===2&&(r=(n[o-2]<<8)+n[o-1],a.push(ti[r>>10]+ti[r>>4&63]+ti[r<<2&63]+"=")),a.join("")}var Oy={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Oy.read=function(n,r,o,s,a){var u,h,f=a*8-s-1,m=(1<<f)-1,k=m>>1,v=-7,_=o?a-1:0,C=o?-1:1,x=n[r+_];for(_+=C,u=x&(1<<-v)-1,x>>=-v,v+=f;v>0;u=u*256+n[r+_],_+=C,v-=8);for(h=u&(1<<-v)-1,u>>=-v,v+=s;v>0;h=h*256+n[r+_],_+=C,v-=8);if(u===0)u=1-k;else{if(u===m)return h?NaN:(x?-1:1)*(1/0);h=h+Math.pow(2,s),u=u-k}return(x?-1:1)*h*Math.pow(2,u-s)};Oy.write=function(n,r,o,s,a,u){var h,f,m,k=u*8-a-1,v=(1<<k)-1,_=v>>1,C=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=s?0:u-1,S=s?1:-1,T=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(f=isNaN(r)?1:0,h=v):(h=Math.floor(Math.log(r)/Math.LN2),r*(m=Math.pow(2,-h))<1&&(h--,m*=2),h+_>=1?r+=C/m:r+=C*Math.pow(2,1-_),r*m>=2&&(h++,m/=2),h+_>=v?(f=0,h=v):h+_>=1?(f=(r*m-1)*Math.pow(2,a),h=h+_):(f=r*Math.pow(2,_-1)*Math.pow(2,a),h=0));a>=8;n[o+x]=f&255,x+=S,f/=256,a-=8);for(h=h<<a|f,k+=a;k>0;n[o+x]=h&255,x+=S,h/=256,k-=8);n[o+x-S]|=T*128};var d$={}.toString,h$=Array.isArray||function(n){return d$.call(n)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */(function(n){var r=dm,o=Oy,s=h$;n.Buffer=f,n.SlowBuffer=N,n.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT={}.TYPED_ARRAY_SUPPORT!==void 0?{}.TYPED_ARRAY_SUPPORT:a(),n.kMaxLength=u();function a(){try{var H=new Uint8Array(1);return H.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},H.foo()===42&&typeof H.subarray=="function"&&H.subarray(1,1).byteLength===0}catch{return!1}}function u(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(H,P){if(u()<P)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(H=new Uint8Array(P),H.__proto__=f.prototype):(H===null&&(H=new f(P)),H.length=P),H}function f(H,P,O){if(!f.TYPED_ARRAY_SUPPORT&&!(this instanceof f))return new f(H,P,O);if(typeof H=="number"){if(typeof P=="string")throw new Error("If encoding is specified then the first argument must be a string");return _(this,H)}return m(this,H,P,O)}f.poolSize=8192,f._augment=function(H){return H.__proto__=f.prototype,H};function m(H,P,O,$){if(typeof P=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&P instanceof ArrayBuffer?S(H,P,O,$):typeof P=="string"?C(H,P,O):T(H,P)}f.from=function(H,P,O){return m(null,H,P,O)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0}));function k(H){if(typeof H!="number")throw new TypeError('"size" argument must be a number');if(H<0)throw new RangeError('"size" argument must not be negative')}function v(H,P,O,$){return k(P),P<=0?h(H,P):O!==void 0?typeof $=="string"?h(H,P).fill(O,$):h(H,P).fill(O):h(H,P)}f.alloc=function(H,P,O){return v(null,H,P,O)};function _(H,P){if(k(P),H=h(H,P<0?0:B(P)|0),!f.TYPED_ARRAY_SUPPORT)for(var O=0;O<P;++O)H[O]=0;return H}f.allocUnsafe=function(H){return _(null,H)},f.allocUnsafeSlow=function(H){return _(null,H)};function C(H,P,O){if((typeof O!="string"||O==="")&&(O="utf8"),!f.isEncoding(O))throw new TypeError('"encoding" must be a valid string encoding');var $=I(P,O)|0;H=h(H,$);var X=H.write(P,O);return X!==$&&(H=H.slice(0,X)),H}function x(H,P){var O=P.length<0?0:B(P.length)|0;H=h(H,O);for(var $=0;$<O;$+=1)H[$]=P[$]&255;return H}function S(H,P,O,$){if(P.byteLength,O<0||P.byteLength<O)throw new RangeError("'offset' is out of bounds");if(P.byteLength<O+($||0))throw new RangeError("'length' is out of bounds");return O===void 0&&$===void 0?P=new Uint8Array(P):$===void 0?P=new Uint8Array(P,O):P=new Uint8Array(P,O,$),f.TYPED_ARRAY_SUPPORT?(H=P,H.__proto__=f.prototype):H=x(H,P),H}function T(H,P){if(f.isBuffer(P)){var O=B(P.length)|0;return H=h(H,O),H.length===0||P.copy(H,0,0,O),H}if(P){if(typeof ArrayBuffer<"u"&&P.buffer instanceof ArrayBuffer||"length"in P)return typeof P.length!="number"||Wi(P.length)?h(H,0):x(H,P);if(P.type==="Buffer"&&s(P.data))return x(H,P.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function B(H){if(H>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return H|0}function N(H){return+H!=H&&(H=0),f.alloc(+H)}f.isBuffer=function(P){return!!(P!=null&&P._isBuffer)},f.compare=function(P,O){if(!f.isBuffer(P)||!f.isBuffer(O))throw new TypeError("Arguments must be Buffers");if(P===O)return 0;for(var $=P.length,X=O.length,se=0,ce=Math.min($,X);se<ce;++se)if(P[se]!==O[se]){$=P[se],X=O[se];break}return $<X?-1:X<$?1:0},f.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(P,O){if(!s(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return f.alloc(0);var $;if(O===void 0)for(O=0,$=0;$<P.length;++$)O+=P[$].length;var X=f.allocUnsafe(O),se=0;for($=0;$<P.length;++$){var ce=P[$];if(!f.isBuffer(ce))throw new TypeError('"list" argument must be an Array of Buffers');ce.copy(X,se),se+=ce.length}return X};function I(H,P){if(f.isBuffer(H))return H.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(H)||H instanceof ArrayBuffer))return H.byteLength;typeof H!="string"&&(H=""+H);var O=H.length;if(O===0)return 0;for(var $=!1;;)switch(P){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":case void 0:return Et(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O*2;case"hex":return O>>>1;case"base64":return ln(H).length;default:if($)return Et(H).length;P=(""+P).toLowerCase(),$=!0}}f.byteLength=I;function L(H,P,O){var $=!1;if((P===void 0||P<0)&&(P=0),P>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0,P>>>=0,O<=P))return"";for(H||(H="utf8");;)switch(H){case"hex":return ge(this,P,O);case"utf8":case"utf-8":return et(this,P,O);case"ascii":return He(this,P,O);case"latin1":case"binary":return ke(this,P,O);case"base64":return Ae(this,P,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,P,O);default:if($)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),$=!0}}f.prototype._isBuffer=!0;function V(H,P,O){var $=H[P];H[P]=H[O],H[O]=$}f.prototype.swap16=function(){var P=this.length;if(P%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var O=0;O<P;O+=2)V(this,O,O+1);return this},f.prototype.swap32=function(){var P=this.length;if(P%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var O=0;O<P;O+=4)V(this,O,O+3),V(this,O+1,O+2);return this},f.prototype.swap64=function(){var P=this.length;if(P%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var O=0;O<P;O+=8)V(this,O,O+7),V(this,O+1,O+6),V(this,O+2,O+5),V(this,O+3,O+4);return this},f.prototype.toString=function(){var P=this.length|0;return P===0?"":arguments.length===0?et(this,0,P):L.apply(this,arguments)},f.prototype.equals=function(P){if(!f.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P?!0:f.compare(this,P)===0},f.prototype.inspect=function(){var P="",O=n.INSPECT_MAX_BYTES;return this.length>0&&(P=this.toString("hex",0,O).match(/.{2}/g).join(" "),this.length>O&&(P+=" ... ")),"<Buffer "+P+">"},f.prototype.compare=function(P,O,$,X,se){if(!f.isBuffer(P))throw new TypeError("Argument must be a Buffer");if(O===void 0&&(O=0),$===void 0&&($=P?P.length:0),X===void 0&&(X=0),se===void 0&&(se=this.length),O<0||$>P.length||X<0||se>this.length)throw new RangeError("out of range index");if(X>=se&&O>=$)return 0;if(X>=se)return-1;if(O>=$)return 1;if(O>>>=0,$>>>=0,X>>>=0,se>>>=0,this===P)return 0;for(var ce=se-X,Ge=$-O,$e=Math.min(ce,Ge),Je=this.slice(X,se),Kt=P.slice(O,$),yt=0;yt<$e;++yt)if(Je[yt]!==Kt[yt]){ce=Je[yt],Ge=Kt[yt];break}return ce<Ge?-1:Ge<ce?1:0};function K(H,P,O,$,X){if(H.length===0)return-1;if(typeof O=="string"?($=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),O=+O,isNaN(O)&&(O=X?0:H.length-1),O<0&&(O=H.length+O),O>=H.length){if(X)return-1;O=H.length-1}else if(O<0)if(X)O=0;else return-1;if(typeof P=="string"&&(P=f.from(P,$)),f.isBuffer(P))return P.length===0?-1:Z(H,P,O,$,X);if(typeof P=="number")return P=P&255,f.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?X?Uint8Array.prototype.indexOf.call(H,P,O):Uint8Array.prototype.lastIndexOf.call(H,P,O):Z(H,[P],O,$,X);throw new TypeError("val must be string, number or Buffer")}function Z(H,P,O,$,X){var se=1,ce=H.length,Ge=P.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(H.length<2||P.length<2)return-1;se=2,ce/=2,Ge/=2,O/=2}function $e(Po,Xa){return se===1?Po[Xa]:Po.readUInt16BE(Xa*se)}var Je;if(X){var Kt=-1;for(Je=O;Je<ce;Je++)if($e(H,Je)===$e(P,Kt===-1?0:Je-Kt)){if(Kt===-1&&(Kt=Je),Je-Kt+1===Ge)return Kt*se}else Kt!==-1&&(Je-=Je-Kt),Kt=-1}else for(O+Ge>ce&&(O=ce-Ge),Je=O;Je>=0;Je--){for(var yt=!0,$i=0;$i<Ge;$i++)if($e(H,Je+$i)!==$e(P,$i)){yt=!1;break}if(yt)return Je}return-1}f.prototype.includes=function(P,O,$){return this.indexOf(P,O,$)!==-1},f.prototype.indexOf=function(P,O,$){return K(this,P,O,$,!0)},f.prototype.lastIndexOf=function(P,O,$){return K(this,P,O,$,!1)};function Q(H,P,O,$){O=Number(O)||0;var X=H.length-O;$?($=Number($),$>X&&($=X)):$=X;var se=P.length;if(se%2!==0)throw new TypeError("Invalid hex string");$>se/2&&($=se/2);for(var ce=0;ce<$;++ce){var Ge=parseInt(P.substr(ce*2,2),16);if(isNaN(Ge))return ce;H[O+ce]=Ge}return ce}function z(H,P,O,$){return er(Et(P,H.length-O),H,O,$)}function te(H,P,O,$){return er(qt(P),H,O,$)}function ae(H,P,O,$){return te(H,P,O,$)}function Ce(H,P,O,$){return er(ln(P),H,O,$)}function Me(H,P,O,$){return er(Ve(P,H.length-O),H,O,$)}f.prototype.write=function(P,O,$,X){if(O===void 0)X="utf8",$=this.length,O=0;else if($===void 0&&typeof O=="string")X=O,$=this.length,O=0;else if(isFinite(O))O=O|0,isFinite($)?($=$|0,X===void 0&&(X="utf8")):(X=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var se=this.length-O;if(($===void 0||$>se)&&($=se),P.length>0&&($<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");for(var ce=!1;;)switch(X){case"hex":return Q(this,P,O,$);case"utf8":case"utf-8":return z(this,P,O,$);case"ascii":return te(this,P,O,$);case"latin1":case"binary":return ae(this,P,O,$);case"base64":return Ce(this,P,O,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Me(this,P,O,$);default:if(ce)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),ce=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ae(H,P,O){return P===0&&O===H.length?r.fromByteArray(H):r.fromByteArray(H.slice(P,O))}function et(H,P,O){O=Math.min(H.length,O);for(var $=[],X=P;X<O;){var se=H[X],ce=null,Ge=se>239?4:se>223?3:se>191?2:1;if(X+Ge<=O){var $e,Je,Kt,yt;switch(Ge){case 1:se<128&&(ce=se);break;case 2:$e=H[X+1],($e&192)===128&&(yt=(se&31)<<6|$e&63,yt>127&&(ce=yt));break;case 3:$e=H[X+1],Je=H[X+2],($e&192)===128&&(Je&192)===128&&(yt=(se&15)<<12|($e&63)<<6|Je&63,yt>2047&&(yt<55296||yt>57343)&&(ce=yt));break;case 4:$e=H[X+1],Je=H[X+2],Kt=H[X+3],($e&192)===128&&(Je&192)===128&&(Kt&192)===128&&(yt=(se&15)<<18|($e&63)<<12|(Je&63)<<6|Kt&63,yt>65535&&yt<1114112&&(ce=yt))}}ce===null?(ce=65533,Ge=1):ce>65535&&(ce-=65536,$.push(ce>>>10&1023|55296),ce=56320|ce&1023),$.push(ce),X+=Ge}return Re($)}var Pe=4096;function Re(H){var P=H.length;if(P<=Pe)return String.fromCharCode.apply(String,H);for(var O="",$=0;$<P;)O+=String.fromCharCode.apply(String,H.slice($,$+=Pe));return O}function He(H,P,O){var $="";O=Math.min(H.length,O);for(var X=P;X<O;++X)$+=String.fromCharCode(H[X]&127);return $}function ke(H,P,O){var $="";O=Math.min(H.length,O);for(var X=P;X<O;++X)$+=String.fromCharCode(H[X]);return $}function ge(H,P,O){var $=H.length;(!P||P<0)&&(P=0),(!O||O<0||O>$)&&(O=$);for(var X="",se=P;se<O;++se)X+=it(H[se]);return X}function le(H,P,O){for(var $=H.slice(P,O),X="",se=0;se<$.length;se+=2)X+=String.fromCharCode($[se]+$[se+1]*256);return X}f.prototype.slice=function(P,O){var $=this.length;P=~~P,O=O===void 0?$:~~O,P<0?(P+=$,P<0&&(P=0)):P>$&&(P=$),O<0?(O+=$,O<0&&(O=0)):O>$&&(O=$),O<P&&(O=P);var X;if(f.TYPED_ARRAY_SUPPORT)X=this.subarray(P,O),X.__proto__=f.prototype;else{var se=O-P;X=new f(se,void 0);for(var ce=0;ce<se;++ce)X[ce]=this[ce+P]}return X};function fe(H,P,O){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+P>O)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUIntLE=function(P,O,$){P=P|0,O=O|0,$||fe(P,O,this.length);for(var X=this[P],se=1,ce=0;++ce<O&&(se*=256);)X+=this[P+ce]*se;return X},f.prototype.readUIntBE=function(P,O,$){P=P|0,O=O|0,$||fe(P,O,this.length);for(var X=this[P+--O],se=1;O>0&&(se*=256);)X+=this[P+--O]*se;return X},f.prototype.readUInt8=function(P,O){return O||fe(P,1,this.length),this[P]},f.prototype.readUInt16LE=function(P,O){return O||fe(P,2,this.length),this[P]|this[P+1]<<8},f.prototype.readUInt16BE=function(P,O){return O||fe(P,2,this.length),this[P]<<8|this[P+1]},f.prototype.readUInt32LE=function(P,O){return O||fe(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+this[P+3]*16777216},f.prototype.readUInt32BE=function(P,O){return O||fe(P,4,this.length),this[P]*16777216+(this[P+1]<<16|this[P+2]<<8|this[P+3])},f.prototype.readIntLE=function(P,O,$){P=P|0,O=O|0,$||fe(P,O,this.length);for(var X=this[P],se=1,ce=0;++ce<O&&(se*=256);)X+=this[P+ce]*se;return se*=128,X>=se&&(X-=Math.pow(2,8*O)),X},f.prototype.readIntBE=function(P,O,$){P=P|0,O=O|0,$||fe(P,O,this.length);for(var X=O,se=1,ce=this[P+--X];X>0&&(se*=256);)ce+=this[P+--X]*se;return se*=128,ce>=se&&(ce-=Math.pow(2,8*O)),ce},f.prototype.readInt8=function(P,O){return O||fe(P,1,this.length),this[P]&128?(255-this[P]+1)*-1:this[P]},f.prototype.readInt16LE=function(P,O){O||fe(P,2,this.length);var $=this[P]|this[P+1]<<8;return $&32768?$|4294901760:$},f.prototype.readInt16BE=function(P,O){O||fe(P,2,this.length);var $=this[P+1]|this[P]<<8;return $&32768?$|4294901760:$},f.prototype.readInt32LE=function(P,O){return O||fe(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},f.prototype.readInt32BE=function(P,O){return O||fe(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},f.prototype.readFloatLE=function(P,O){return O||fe(P,4,this.length),o.read(this,P,!0,23,4)},f.prototype.readFloatBE=function(P,O){return O||fe(P,4,this.length),o.read(this,P,!1,23,4)},f.prototype.readDoubleLE=function(P,O){return O||fe(P,8,this.length),o.read(this,P,!0,52,8)},f.prototype.readDoubleBE=function(P,O){return O||fe(P,8,this.length),o.read(this,P,!1,52,8)};function we(H,P,O,$,X,se){if(!f.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(P>X||P<se)throw new RangeError('"value" argument is out of bounds');if(O+$>H.length)throw new RangeError("Index out of range")}f.prototype.writeUIntLE=function(P,O,$,X){if(P=+P,O=O|0,$=$|0,!X){var se=Math.pow(2,8*$)-1;we(this,P,O,$,se,0)}var ce=1,Ge=0;for(this[O]=P&255;++Ge<$&&(ce*=256);)this[O+Ge]=P/ce&255;return O+$},f.prototype.writeUIntBE=function(P,O,$,X){if(P=+P,O=O|0,$=$|0,!X){var se=Math.pow(2,8*$)-1;we(this,P,O,$,se,0)}var ce=$-1,Ge=1;for(this[O+ce]=P&255;--ce>=0&&(Ge*=256);)this[O+ce]=P/Ge&255;return O+$},f.prototype.writeUInt8=function(P,O,$){return P=+P,O=O|0,$||we(this,P,O,1,255,0),f.TYPED_ARRAY_SUPPORT||(P=Math.floor(P)),this[O]=P&255,O+1};function Fe(H,P,O,$){P<0&&(P=65535+P+1);for(var X=0,se=Math.min(H.length-O,2);X<se;++X)H[O+X]=(P&255<<8*($?X:1-X))>>>($?X:1-X)*8}f.prototype.writeUInt16LE=function(P,O,$){return P=+P,O=O|0,$||we(this,P,O,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[O]=P&255,this[O+1]=P>>>8):Fe(this,P,O,!0),O+2},f.prototype.writeUInt16BE=function(P,O,$){return P=+P,O=O|0,$||we(this,P,O,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[O]=P>>>8,this[O+1]=P&255):Fe(this,P,O,!1),O+2};function Le(H,P,O,$){P<0&&(P=4294967295+P+1);for(var X=0,se=Math.min(H.length-O,4);X<se;++X)H[O+X]=P>>>($?X:3-X)*8&255}f.prototype.writeUInt32LE=function(P,O,$){return P=+P,O=O|0,$||we(this,P,O,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[O+3]=P>>>24,this[O+2]=P>>>16,this[O+1]=P>>>8,this[O]=P&255):Le(this,P,O,!0),O+4},f.prototype.writeUInt32BE=function(P,O,$){return P=+P,O=O|0,$||we(this,P,O,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[O]=P>>>24,this[O+1]=P>>>16,this[O+2]=P>>>8,this[O+3]=P&255):Le(this,P,O,!1),O+4},f.prototype.writeIntLE=function(P,O,$,X){if(P=+P,O=O|0,!X){var se=Math.pow(2,8*$-1);we(this,P,O,$,se-1,-se)}var ce=0,Ge=1,$e=0;for(this[O]=P&255;++ce<$&&(Ge*=256);)P<0&&$e===0&&this[O+ce-1]!==0&&($e=1),this[O+ce]=(P/Ge>>0)-$e&255;return O+$},f.prototype.writeIntBE=function(P,O,$,X){if(P=+P,O=O|0,!X){var se=Math.pow(2,8*$-1);we(this,P,O,$,se-1,-se)}var ce=$-1,Ge=1,$e=0;for(this[O+ce]=P&255;--ce>=0&&(Ge*=256);)P<0&&$e===0&&this[O+ce+1]!==0&&($e=1),this[O+ce]=(P/Ge>>0)-$e&255;return O+$},f.prototype.writeInt8=function(P,O,$){return P=+P,O=O|0,$||we(this,P,O,1,127,-128),f.TYPED_ARRAY_SUPPORT||(P=Math.floor(P)),P<0&&(P=255+P+1),this[O]=P&255,O+1},f.prototype.writeInt16LE=function(P,O,$){return P=+P,O=O|0,$||we(this,P,O,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[O]=P&255,this[O+1]=P>>>8):Fe(this,P,O,!0),O+2},f.prototype.writeInt16BE=function(P,O,$){return P=+P,O=O|0,$||we(this,P,O,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[O]=P>>>8,this[O+1]=P&255):Fe(this,P,O,!1),O+2},f.prototype.writeInt32LE=function(P,O,$){return P=+P,O=O|0,$||we(this,P,O,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[O]=P&255,this[O+1]=P>>>8,this[O+2]=P>>>16,this[O+3]=P>>>24):Le(this,P,O,!0),O+4},f.prototype.writeInt32BE=function(P,O,$){return P=+P,O=O|0,$||we(this,P,O,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),f.TYPED_ARRAY_SUPPORT?(this[O]=P>>>24,this[O+1]=P>>>16,this[O+2]=P>>>8,this[O+3]=P&255):Le(this,P,O,!1),O+4};function Ze(H,P,O,$,X,se){if(O+$>H.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function Ye(H,P,O,$,X){return X||Ze(H,P,O,4),o.write(H,P,O,$,23,4),O+4}f.prototype.writeFloatLE=function(P,O,$){return Ye(this,P,O,!0,$)},f.prototype.writeFloatBE=function(P,O,$){return Ye(this,P,O,!1,$)};function Ne(H,P,O,$,X){return X||Ze(H,P,O,8),o.write(H,P,O,$,52,8),O+8}f.prototype.writeDoubleLE=function(P,O,$){return Ne(this,P,O,!0,$)},f.prototype.writeDoubleBE=function(P,O,$){return Ne(this,P,O,!1,$)},f.prototype.copy=function(P,O,$,X){if($||($=0),!X&&X!==0&&(X=this.length),O>=P.length&&(O=P.length),O||(O=0),X>0&&X<$&&(X=$),X===$||P.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("sourceStart out of bounds");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),P.length-O<X-$&&(X=P.length-O+$);var se=X-$,ce;if(this===P&&$<O&&O<X)for(ce=se-1;ce>=0;--ce)P[ce+O]=this[ce+$];else if(se<1e3||!f.TYPED_ARRAY_SUPPORT)for(ce=0;ce<se;++ce)P[ce+O]=this[ce+$];else Uint8Array.prototype.set.call(P,this.subarray($,$+se),O);return se},f.prototype.fill=function(P,O,$,X){if(typeof P=="string"){if(typeof O=="string"?(X=O,O=0,$=this.length):typeof $=="string"&&(X=$,$=this.length),P.length===1){var se=P.charCodeAt(0);se<256&&(P=se)}if(X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!f.isEncoding(X))throw new TypeError("Unknown encoding: "+X)}else typeof P=="number"&&(P=P&255);if(O<0||this.length<O||this.length<$)throw new RangeError("Out of range index");if($<=O)return this;O=O>>>0,$=$===void 0?this.length:$>>>0,P||(P=0);var ce;if(typeof P=="number")for(ce=O;ce<$;++ce)this[ce]=P;else{var Ge=f.isBuffer(P)?P:Et(new f(P,X).toString()),$e=Ge.length;for(ce=0;ce<$-O;++ce)this[ce+O]=Ge[ce%$e]}return this};var Ue=/[^+\/0-9A-Za-z-_]/g;function je(H){if(H=pt(H).replace(Ue,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function pt(H){return H.trim?H.trim():H.replace(/^\s+|\s+$/g,"")}function it(H){return H<16?"0"+H.toString(16):H.toString(16)}function Et(H,P){P=P||1/0;for(var O,$=H.length,X=null,se=[],ce=0;ce<$;++ce){if(O=H.charCodeAt(ce),O>55295&&O<57344){if(!X){if(O>56319){(P-=3)>-1&&se.push(239,191,189);continue}else if(ce+1===$){(P-=3)>-1&&se.push(239,191,189);continue}X=O;continue}if(O<56320){(P-=3)>-1&&se.push(239,191,189),X=O;continue}O=(X-55296<<10|O-56320)+65536}else X&&(P-=3)>-1&&se.push(239,191,189);if(X=null,O<128){if((P-=1)<0)break;se.push(O)}else if(O<2048){if((P-=2)<0)break;se.push(O>>6|192,O&63|128)}else if(O<65536){if((P-=3)<0)break;se.push(O>>12|224,O>>6&63|128,O&63|128)}else if(O<1114112){if((P-=4)<0)break;se.push(O>>18|240,O>>12&63|128,O>>6&63|128,O&63|128)}else throw new Error("Invalid code point")}return se}function qt(H){for(var P=[],O=0;O<H.length;++O)P.push(H.charCodeAt(O)&255);return P}function Ve(H,P){for(var O,$,X,se=[],ce=0;ce<H.length&&!((P-=2)<0);++ce)O=H.charCodeAt(ce),$=O>>8,X=O%256,se.push(X),se.push($);return se}function ln(H){return r.toByteArray(je(H))}function er(H,P,O,$){for(var X=0;X<$&&!(X+O>=P.length||X>=H.length);++X)P[X+O]=H[X];return X}function Wi(H){return H!==H}})(Ft);var Jr;typeof window<"u"&&window.crypto&&(Jr=window.crypto);!Jr&&typeof window<"u"&&window.msCrypto&&(Jr=window.msCrypto);!Jr&&typeof{}<"u"&&{}.crypto&&(Jr={}.crypto);if(!Jr&&typeof require=="function")try{Jr=require("crypto")}catch{}function p$(){if(Jr){if(typeof Jr.getRandomValues=="function")try{return Jr.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof Jr.randomBytes=="function")try{return Jr.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")}function f$(n){for(var r=n.words,o=n.sigBytes,s=[],a=0;a<o;a++){var u=r[a>>>2]>>>24-a%4*8&255;s.push((u>>>4).toString(16)),s.push((u&15).toString(16))}return s.join("")}var g$=function(){function n(o,s){o=this.words=o||[],s!=null?this.sigBytes=s:this.sigBytes=o.length*4}var r=n.prototype;return r.random=function(s){for(var a=[],u=0;u<s;u+=4)a.push(p$());return new n(a,s)},r.toString=function(){return f$(this)},n}();function De(n,r){n!=null&&this.fromString(n,r)}function sr(){return new De(null)}var js,m$=0xdeadbeefcafe,nI=(m$&16777215)==15715070;function k$(n,r,o,s,a,u){for(;--u>=0;){var h=r*this[n++]+o[s]+a;a=Math.floor(h/67108864),o[s++]=h&67108863}return a}function b$(n,r,o,s,a,u){for(var h=r&32767,f=r>>15;--u>=0;){var m=this[n]&32767,k=this[n++]>>15,v=f*m+k*h;m=h*m+((v&32767)<<15)+o[s]+(a&1073741823),a=(m>>>30)+(v>>>15)+f*k+(a>>>30),o[s++]=m&1073741823}return a}function w$(n,r,o,s,a,u){for(var h=r&16383,f=r>>14;--u>=0;){var m=this[n]&16383,k=this[n++]>>14,v=f*m+k*h;m=h*m+((v&16383)<<14)+o[s]+a,a=(m>>28)+(v>>14)+f*k,o[s++]=m&268435455}return a}var rI=typeof navigator<"u";rI&&nI&&navigator.appName=="Microsoft Internet Explorer"?(De.prototype.am=b$,js=30):rI&&nI&&navigator.appName!="Netscape"?(De.prototype.am=k$,js=26):(De.prototype.am=w$,js=28);De.prototype.DB=js;De.prototype.DM=(1<<js)-1;De.prototype.DV=1<<js;var By=52;De.prototype.FV=Math.pow(2,By);De.prototype.F1=By-js;De.prototype.F2=2*js-By;var v$="0123456789abcdefghijklmnopqrstuvwxyz",hm=new Array,Rl,eo;Rl="0".charCodeAt(0);for(eo=0;eo<=9;++eo)hm[Rl++]=eo;Rl="a".charCodeAt(0);for(eo=10;eo<36;++eo)hm[Rl++]=eo;Rl="A".charCodeAt(0);for(eo=10;eo<36;++eo)hm[Rl++]=eo;function oI(n){return v$.charAt(n)}function y$(n,r){var o=hm[n.charCodeAt(r)];return o??-1}function _$(n){for(var r=this.t-1;r>=0;--r)n[r]=this[r];n.t=this.t,n.s=this.s}function C$(n){this.t=1,this.s=n<0?-1:0,n>0?this[0]=n:n<-1?this[0]=n+this.DV:this.t=0}function Ry(n){var r=sr();return r.fromInt(n),r}function A$(n,r){var o;if(r==16)o=4;else if(r==8)o=3;else if(r==2)o=1;else if(r==32)o=5;else if(r==4)o=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var s=n.length,a=!1,u=0;--s>=0;){var h=y$(n,s);if(h<0){n.charAt(s)=="-"&&(a=!0);continue}a=!1,u==0?this[this.t++]=h:u+o>this.DB?(this[this.t-1]|=(h&(1<<this.DB-u)-1)<<u,this[this.t++]=h>>this.DB-u):this[this.t-1]|=h<<u,u+=o,u>=this.DB&&(u-=this.DB)}this.clamp(),a&&De.ZERO.subTo(this,this)}function x$(){for(var n=this.s&this.DM;this.t>0&&this[this.t-1]==n;)--this.t}function E$(n){if(this.s<0)return"-"+this.negate().toString(n);var r;if(n==16)r=4;else if(n==8)r=3;else if(n==2)r=1;else if(n==32)r=5;else if(n==4)r=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");var o=(1<<r)-1,s,a=!1,u="",h=this.t,f=this.DB-h*this.DB%r;if(h-- >0)for(f<this.DB&&(s=this[h]>>f)>0&&(a=!0,u=oI(s));h>=0;)f<r?(s=(this[h]&(1<<f)-1)<<r-f,s|=this[--h]>>(f+=this.DB-r)):(s=this[h]>>(f-=r)&o,f<=0&&(f+=this.DB,--h)),s>0&&(a=!0),a&&(u+=oI(s));return a?u:"0"}function S$(){var n=sr();return De.ZERO.subTo(this,n),n}function D$(){return this.s<0?this.negate():this}function T$(n){var r=this.s-n.s;if(r!=0)return r;var o=this.t;if(r=o-n.t,r!=0)return this.s<0?-r:r;for(;--o>=0;)if((r=this[o]-n[o])!=0)return r;return 0}function Ly(n){var r=1,o;return(o=n>>>16)!=0&&(n=o,r+=16),(o=n>>8)!=0&&(n=o,r+=8),(o=n>>4)!=0&&(n=o,r+=4),(o=n>>2)!=0&&(n=o,r+=2),(o=n>>1)!=0&&(n=o,r+=1),r}function I$(){return this.t<=0?0:this.DB*(this.t-1)+Ly(this[this.t-1]^this.s&this.DM)}function M$(n,r){var o;for(o=this.t-1;o>=0;--o)r[o+n]=this[o];for(o=n-1;o>=0;--o)r[o]=0;r.t=this.t+n,r.s=this.s}function P$(n,r){for(var o=n;o<this.t;++o)r[o-n]=this[o];r.t=Math.max(this.t-n,0),r.s=this.s}function N$(n,r){var o=n%this.DB,s=this.DB-o,a=(1<<s)-1,u=Math.floor(n/this.DB),h=this.s<<o&this.DM,f;for(f=this.t-1;f>=0;--f)r[f+u+1]=this[f]>>s|h,h=(this[f]&a)<<o;for(f=u-1;f>=0;--f)r[f]=0;r[u]=h,r.t=this.t+u+1,r.s=this.s,r.clamp()}function O$(n,r){r.s=this.s;var o=Math.floor(n/this.DB);if(o>=this.t){r.t=0;return}var s=n%this.DB,a=this.DB-s,u=(1<<s)-1;r[0]=this[o]>>s;for(var h=o+1;h<this.t;++h)r[h-o-1]|=(this[h]&u)<<a,r[h-o]=this[h]>>s;s>0&&(r[this.t-o-1]|=(this.s&u)<<a),r.t=this.t-o,r.clamp()}function B$(n,r){for(var o=0,s=0,a=Math.min(n.t,this.t);o<a;)s+=this[o]-n[o],r[o++]=s&this.DM,s>>=this.DB;if(n.t<this.t){for(s-=n.s;o<this.t;)s+=this[o],r[o++]=s&this.DM,s>>=this.DB;s+=this.s}else{for(s+=this.s;o<n.t;)s-=n[o],r[o++]=s&this.DM,s>>=this.DB;s-=n.s}r.s=s<0?-1:0,s<-1?r[o++]=this.DV+s:s>0&&(r[o++]=s),r.t=o,r.clamp()}function R$(n,r){var o=this.abs(),s=n.abs(),a=o.t;for(r.t=a+s.t;--a>=0;)r[a]=0;for(a=0;a<s.t;++a)r[a+o.t]=o.am(0,s[a],r,a,0,o.t);r.s=0,r.clamp(),this.s!=n.s&&De.ZERO.subTo(r,r)}function L$(n){for(var r=this.abs(),o=n.t=2*r.t;--o>=0;)n[o]=0;for(o=0;o<r.t-1;++o){var s=r.am(o,r[o],n,2*o,0,1);(n[o+r.t]+=r.am(o+1,2*r[o],n,2*o+1,s,r.t-o-1))>=r.DV&&(n[o+r.t]-=r.DV,n[o+r.t+1]=1)}n.t>0&&(n[n.t-1]+=r.am(o,r[o],n,2*o,0,1)),n.s=0,n.clamp()}function j$(n,r,o){var s=n.abs();if(!(s.t<=0)){var a=this.abs();if(a.t<s.t){r?.fromInt(0),o!=null&&this.copyTo(o);return}o==null&&(o=sr());var u=sr(),h=this.s,f=n.s,m=this.DB-Ly(s[s.t-1]);m>0?(s.lShiftTo(m,u),a.lShiftTo(m,o)):(s.copyTo(u),a.copyTo(o));var k=u.t,v=u[k-1];if(v!=0){var _=v*(1<<this.F1)+(k>1?u[k-2]>>this.F2:0),C=this.FV/_,x=(1<<this.F1)/_,S=1<<this.F2,T=o.t,B=T-k,N=r??sr();for(u.dlShiftTo(B,N),o.compareTo(N)>=0&&(o[o.t++]=1,o.subTo(N,o)),De.ONE.dlShiftTo(k,N),N.subTo(u,u);u.t<k;)u[u.t++]=0;for(;--B>=0;){var I=o[--T]==v?this.DM:Math.floor(o[T]*C+(o[T-1]+S)*x);if((o[T]+=u.am(0,I,o,B,0,k))<I)for(u.dlShiftTo(B,N),o.subTo(N,o);o[T]<--I;)o.subTo(N,o)}r!=null&&(o.drShiftTo(k,r),h!=f&&De.ZERO.subTo(r,r)),o.t=k,o.clamp(),m>0&&o.rShiftTo(m,o),h<0&&De.ZERO.subTo(o,o)}}}function z$(n){var r=sr();return this.abs().divRemTo(n,null,r),this.s<0&&r.compareTo(De.ZERO)>0&&n.subTo(r,r),r}function F$(){if(this.t<1)return 0;var n=this[0];if(!(n&1))return 0;var r=n&3;return r=r*(2-(n&15)*r)&15,r=r*(2-(n&255)*r)&255,r=r*(2-((n&65535)*r&65535))&65535,r=r*(2-n*r%this.DV)%this.DV,r>0?this.DV-r:-r}function U$(n){return this.compareTo(n)==0}function V$(n,r){for(var o=0,s=0,a=Math.min(n.t,this.t);o<a;)s+=this[o]+n[o],r[o++]=s&this.DM,s>>=this.DB;if(n.t<this.t){for(s+=n.s;o<this.t;)s+=this[o],r[o++]=s&this.DM,s>>=this.DB;s+=this.s}else{for(s+=this.s;o<n.t;)s+=n[o],r[o++]=s&this.DM,s>>=this.DB;s+=n.s}r.s=s<0?-1:0,s>0?r[o++]=s:s<-1&&(r[o++]=this.DV+s),r.t=o,r.clamp()}function H$(n){var r=sr();return this.addTo(n,r),r}function W$(n){var r=sr();return this.subTo(n,r),r}function $$(n){var r=sr();return this.multiplyTo(n,r),r}function Y$(n){var r=sr();return this.divRemTo(n,r,null),r}function Ll(n){this.m=n,this.mp=n.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<n.DB-15)-1,this.mt2=2*n.t}function q$(n){var r=sr();return n.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),n.s<0&&r.compareTo(De.ZERO)>0&&this.m.subTo(r,r),r}function K$(n){var r=sr();return n.copyTo(r),this.reduce(r),r}function G$(n){for(;n.t<=this.mt2;)n[n.t++]=0;for(var r=0;r<this.m.t;++r){var o=n[r]&32767,s=o*this.mpl+((o*this.mph+(n[r]>>15)*this.mpl&this.um)<<15)&n.DM;for(o=r+this.m.t,n[o]+=this.m.am(0,s,n,r,0,this.m.t);n[o]>=n.DV;)n[o]-=n.DV,n[++o]++}n.clamp(),n.drShiftTo(this.m.t,n),n.compareTo(this.m)>=0&&n.subTo(this.m,n)}function Q$(n,r){n.squareTo(r),this.reduce(r)}function Z$(n,r,o){n.multiplyTo(r,o),this.reduce(o)}Ll.prototype.convert=q$;Ll.prototype.revert=K$;Ll.prototype.reduce=G$;Ll.prototype.mulTo=Z$;Ll.prototype.sqrTo=Q$;function J$(n,r,o){var s=n.bitLength(),a,u=Ry(1),h=new Ll(r);if(s<=0)return u;s<18?a=1:s<48?a=3:s<144?a=4:s<768?a=5:a=6;var f=new Array,m=3,k=a-1,v=(1<<a)-1;if(f[1]=h.convert(this),a>1){var _=sr();for(h.sqrTo(f[1],_);m<=v;)f[m]=sr(),h.mulTo(_,f[m-2],f[m]),m+=2}var C=n.t-1,x,S=!0,T=sr(),B;for(s=Ly(n[C])-1;C>=0;){for(s>=k?x=n[C]>>s-k&v:(x=(n[C]&(1<<s+1)-1)<<k-s,C>0&&(x|=n[C-1]>>this.DB+s-k)),m=a;!(x&1);)x>>=1,--m;if((s-=m)<0&&(s+=this.DB,--C),S)f[x].copyTo(u),S=!1;else{for(;m>1;)h.sqrTo(u,T),h.sqrTo(T,u),m-=2;m>0?h.sqrTo(u,T):(B=u,u=T,T=B),h.mulTo(T,f[x],u)}for(;C>=0&&!(n[C]&1<<s);)h.sqrTo(u,T),B=u,u=T,T=B,--s<0&&(s=this.DB-1,--C)}var N=h.revert(u);return o(null,N),N}De.prototype.copyTo=_$;De.prototype.fromInt=C$;De.prototype.fromString=A$;De.prototype.clamp=x$;De.prototype.dlShiftTo=M$;De.prototype.drShiftTo=P$;De.prototype.lShiftTo=N$;De.prototype.rShiftTo=O$;De.prototype.subTo=B$;De.prototype.multiplyTo=R$;De.prototype.squareTo=L$;De.prototype.divRemTo=j$;De.prototype.invDigit=F$;De.prototype.addTo=V$;De.prototype.toString=E$;De.prototype.negate=S$;De.prototype.abs=D$;De.prototype.compareTo=T$;De.prototype.bitLength=I$;De.prototype.mod=z$;De.prototype.equals=U$;De.prototype.add=H$;De.prototype.subtract=W$;De.prototype.multiply=$$;De.prototype.divide=Y$;De.prototype.modPow=J$;De.ZERO=Ry(0);De.ONE=Ry(1);/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */function Mw(n){return Ft.Buffer.from(new g$().random(n).toString(),"hex")}var X$=/^[89a-f]/i,eY="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",tY="userAttributes.",Vc=function(){function n(o){this.N=new De(eY,16),this.g=new De("2",16),this.k=new De(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=Ft.Buffer.from("Caldera Derived Key","utf8"),this.poolName=o}var r=n.prototype;return r.getSmallAValue=function(){return this.smallAValue},r.getLargeAValue=function(s){var a=this;this.largeAValue?s(null,this.largeAValue):this.calculateA(this.smallAValue,function(u,h){u&&s(u,null),a.largeAValue=h,s(null,a.largeAValue)})},r.generateRandomSmallA=function(){var s=Mw(128).toString("hex"),a=new De(s,16);return a},r.generateRandomString=function(){return Mw(40).toString("base64")},r.getRandomPassword=function(){return this.randomPassword},r.getSaltDevices=function(){return this.SaltToHashDevices},r.getVerifierDevices=function(){return this.verifierDevices},r.generateHashDevice=function(s,a,u){var h=this;this.randomPassword=this.generateRandomString();var f=""+s+a+":"+this.randomPassword,m=this.hash(f),k=Mw(16).toString("hex");this.SaltToHashDevices=this.padHex(new De(k,16)),this.g.modPow(new De(this.hexHash(this.SaltToHashDevices+m),16),this.N,function(v,_){v&&u(v,null),h.verifierDevices=h.padHex(_),u(null,null)})},r.calculateA=function(s,a){var u=this;this.g.modPow(s,this.N,function(h,f){h&&a(h,null),f.mod(u.N).equals(De.ZERO)&&a(new Error("Illegal paramater. A mod N cannot be 0."),null),a(null,f)})},r.calculateU=function(s,a){this.UHexHash=this.hexHash(this.padHex(s)+this.padHex(a));var u=new De(this.UHexHash,16);return u},r.hash=function(s){var a=new Na.Sha256;a.update(s);var u=a.digestSync(),h=Ft.Buffer.from(u).toString("hex");return new Array(64-h.length).join("0")+h},r.hexHash=function(s){return this.hash(Ft.Buffer.from(s,"hex"))},r.computehkdf=function(s,a){var u=Ft.Buffer.concat([this.infoBits,Ft.Buffer.from(String.fromCharCode(1),"utf8")]),h=new Na.Sha256(a);h.update(s);var f=h.digestSync(),m=new Na.Sha256(f);m.update(u);var k=m.digestSync(),v=k,_=v.slice(0,16);return _},r.getPasswordAuthenticationKey=function(s,a,u,h,f){var m=this;if(u.mod(this.N).equals(De.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,u),this.UValue.equals(De.ZERO))throw new Error("U cannot be zero.");var k=""+this.poolName+s+":"+a,v=this.hash(k),_=new De(this.hexHash(this.padHex(h)+v),16);this.calculateS(_,u,function(C,x){C&&f(C,null);var S=m.computehkdf(Ft.Buffer.from(m.padHex(x),"hex"),Ft.Buffer.from(m.padHex(m.UValue),"hex"));f(null,S)})},r.calculateS=function(s,a,u){var h=this;this.g.modPow(s,this.N,function(f,m){f&&u(f,null);var k=a.subtract(h.k.multiply(m));k.modPow(h.smallAValue.add(h.UValue.multiply(s)),h.N,function(v,_){v&&u(v,null),u(null,_.mod(h.N))})})},r.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return tY},r.padHex=function(s){if(!(s instanceof De))throw new Error("Not a BigInteger");var a=s.compareTo(De.ZERO)<0,u=s.abs().toString(16);if(u=u.length%2!==0?"0"+u:u,u=X$.test(u)?"00"+u:u,a){var h=u.split("").map(function(m){var k=~parseInt(m,16)&15;return"0123456789ABCDEF".charAt(k)}).join(""),f=new De(h,16).add(De.ONE);u=f.toString(16),u.toUpperCase().startsWith("FF8")&&(u=u.substring(2))}return u},n}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var XP=function(){function n(o){this.jwtToken=o||"",this.payload=this.decodePayload()}var r=n.prototype;return r.getJwtToken=function(){return this.jwtToken},r.getExpiration=function(){return this.payload.exp},r.getIssuedAt=function(){return this.payload.iat},r.decodePayload=function(){var s=this.jwtToken.split(".")[1];try{return JSON.parse(Ft.Buffer.from(s,"base64").toString("utf8"))}catch{return{}}},n}();function nY(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,Kv(n,r)}function Kv(n,r){return Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Kv(n,r)}var Gv=function(n){nY(r,n);function r(o){var s=o===void 0?{}:o,a=s.AccessToken;return n.call(this,a||"")||this}return r}(XP);function rY(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,Qv(n,r)}function Qv(n,r){return Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Qv(n,r)}var Zv=function(n){rY(r,n);function r(o){var s=o===void 0?{}:o,a=s.IdToken;return n.call(this,a||"")||this}return r}(XP);/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var Jv=function(){function n(o){var s=o===void 0?{}:o,a=s.RefreshToken;this.token=a||""}var r=n.prototype;return r.getToken=function(){return this.token},n}(),oY="5.0.4";/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var iY="aws-amplify/"+oY,eN={userAgent:iY,isReactNative:typeof navigator<"u"&&navigator.product==="ReactNative"},sY=function(){return eN.userAgent};/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var Xv=function(){function n(o){var s=o===void 0?{}:o,a=s.IdToken,u=s.RefreshToken,h=s.AccessToken,f=s.ClockDrift;if(h==null||a==null)throw new Error("Id token and Access Token must be present.");this.idToken=a,this.refreshToken=u,this.accessToken=h,this.clockDrift=f===void 0?this.calculateClockDrift():f}var r=n.prototype;return r.getIdToken=function(){return this.idToken},r.getRefreshToken=function(){return this.refreshToken},r.getAccessToken=function(){return this.accessToken},r.getClockDrift=function(){return this.clockDrift},r.calculateClockDrift=function(){var s=Math.floor(new Date/1e3),a=Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt());return s-a},r.isValid=function(){var s=Math.floor(new Date/1e3),a=s-this.clockDrift;return a<this.accessToken.getExpiration()&&a<this.idToken.getExpiration()},n}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var aY=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],cY=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],iI=function(){function n(){}var r=n.prototype;return r.getNowString=function(){var s=new Date,a=cY[s.getUTCDay()],u=aY[s.getUTCMonth()],h=s.getUTCDate(),f=s.getUTCHours();f<10&&(f="0"+f);var m=s.getUTCMinutes();m<10&&(m="0"+m);var k=s.getUTCSeconds();k<10&&(k="0"+k);var v=s.getUTCFullYear(),_=a+" "+u+" "+h+" "+f+":"+m+":"+k+" UTC "+v;return _},n}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var Yc=function(){function n(o){var s=o===void 0?{}:o,a=s.Name,u=s.Value;this.Name=a||"",this.Value=u||""}var r=n.prototype;return r.getValue=function(){return this.Value},r.setValue=function(s){return this.Value=s,this},r.getName=function(){return this.Name},r.setName=function(s){return this.Name=s,this},r.toString=function(){return JSON.stringify(this)},r.toJSON=function(){return{Name:this.Name,Value:this.Value}},n}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var wa={},lY=function(){function n(){}return n.setItem=function(o,s){return wa[o]=s,wa[o]},n.getItem=function(o){return Object.prototype.hasOwnProperty.call(wa,o)?wa[o]:void 0},n.removeItem=function(o){return delete wa[o]},n.clear=function(){return wa={},wa},n}(),tN=function(){function n(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch{this.storageWindow=lY}}var r=n.prototype;return r.getStorage=function(){return this.storageWindow},n}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var uY=typeof navigator<"u",sI=uY?eN.isReactNative?"react-native":navigator.userAgent:"nodejs",e0=function(){function n(o){if(o==null||o.Username==null||o.Pool==null)throw new Error("Username and Pool information are required.");this.username=o.Username||"",this.pool=o.Pool,this.Session=null,this.client=o.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=o.Storage||new tN().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var r=n.prototype;return r.setSignInUserSession=function(s){this.clearCachedUserData(),this.signInUserSession=s,this.cacheTokens()},r.getSignInUserSession=function(){return this.signInUserSession},r.getUsername=function(){return this.username},r.getAuthenticationFlowType=function(){return this.authenticationFlowType},r.setAuthenticationFlowType=function(s){this.authenticationFlowType=s},r.initiateAuth=function(s,a){var u=this,h=s.getAuthParameters();h.USERNAME=this.username;var f=Object.keys(s.getValidationData()).length!==0?s.getValidationData():s.getClientMetadata(),m={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:h,ClientMetadata:f};this.getUserContextData()&&(m.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",m,function(k,v){if(k)return a.onFailure(k);var _=v.ChallengeName,C=v.ChallengeParameters;return _==="CUSTOM_CHALLENGE"?(u.Session=v.Session,a.customChallenge(C)):(u.signInUserSession=u.getCognitoUserSession(v.AuthenticationResult),u.cacheTokens(),a.onSuccess(u.signInUserSession))})},r.authenticateUser=function(s,a){return this.authenticationFlowType==="USER_PASSWORD_AUTH"?this.authenticateUserPlainUsernamePassword(s,a):this.authenticationFlowType==="USER_SRP_AUTH"||this.authenticationFlowType==="CUSTOM_AUTH"?this.authenticateUserDefaultAuth(s,a):a.onFailure(new Error("Authentication flow type is invalid."))},r.authenticateUserDefaultAuth=function(s,a){var u=this,h=new Vc(this.pool.getUserPoolName()),f=new iI,m,k,v={};this.deviceKey!=null&&(v.DEVICE_KEY=this.deviceKey),v.USERNAME=this.username,h.getLargeAValue(function(_,C){_&&a.onFailure(_),v.SRP_A=C.toString(16),u.authenticationFlowType==="CUSTOM_AUTH"&&(v.CHALLENGE_NAME="SRP_A");var x=Object.keys(s.getValidationData()).length!==0?s.getValidationData():s.getClientMetadata(),S={AuthFlow:u.authenticationFlowType,ClientId:u.pool.getClientId(),AuthParameters:v,ClientMetadata:x};u.getUserContextData(u.username)&&(S.UserContextData=u.getUserContextData(u.username)),u.client.request("InitiateAuth",S,function(T,B){if(T)return a.onFailure(T);var N=B.ChallengeParameters;u.username=N.USER_ID_FOR_SRP,u.userDataKey=u.keyPrefix+"."+u.username+".userData",m=new De(N.SRP_B,16),k=new De(N.SALT,16),u.getCachedDeviceKeyAndPassword(),h.getPasswordAuthenticationKey(u.username,s.getPassword(),m,k,function(I,L){I&&a.onFailure(I);var V=f.getNowString(),K=Ft.Buffer.concat([Ft.Buffer.from(u.pool.getUserPoolName(),"utf8"),Ft.Buffer.from(u.username,"utf8"),Ft.Buffer.from(N.SECRET_BLOCK,"base64"),Ft.Buffer.from(V,"utf8")]),Z=new Na.Sha256(L);Z.update(K);var Q=Z.digestSync(),z=Ft.Buffer.from(Q).toString("base64"),te={};te.USERNAME=u.username,te.PASSWORD_CLAIM_SECRET_BLOCK=N.SECRET_BLOCK,te.TIMESTAMP=V,te.PASSWORD_CLAIM_SIGNATURE=z,u.deviceKey!=null&&(te.DEVICE_KEY=u.deviceKey);var ae=function Me(Ae,et){return u.client.request("RespondToAuthChallenge",Ae,function(Pe,Re){return Pe&&Pe.code==="ResourceNotFoundException"&&Pe.message.toLowerCase().indexOf("device")!==-1?(te.DEVICE_KEY=null,u.deviceKey=null,u.randomPassword=null,u.deviceGroupKey=null,u.clearCachedDeviceKeyAndPassword(),Me(Ae,et)):et(Pe,Re)})},Ce={ChallengeName:"PASSWORD_VERIFIER",ClientId:u.pool.getClientId(),ChallengeResponses:te,Session:B.Session,ClientMetadata:x};u.getUserContextData()&&(Ce.UserContextData=u.getUserContextData()),ae(Ce,function(Me,Ae){return Me?a.onFailure(Me):u.authenticateUserInternal(Ae,h,a)})})})})},r.authenticateUserPlainUsernamePassword=function(s,a){var u=this,h={};if(h.USERNAME=this.username,h.PASSWORD=s.getPassword(),!h.PASSWORD){a.onFailure(new Error("PASSWORD parameter is required"));return}var f=new Vc(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(h.DEVICE_KEY=this.deviceKey);var m=Object.keys(s.getValidationData()).length!==0?s.getValidationData():s.getClientMetadata(),k={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:h,ClientMetadata:m};this.getUserContextData(this.username)&&(k.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",k,function(v,_){return v?a.onFailure(v):u.authenticateUserInternal(_,f,a)})},r.authenticateUserInternal=function(s,a,u){var h=this,f=s.ChallengeName,m=s.ChallengeParameters;if(f==="SMS_MFA")return this.Session=s.Session,u.mfaRequired(f,m);if(f==="SELECT_MFA_TYPE")return this.Session=s.Session,u.selectMFAType(f,m);if(f==="MFA_SETUP")return this.Session=s.Session,u.mfaSetup(f,m);if(f==="SOFTWARE_TOKEN_MFA")return this.Session=s.Session,u.totpRequired(f,m);if(f==="CUSTOM_CHALLENGE")return this.Session=s.Session,u.customChallenge(m);if(f==="NEW_PASSWORD_REQUIRED"){this.Session=s.Session;var k=null,v=null,_=[],C=a.getNewPasswordRequiredChallengeUserAttributePrefix();if(m&&(k=JSON.parse(s.ChallengeParameters.userAttributes),v=JSON.parse(s.ChallengeParameters.requiredAttributes)),v)for(var x=0;x<v.length;x++)_[x]=v[x].substr(C.length);return u.newPasswordRequired(k,_)}if(f==="DEVICE_SRP_AUTH"){this.Session=s.Session,this.getDeviceResponse(u);return}this.signInUserSession=this.getCognitoUserSession(s.AuthenticationResult),this.challengeName=f,this.cacheTokens();var S=s.AuthenticationResult.NewDeviceMetadata;if(S==null)return u.onSuccess(this.signInUserSession);a.generateHashDevice(s.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,s.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(T){if(T)return u.onFailure(T);var B={Salt:Ft.Buffer.from(a.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Ft.Buffer.from(a.getVerifierDevices(),"hex").toString("base64")};h.verifierDevices=B.PasswordVerifier,h.deviceGroupKey=S.DeviceGroupKey,h.randomPassword=a.getRandomPassword(),h.client.request("ConfirmDevice",{DeviceKey:S.DeviceKey,AccessToken:h.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:B,DeviceName:sI},function(N,I){return N?u.onFailure(N):(h.deviceKey=s.AuthenticationResult.NewDeviceMetadata.DeviceKey,h.cacheDeviceKeyAndPassword(),I.UserConfirmationNecessary===!0?u.onSuccess(h.signInUserSession,I.UserConfirmationNecessary):u.onSuccess(h.signInUserSession))})})},r.completeNewPasswordChallenge=function(s,a,u,h){var f=this;if(!s)return u.onFailure(new Error("New password is required."));var m=new Vc(this.pool.getUserPoolName()),k=m.getNewPasswordRequiredChallengeUserAttributePrefix(),v={};a&&Object.keys(a).forEach(function(C){v[k+C]=a[C]}),v.NEW_PASSWORD=s,v.USERNAME=this.username;var _={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:v,Session:this.Session,ClientMetadata:h};this.getUserContextData()&&(_.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",_,function(C,x){return C?u.onFailure(C):f.authenticateUserInternal(x,m,u)})},r.getDeviceResponse=function(s,a){var u=this,h=new Vc(this.deviceGroupKey),f=new iI,m={};m.USERNAME=this.username,m.DEVICE_KEY=this.deviceKey,h.getLargeAValue(function(k,v){k&&s.onFailure(k),m.SRP_A=v.toString(16);var _={ChallengeName:"DEVICE_SRP_AUTH",ClientId:u.pool.getClientId(),ChallengeResponses:m,ClientMetadata:a,Session:u.Session};u.getUserContextData()&&(_.UserContextData=u.getUserContextData()),u.client.request("RespondToAuthChallenge",_,function(C,x){if(C)return s.onFailure(C);var S=x.ChallengeParameters,T=new De(S.SRP_B,16),B=new De(S.SALT,16);h.getPasswordAuthenticationKey(u.deviceKey,u.randomPassword,T,B,function(N,I){if(N)return s.onFailure(N);var L=f.getNowString(),V=Ft.Buffer.concat([Ft.Buffer.from(u.deviceGroupKey,"utf8"),Ft.Buffer.from(u.deviceKey,"utf8"),Ft.Buffer.from(S.SECRET_BLOCK,"base64"),Ft.Buffer.from(L,"utf8")]),K=new Na.Sha256(I);K.update(V);var Z=K.digestSync(),Q=Ft.Buffer.from(Z).toString("base64"),z={};z.USERNAME=u.username,z.PASSWORD_CLAIM_SECRET_BLOCK=S.SECRET_BLOCK,z.TIMESTAMP=L,z.PASSWORD_CLAIM_SIGNATURE=Q,z.DEVICE_KEY=u.deviceKey;var te={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:u.pool.getClientId(),ChallengeResponses:z,Session:x.Session};u.getUserContextData()&&(te.UserContextData=u.getUserContextData()),u.client.request("RespondToAuthChallenge",te,function(ae,Ce){return ae?s.onFailure(ae):(u.signInUserSession=u.getCognitoUserSession(Ce.AuthenticationResult),u.cacheTokens(),s.onSuccess(u.signInUserSession))})})})})},r.confirmRegistration=function(s,a,u,h){var f={ClientId:this.pool.getClientId(),ConfirmationCode:s,Username:this.username,ForceAliasCreation:a,ClientMetadata:h};this.getUserContextData()&&(f.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",f,function(m){return m?u(m,null):u(null,"SUCCESS")})},r.sendCustomChallengeAnswer=function(s,a,u){var h=this,f={};f.USERNAME=this.username,f.ANSWER=s;var m=new Vc(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(f.DEVICE_KEY=this.deviceKey);var k={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:f,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:u};this.getUserContextData()&&(k.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",k,function(v,_){return v?a.onFailure(v):h.authenticateUserInternal(_,m,a)})},r.sendMFACode=function(s,a,u,h){var f=this,m={};m.USERNAME=this.username,m.SMS_MFA_CODE=s;var k=u||"SMS_MFA";k==="SOFTWARE_TOKEN_MFA"&&(m.SOFTWARE_TOKEN_MFA_CODE=s),this.deviceKey!=null&&(m.DEVICE_KEY=this.deviceKey);var v={ChallengeName:k,ChallengeResponses:m,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:h};this.getUserContextData()&&(v.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",v,function(_,C){if(_)return a.onFailure(_);var x=C.ChallengeName;if(x==="DEVICE_SRP_AUTH"){f.getDeviceResponse(a);return}if(f.signInUserSession=f.getCognitoUserSession(C.AuthenticationResult),f.cacheTokens(),C.AuthenticationResult.NewDeviceMetadata==null)return a.onSuccess(f.signInUserSession);var S=new Vc(f.pool.getUserPoolName());S.generateHashDevice(C.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,C.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(T){if(T)return a.onFailure(T);var B={Salt:Ft.Buffer.from(S.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Ft.Buffer.from(S.getVerifierDevices(),"hex").toString("base64")};f.verifierDevices=B.PasswordVerifier,f.deviceGroupKey=C.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,f.randomPassword=S.getRandomPassword(),f.client.request("ConfirmDevice",{DeviceKey:C.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:f.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:B,DeviceName:sI},function(N,I){return N?a.onFailure(N):(f.deviceKey=C.AuthenticationResult.NewDeviceMetadata.DeviceKey,f.cacheDeviceKeyAndPassword(),I.UserConfirmationNecessary===!0?a.onSuccess(f.signInUserSession,I.UserConfirmationNecessary):a.onSuccess(f.signInUserSession))})})})},r.changePassword=function(s,a,u,h){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return u(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:s,ProposedPassword:a,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:h},function(f){return f?u(f,null):u(null,"SUCCESS")})},r.enableMFA=function(s){if(this.signInUserSession==null||!this.signInUserSession.isValid())return s(new Error("User is not authenticated"),null);var a=[],u={DeliveryMedium:"SMS",AttributeName:"phone_number"};a.push(u),this.client.request("SetUserSettings",{MFAOptions:a,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(h){return h?s(h,null):s(null,"SUCCESS")})},r.setUserMfaPreference=function(s,a,u){if(this.signInUserSession==null||!this.signInUserSession.isValid())return u(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:s,SoftwareTokenMfaSettings:a,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(h){return h?u(h,null):u(null,"SUCCESS")})},r.disableMFA=function(s){if(this.signInUserSession==null||!this.signInUserSession.isValid())return s(new Error("User is not authenticated"),null);var a=[];this.client.request("SetUserSettings",{MFAOptions:a,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(u){return u?s(u,null):s(null,"SUCCESS")})},r.deleteUser=function(s,a){var u=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return s(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:a},function(h){return h?s(h,null):(u.clearCachedUser(),s(null,"SUCCESS"))})},r.updateAttributes=function(s,a,u){var h=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return a(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:s,ClientMetadata:u},function(f,m){return f?a(f,null):h.getUserData(function(){return a(null,"SUCCESS",m)},{bypassCache:!0})})},r.getUserAttributes=function(s){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return s(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(a,u){if(a)return s(a,null);for(var h=[],f=0;f<u.UserAttributes.length;f++){var m={Name:u.UserAttributes[f].Name,Value:u.UserAttributes[f].Value},k=new Yc(m);h.push(k)}return s(null,h)})},r.getMFAOptions=function(s){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return s(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(a,u){return a?s(a,null):s(null,u.MFAOptions)})},r.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},r.refreshSessionIfPossible=function(s){var a=this;return s===void 0&&(s={}),new Promise(function(u){var h=a.signInUserSession.getRefreshToken();h&&h.getToken()?a.refreshSession(h,u,s.clientMetadata):u()})},r.getUserData=function(s,a){var u=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return this.clearCachedUserData(),s(new Error("User is not authenticated"),null);var h=this.getUserDataFromCache();if(!h){this.fetchUserData().then(function(f){s(null,f)}).catch(s);return}if(this.isFetchUserDataAndTokenRequired(a)){this.fetchUserData().then(function(f){return u.refreshSessionIfPossible(a).then(function(){return f})}).then(function(f){return s(null,f)}).catch(s);return}try{s(null,JSON.parse(h));return}catch(f){this.clearCachedUserData(),s(f,null);return}},r.getUserDataFromCache=function(){var s=this.storage.getItem(this.userDataKey);return s},r.isFetchUserDataAndTokenRequired=function(s){var a=s||{},u=a.bypassCache,h=u===void 0?!1:u;return h},r.fetchUserData=function(){var s=this;return this.createGetUserRequest().then(function(a){return s.cacheUserData(a),a})},r.deleteAttributes=function(s,a){var u=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return a(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:s,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(h){return h?a(h,null):u.getUserData(function(){return a(null,"SUCCESS")},{bypassCache:!0})})},r.resendConfirmationCode=function(s,a){var u={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:a};this.client.request("ResendConfirmationCode",u,function(h,f){return h?s(h,null):s(null,f)})},r.getSession=function(s,a){if(a===void 0&&(a={}),this.username==null)return s(new Error("Username is null. Cannot retrieve a new session"),null);if(this.signInUserSession!=null&&this.signInUserSession.isValid())return s(null,this.signInUserSession);var u="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,h=u+".idToken",f=u+".accessToken",m=u+".refreshToken",k=u+".clockDrift";if(this.storage.getItem(h)){var v=new Zv({IdToken:this.storage.getItem(h)}),_=new Gv({AccessToken:this.storage.getItem(f)}),C=new Jv({RefreshToken:this.storage.getItem(m)}),x=parseInt(this.storage.getItem(k),0)||0,S={IdToken:v,AccessToken:_,RefreshToken:C,ClockDrift:x},T=new Xv(S);if(T.isValid())return this.signInUserSession=T,s(null,this.signInUserSession);if(!C.getToken())return s(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(C,s,a.clientMetadata)}else s(new Error("Local storage is missing an ID Token, Please authenticate"),null)},r.refreshSession=function(s,a,u){var h=this,f=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(a):a,m={};m.REFRESH_TOKEN=s.getToken();var k="CognitoIdentityServiceProvider."+this.pool.getClientId(),v=k+".LastAuthUser";if(this.storage.getItem(v)){this.username=this.storage.getItem(v);var _=k+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(_),m.DEVICE_KEY=this.deviceKey}var C={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:m,ClientMetadata:u};this.getUserContextData()&&(C.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",C,function(x,S){if(x)return x.code==="NotAuthorizedException"&&h.clearCachedUser(),f(x,null);if(S){var T=S.AuthenticationResult;return Object.prototype.hasOwnProperty.call(T,"RefreshToken")||(T.RefreshToken=s.getToken()),h.signInUserSession=h.getCognitoUserSession(T),h.cacheTokens(),f(null,h.signInUserSession)}})},r.cacheTokens=function(){var s="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=s+"."+this.username+".idToken",u=s+"."+this.username+".accessToken",h=s+"."+this.username+".refreshToken",f=s+"."+this.username+".clockDrift",m=s+".LastAuthUser";this.storage.setItem(a,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(u,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(h,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(f,""+this.signInUserSession.getClockDrift()),this.storage.setItem(m,this.username)},r.cacheUserData=function(s){this.storage.setItem(this.userDataKey,JSON.stringify(s))},r.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},r.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},r.cacheDeviceKeyAndPassword=function(){var s="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,a=s+".deviceKey",u=s+".randomPasswordKey",h=s+".deviceGroupKey";this.storage.setItem(a,this.deviceKey),this.storage.setItem(u,this.randomPassword),this.storage.setItem(h,this.deviceGroupKey)},r.getCachedDeviceKeyAndPassword=function(){var s="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,a=s+".deviceKey",u=s+".randomPasswordKey",h=s+".deviceGroupKey";this.storage.getItem(a)&&(this.deviceKey=this.storage.getItem(a),this.randomPassword=this.storage.getItem(u),this.deviceGroupKey=this.storage.getItem(h))},r.clearCachedDeviceKeyAndPassword=function(){var s="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,a=s+".deviceKey",u=s+".randomPasswordKey",h=s+".deviceGroupKey";this.storage.removeItem(a),this.storage.removeItem(u),this.storage.removeItem(h)},r.clearCachedTokens=function(){var s="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=s+"."+this.username+".idToken",u=s+"."+this.username+".accessToken",h=s+"."+this.username+".refreshToken",f=s+".LastAuthUser",m=s+"."+this.username+".clockDrift";this.storage.removeItem(a),this.storage.removeItem(u),this.storage.removeItem(h),this.storage.removeItem(f),this.storage.removeItem(m)},r.getCognitoUserSession=function(s){var a=new Zv(s),u=new Gv(s),h=new Jv(s),f={IdToken:a,AccessToken:u,RefreshToken:h};return new Xv(f)},r.forgotPassword=function(s,a){var u={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:a};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",u,function(h,f){return h?s.onFailure(h):typeof s.inputVerificationCode=="function"?s.inputVerificationCode(f):s.onSuccess(f)})},r.confirmPassword=function(s,a,u,h){var f={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:s,Password:a,ClientMetadata:h};this.getUserContextData()&&(f.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",f,function(m){return m?u.onFailure(m):u.onSuccess("SUCCESS")})},r.getAttributeVerificationCode=function(s,a,u){if(this.signInUserSession==null||!this.signInUserSession.isValid())return a.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:s,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:u},function(h,f){return h?a.onFailure(h):typeof a.inputVerificationCode=="function"?a.inputVerificationCode(f):a.onSuccess("SUCCESS")})},r.verifyAttribute=function(s,a,u){if(this.signInUserSession==null||!this.signInUserSession.isValid())return u.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:s,Code:a,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(h){return h?u.onFailure(h):u.onSuccess("SUCCESS")})},r.getDevice=function(s){if(this.signInUserSession==null||!this.signInUserSession.isValid())return s.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(a,u){return a?s.onFailure(a):s.onSuccess(u)})},r.forgetSpecificDevice=function(s,a){if(this.signInUserSession==null||!this.signInUserSession.isValid())return a.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:s},function(u){return u?a.onFailure(u):a.onSuccess("SUCCESS")})},r.forgetDevice=function(s){var a=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:s.onFailure,onSuccess:function(h){return a.deviceKey=null,a.deviceGroupKey=null,a.randomPassword=null,a.clearCachedDeviceKeyAndPassword(),s.onSuccess(h)}})},r.setDeviceStatusRemembered=function(s){if(this.signInUserSession==null||!this.signInUserSession.isValid())return s.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(a){return a?s.onFailure(a):s.onSuccess("SUCCESS")})},r.setDeviceStatusNotRemembered=function(s){if(this.signInUserSession==null||!this.signInUserSession.isValid())return s.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(a){return a?s.onFailure(a):s.onSuccess("SUCCESS")})},r.listDevices=function(s,a,u){if(this.signInUserSession==null||!this.signInUserSession.isValid())return u.onFailure(new Error("User is not authenticated"));var h={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:s};a&&(h.PaginationToken=a),this.client.request("ListDevices",h,function(f,m){return f?u.onFailure(f):u.onSuccess(m)})},r.globalSignOut=function(s){var a=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return s.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(u){return u?s.onFailure(u):(a.clearCachedUser(),s.onSuccess("SUCCESS"))})},r.signOut=function(s){var a=this;if(!s||typeof s!="function"){this.cleanClientData();return}this.getSession(function(u,h){if(u)return s(u);a.revokeTokens(function(f){a.cleanClientData(),s(f)})})},r.revokeTokens=function(s){if(s===void 0&&(s=function(){}),typeof s!="function")throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession){var a=new Error("User is not authenticated");return s(a)}if(!this.signInUserSession.getAccessToken()){var u=new Error("No Access token available");return s(u)}var h=this.signInUserSession.getRefreshToken().getToken(),f=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(f)&&h)return this.revokeToken({token:h,callback:s});s()},r.isSessionRevocable=function(s){if(s&&typeof s.decodePayload=="function")try{var a=s.decodePayload(),u=a.origin_jti;return!!u}catch{}return!1},r.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},r.revokeToken=function(s){var a=s.token,u=s.callback;this.client.requestWithRetry("RevokeToken",{Token:a,ClientId:this.pool.getClientId()},function(h){if(h)return u(h);u()})},r.sendMFASelectionAnswer=function(s,a){var u=this,h={};h.USERNAME=this.username,h.ANSWER=s;var f={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:h,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(f.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",f,function(m,k){if(m)return a.onFailure(m);if(u.Session=k.Session,s==="SMS_MFA")return a.mfaRequired(k.ChallengeName,k.ChallengeParameters);if(s==="SOFTWARE_TOKEN_MFA")return a.totpRequired(k.ChallengeName,k.ChallengeParameters)})},r.getUserContextData=function(){var s=this.pool;return s.getUserContextData(this.username)},r.associateSoftwareToken=function(s){var a=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(u,h){return u?s.onFailure(u):s.associateSecretCode(h.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(u,h){return u?s.onFailure(u):(a.Session=h.Session,s.associateSecretCode(h.SecretCode))})},r.verifySoftwareToken=function(s,a,u){var h=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:s,FriendlyDeviceName:a},function(f,m){return f?u.onFailure(f):u.onSuccess(m)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:s,FriendlyDeviceName:a},function(f,m){if(f)return u.onFailure(f);h.Session=m.Session;var k={};k.USERNAME=h.username;var v={ChallengeName:"MFA_SETUP",ClientId:h.pool.getClientId(),ChallengeResponses:k,Session:h.Session};h.getUserContextData()&&(v.UserContextData=h.getUserContextData()),h.client.request("RespondToAuthChallenge",v,function(_,C){return _?u.onFailure(_):(h.signInUserSession=h.getCognitoUserSession(C.AuthenticationResult),h.cacheTokens(),u.onSuccess(h.signInUserSession))})})},n}(),dY="auth";function _s(){}_s.prototype.userAgent=sY();var hY=function(){_s.category=dY},aI=function(r){_s.framework=r},pY=function(r){var o=_s.category?" "+_s.category:"",s=_s.framework?" framework/"+_s.framework:"",a=""+_s.prototype.userAgent+o+s;return a};function fY(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,Ud(n,r)}function t0(n){var r=typeof Map=="function"?new Map:void 0;return t0=function(s){if(s===null||!mY(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(s))return r.get(s);r.set(s,a)}function a(){return Mf(s,arguments,n0(this).constructor)}return a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Ud(a,s)},t0(n)}function Mf(n,r,o){return gY()?Mf=Reflect.construct.bind():Mf=function(a,u,h){var f=[null];f.push.apply(f,u);var m=Function.bind.apply(a,f),k=new m;return h&&Ud(k,h.prototype),k},Mf.apply(null,arguments)}function gY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mY(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function Ud(n,r){return Ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Ud(n,r)}function n0(n){return n0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},n0(n)}var kY=function(n){fY(r,n);function r(o,s,a,u){var h;return h=n.call(this,o)||this,h.code=s,h.name=a,h.statusCode=u,h}return r}(t0(Error)),bY=function(){function n(o,s,a){this.endpoint=s||"https://cognito-idp."+o+".amazonaws.com/";var u=a||{},h=u.credentials;this.fetchOptions=h?{credentials:h}:{}}var r=n.prototype;return r.promisifyRequest=function(s,a){var u=this;return new Promise(function(h,f){u.request(s,a,function(m,k){m?f(new kY(m.message,m.code,m.name,m.statusCode)):h(k)})})},r.requestWithRetry=function(s,a,u){var h=this,f=5*1e3;_Y(function(m){return new Promise(function(k,v){h.request(s,m,function(_,C){_?v(_):k(C)})})},[a],f).then(function(m){return u(null,m)}).catch(function(m){return u(m)})},r.request=function(s,a,u){var h={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+s,"X-Amz-User-Agent":pY(),"Cache-Control":"no-store"},f=Object.assign({},this.fetchOptions,{headers:h,method:"POST",mode:"cors",body:JSON.stringify(a)}),m;fetch(this.endpoint,f).then(function(k){return m=k,k},function(k){throw k instanceof TypeError?new Error("Network error"):k}).then(function(k){return k.json().catch(function(){return{}})}).then(function(k){if(m.ok)return u(null,k);var v=(k.__type||k.code).split("#").pop(),_=new Error(k.message||k.Message||null);return _.name=v,_.code=v,u(_)}).catch(function(k){if(m&&m.headers&&m.headers.get("x-amzn-errortype"))try{var v=m.headers.get("x-amzn-errortype").split(":")[0],_=new Error(m.status?m.status.toString():null);return _.code=v,_.name=v,_.statusCode=m.status,u(_)}catch{return u(k)}else k instanceof Error&&k.message==="Network error"&&(k.code="NetworkError");return u(k)})},n}(),uf={debug:function(){}},wY=function(r){var o="nonRetryable";return r&&r[o]};function nN(n,r,o,s){if(s===void 0&&(s=1),typeof n!="function")throw Error("functionToRetry must be a function");return uf.debug(n.name+" attempt #"+s+" with args: "+JSON.stringify(r)),n.apply(void 0,r).catch(function(a){if(uf.debug("error on "+n.name,a),wY(a))throw uf.debug(n.name+" non retryable error",a),a;var u=o(s,r,a);if(uf.debug(n.name+" retrying in "+u+" ms"),u!==!1)return new Promise(function(h){return setTimeout(h,u)}).then(function(){return nN(n,r,o,s+1)});throw a})}function vY(n){var r=100,o=100;return function(s){var a=Math.pow(2,s)*r+o*Math.random();return a>n?!1:a}}var yY=5*60*1e3;function _Y(n,r,o){return o===void 0&&(o=yY),nN(n,r,vY(o))}/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var CY=55,AY=function(){function n(o,s){var a=o||{},u=a.UserPoolId,h=a.ClientId,f=a.endpoint,m=a.fetchOptions,k=a.AdvancedSecurityDataCollectionFlag;if(!u||!h)throw new Error("Both UserPoolId and ClientId are required.");if(u.length>CY||!/^[\w-]+_[0-9a-zA-Z]+$/.test(u))throw new Error("Invalid UserPoolId format.");var v=u.split("_")[0];this.userPoolId=u,this.clientId=h,this.client=new bY(v,f,m),this.advancedSecurityDataCollectionFlag=k!==!1,this.storage=o.Storage||new tN().getStorage(),s&&(this.wrapRefreshSessionCallback=s)}var r=n.prototype;return r.getUserPoolId=function(){return this.userPoolId},r.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},r.getClientId=function(){return this.clientId},r.signUp=function(s,a,u,h,f,m){var k=this,v={ClientId:this.clientId,Username:s,Password:a,UserAttributes:u,ValidationData:h,ClientMetadata:m};this.getUserContextData(s)&&(v.UserContextData=this.getUserContextData(s)),this.client.request("SignUp",v,function(_,C){if(_)return f(_,null);var x={Username:s,Pool:k,Storage:k.storage},S={user:new e0(x),userConfirmed:C.UserConfirmed,userSub:C.UserSub,codeDeliveryDetails:C.CodeDeliveryDetails};return f(null,S)})},r.getCurrentUser=function(){var s="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",a=this.storage.getItem(s);if(a){var u={Username:a,Pool:this,Storage:this.storage};return new e0(u)}return null},r.getUserContextData=function(s){if(!(typeof AmazonCognitoAdvancedSecurityData>"u")){var a=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var u=a.getData(s,this.userPoolId,this.clientId);if(u){var h={EncodedData:u};return h}}return{}}},n}(),rN={exports:{}};/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(n,r){(function(o){var s;if(n.exports=o(),s=!0,!s){var a=window.Cookies,u=window.Cookies=o();u.noConflict=function(){return window.Cookies=a,u}}})(function(){function o(){for(var u=0,h={};u<arguments.length;u++){var f=arguments[u];for(var m in f)h[m]=f[m]}return h}function s(u){return u.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function a(u){function h(){}function f(k,v,_){if(!(typeof document>"u")){_=o({path:"/"},h.defaults,_),typeof _.expires=="number"&&(_.expires=new Date(new Date*1+_.expires*864e5)),_.expires=_.expires?_.expires.toUTCString():"";try{var C=JSON.stringify(v);/^[\{\[]/.test(C)&&(v=C)}catch{}v=u.write?u.write(v,k):encodeURIComponent(String(v)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),k=encodeURIComponent(String(k)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var x="";for(var S in _)_[S]&&(x+="; "+S,_[S]!==!0&&(x+="="+_[S].split(";")[0]));return document.cookie=k+"="+v+x}}function m(k,v){if(!(typeof document>"u")){for(var _={},C=document.cookie?document.cookie.split("; "):[],x=0;x<C.length;x++){var S=C[x].split("="),T=S.slice(1).join("=");!v&&T.charAt(0)==='"'&&(T=T.slice(1,-1));try{var B=s(S[0]);if(T=(u.read||u)(T,B)||s(T),v)try{T=JSON.parse(T)}catch{}if(_[B]=T,k===B)break}catch{}}return k?_[k]:_}}return h.set=f,h.get=function(k){return m(k,!1)},h.getJSON=function(k){return m(k,!0)},h.remove=function(k,v){f(k,"",o(v,{expires:-1}))},h.defaults={},h.withConverter=a,h}return a(function(){})})})(rN);var $u=rN.exports,xY=function(){function n(o){if(o===void 0&&(o={}),o.domain&&(this.domain=o.domain),o.path?this.path=o.path:this.path="/",Object.prototype.hasOwnProperty.call(o,"expires")?this.expires=o.expires:this.expires=365,Object.prototype.hasOwnProperty.call(o,"secure")?this.secure=o.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(o,"sameSite")){if(!["strict","lax","none"].includes(o.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(o.sameSite==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=o.sameSite}else this.sameSite=null}var r=n.prototype;return r.setItem=function(s,a){var u={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(u.sameSite=this.sameSite),$u.set(s,a,u),$u.get(s)},r.getItem=function(s){return $u.get(s)},r.removeItem=function(s){var a={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(a.sameSite=this.sameSite),$u.remove(s,a)},r.clear=function(){for(var s=$u.get(),a=Object.keys(s).length,u=0;u<a;++u)this.removeItem(Object.keys(s)[u]);return{}},n}(),vg={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */vg.exports;(function(n,r){(function(o){var s=r&&!r.nodeType&&r,a=n&&!n.nodeType&&n,u=typeof{}=="object"&&{};(u.global===u||u.window===u||u.self===u)&&(o=u);var h,f=2147483647,m=36,k=1,v=26,_=38,C=700,x=72,S=128,T="-",B=/^xn--/,N=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},V=m-k,K=Math.floor,Z=String.fromCharCode,Q;function z(le){throw RangeError(L[le])}function te(le,fe){for(var we=le.length,Fe=[];we--;)Fe[we]=fe(le[we]);return Fe}function ae(le,fe){var we=le.split("@"),Fe="";we.length>1&&(Fe=we[0]+"@",le=we[1]),le=le.replace(I,".");var Le=le.split("."),Ze=te(Le,fe).join(".");return Fe+Ze}function Ce(le){for(var fe=[],we=0,Fe=le.length,Le,Ze;we<Fe;)Le=le.charCodeAt(we++),Le>=55296&&Le<=56319&&we<Fe?(Ze=le.charCodeAt(we++),(Ze&64512)==56320?fe.push(((Le&1023)<<10)+(Ze&1023)+65536):(fe.push(Le),we--)):fe.push(Le);return fe}function Me(le){return te(le,function(fe){var we="";return fe>65535&&(fe-=65536,we+=Z(fe>>>10&1023|55296),fe=56320|fe&1023),we+=Z(fe),we}).join("")}function Ae(le){return le-48<10?le-22:le-65<26?le-65:le-97<26?le-97:m}function et(le,fe){return le+22+75*(le<26)-((fe!=0)<<5)}function Pe(le,fe,we){var Fe=0;for(le=we?K(le/C):le>>1,le+=K(le/fe);le>V*v>>1;Fe+=m)le=K(le/V);return K(Fe+(V+1)*le/(le+_))}function Re(le){var fe=[],we=le.length,Fe,Le=0,Ze=S,Ye=x,Ne,Ue,je,pt,it,Et,qt,Ve,ln;for(Ne=le.lastIndexOf(T),Ne<0&&(Ne=0),Ue=0;Ue<Ne;++Ue)le.charCodeAt(Ue)>=128&&z("not-basic"),fe.push(le.charCodeAt(Ue));for(je=Ne>0?Ne+1:0;je<we;){for(pt=Le,it=1,Et=m;je>=we&&z("invalid-input"),qt=Ae(le.charCodeAt(je++)),(qt>=m||qt>K((f-Le)/it))&&z("overflow"),Le+=qt*it,Ve=Et<=Ye?k:Et>=Ye+v?v:Et-Ye,!(qt<Ve);Et+=m)ln=m-Ve,it>K(f/ln)&&z("overflow"),it*=ln;Fe=fe.length+1,Ye=Pe(Le-pt,Fe,pt==0),K(Le/Fe)>f-Ze&&z("overflow"),Ze+=K(Le/Fe),Le%=Fe,fe.splice(Le++,0,Ze)}return Me(fe)}function He(le){var fe,we,Fe,Le,Ze,Ye,Ne,Ue,je,pt,it,Et=[],qt,Ve,ln,er;for(le=Ce(le),qt=le.length,fe=S,we=0,Ze=x,Ye=0;Ye<qt;++Ye)it=le[Ye],it<128&&Et.push(Z(it));for(Fe=Le=Et.length,Le&&Et.push(T);Fe<qt;){for(Ne=f,Ye=0;Ye<qt;++Ye)it=le[Ye],it>=fe&&it<Ne&&(Ne=it);for(Ve=Fe+1,Ne-fe>K((f-we)/Ve)&&z("overflow"),we+=(Ne-fe)*Ve,fe=Ne,Ye=0;Ye<qt;++Ye)if(it=le[Ye],it<fe&&++we>f&&z("overflow"),it==fe){for(Ue=we,je=m;pt=je<=Ze?k:je>=Ze+v?v:je-Ze,!(Ue<pt);je+=m)er=Ue-pt,ln=m-pt,Et.push(Z(et(pt+er%ln,0))),Ue=K(er/ln);Et.push(Z(et(Ue,0))),Ze=Pe(we,Ve,Fe==Le),we=0,++Fe}++we,++fe}return Et.join("")}function ke(le){return ae(le,function(fe){return B.test(fe)?Re(fe.slice(4).toLowerCase()):fe})}function ge(le){return ae(le,function(fe){return N.test(fe)?"xn--"+He(fe):fe})}if(h={version:"1.3.2",ucs2:{decode:Ce,encode:Me},decode:Re,encode:He,toASCII:ge,toUnicode:ke},s&&a)if(n.exports==s)a.exports=h;else for(Q in h)h.hasOwnProperty(Q)&&(s[Q]=h[Q]);else o.punycode=h})(mU)})(vg,vg.exports);var EY=vg.exports,SY={isString:function(n){return typeof n=="string"},isObject:function(n){return typeof n=="object"&&n!==null},isNull:function(n){return n===null},isNullOrUndefined:function(n){return n==null}},Vd={};function DY(n,r){return Object.prototype.hasOwnProperty.call(n,r)}var TY=function(n,r,o,s){r=r||"&",o=o||"=";var a={};if(typeof n!="string"||n.length===0)return a;var u=/\+/g;n=n.split(r);var h=1e3;s&&typeof s.maxKeys=="number"&&(h=s.maxKeys);var f=n.length;h>0&&f>h&&(f=h);for(var m=0;m<f;++m){var k=n[m].replace(u,"%20"),v=k.indexOf(o),_,C,x,S;v>=0?(_=k.substr(0,v),C=k.substr(v+1)):(_=k,C=""),x=decodeURIComponent(_),S=decodeURIComponent(C),DY(a,x)?Array.isArray(a[x])?a[x].push(S):a[x]=[a[x],S]:a[x]=S}return a},Yu=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}},IY=function(n,r,o,s){return r=r||"&",o=o||"=",n===null&&(n=void 0),typeof n=="object"?Object.keys(n).map(function(a){var u=encodeURIComponent(Yu(a))+o;return Array.isArray(n[a])?n[a].map(function(h){return u+encodeURIComponent(Yu(h))}).join(r):u+encodeURIComponent(Yu(n[a]))}).join(r):s?encodeURIComponent(Yu(s))+o+encodeURIComponent(Yu(n)):""};Vd.decode=Vd.parse=TY;Vd.encode=Vd.stringify=IY;var MY=EY,Di=SY,bs=oN;function Oi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var PY=/^([a-z0-9.+-]+:)/i,NY=/:[0-9]*$/,OY=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,BY=["<",">",'"',"`"," ","\r",`
`,"	"],RY=["{","}","|","\\","^","`"].concat(BY),r0=["'"].concat(RY),cI=["%","/","?",";","#"].concat(r0),lI=["/","?","#"],LY=255,uI=/^[+a-z0-9A-Z_-]{0,63}$/,jY=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,zY={javascript:!0,"javascript:":!0},o0={javascript:!0,"javascript:":!0},gl={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},i0=Vd;function oN(n,r,o){if(n&&Di.isObject(n)&&n instanceof Oi)return n;var s=new Oi;return s.parse(n,r,o),s}Oi.prototype.parse=function(n,r,o){if(!Di.isString(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var s=n.indexOf("?"),a=s!==-1&&s<n.indexOf("#")?"?":"#",u=n.split(a),h=/\\/g;u[0]=u[0].replace(h,"/"),n=u.join(a);var f=n;if(f=f.trim(),!o&&n.split("#").length===1){var m=OY.exec(f);if(m)return this.path=f,this.href=f,this.pathname=m[1],m[2]?(this.search=m[2],r?this.query=i0.parse(this.search.substr(1)):this.query=this.search.substr(1)):r&&(this.search="",this.query={}),this}var k=PY.exec(f);if(k){k=k[0];var v=k.toLowerCase();this.protocol=v,f=f.substr(k.length)}if(o||k||f.match(/^\/\/[^@\/]+@[^@\/]+/)){var _=f.substr(0,2)==="//";_&&!(k&&o0[k])&&(f=f.substr(2),this.slashes=!0)}if(!o0[k]&&(_||k&&!gl[k])){for(var C=-1,x=0;x<lI.length;x++){var S=f.indexOf(lI[x]);S!==-1&&(C===-1||S<C)&&(C=S)}var T,B;C===-1?B=f.lastIndexOf("@"):B=f.lastIndexOf("@",C),B!==-1&&(T=f.slice(0,B),f=f.slice(B+1),this.auth=decodeURIComponent(T)),C=-1;for(var x=0;x<cI.length;x++){var S=f.indexOf(cI[x]);S!==-1&&(C===-1||S<C)&&(C=S)}C===-1&&(C=f.length),this.host=f.slice(0,C),f=f.slice(C),this.parseHost(),this.hostname=this.hostname||"";var N=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!N)for(var I=this.hostname.split(/\./),x=0,L=I.length;x<L;x++){var V=I[x];if(V&&!V.match(uI)){for(var K="",Z=0,Q=V.length;Z<Q;Z++)V.charCodeAt(Z)>127?K+="x":K+=V[Z];if(!K.match(uI)){var z=I.slice(0,x),te=I.slice(x+1),ae=V.match(jY);ae&&(z.push(ae[1]),te.unshift(ae[2])),te.length&&(f="/"+te.join(".")+f),this.hostname=z.join(".");break}}}this.hostname.length>LY?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=MY.toASCII(this.hostname));var Ce=this.port?":"+this.port:"",Me=this.hostname||"";this.host=Me+Ce,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),f[0]!=="/"&&(f="/"+f))}if(!zY[v])for(var x=0,L=r0.length;x<L;x++){var Ae=r0[x];if(f.indexOf(Ae)!==-1){var et=encodeURIComponent(Ae);et===Ae&&(et=escape(Ae)),f=f.split(Ae).join(et)}}var Pe=f.indexOf("#");Pe!==-1&&(this.hash=f.substr(Pe),f=f.slice(0,Pe));var Re=f.indexOf("?");if(Re!==-1?(this.search=f.substr(Re),this.query=f.substr(Re+1),r&&(this.query=i0.parse(this.query)),f=f.slice(0,Re)):r&&(this.search="",this.query={}),f&&(this.pathname=f),gl[v]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ce=this.pathname||"",He=this.search||"";this.path=Ce+He}return this.href=this.format(),this};Oi.prototype.format=function(){var n=this.auth||"";n&&(n=encodeURIComponent(n),n=n.replace(/%3A/i,":"),n+="@");var r=this.protocol||"",o=this.pathname||"",s=this.hash||"",a=!1,u="";this.host?a=n+this.host:this.hostname&&(a=n+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&Di.isObject(this.query)&&Object.keys(this.query).length&&(u=i0.stringify(this.query));var h=this.search||u&&"?"+u||"";return r&&r.substr(-1)!==":"&&(r+=":"),this.slashes||(!r||gl[r])&&a!==!1?(a="//"+(a||""),o&&o.charAt(0)!=="/"&&(o="/"+o)):a||(a=""),s&&s.charAt(0)!=="#"&&(s="#"+s),h&&h.charAt(0)!=="?"&&(h="?"+h),o=o.replace(/[?#]/g,function(f){return encodeURIComponent(f)}),h=h.replace("#","%23"),r+a+o+h+s};Oi.prototype.resolve=function(n){return this.resolveObject(oN(n,!1,!0)).format()};Oi.prototype.resolveObject=function(n){if(Di.isString(n)){var r=new Oi;r.parse(n,!1,!0),n=r}for(var o=new Oi,s=Object.keys(this),a=0;a<s.length;a++){var u=s[a];o[u]=this[u]}if(o.hash=n.hash,n.href==="")return o.href=o.format(),o;if(n.slashes&&!n.protocol){for(var h=Object.keys(n),f=0;f<h.length;f++){var m=h[f];m!=="protocol"&&(o[m]=n[m])}return gl[o.protocol]&&o.hostname&&!o.pathname&&(o.path=o.pathname="/"),o.href=o.format(),o}if(n.protocol&&n.protocol!==o.protocol){if(!gl[n.protocol]){for(var k=Object.keys(n),v=0;v<k.length;v++){var _=k[v];o[_]=n[_]}return o.href=o.format(),o}if(o.protocol=n.protocol,!n.host&&!o0[n.protocol]){for(var L=(n.pathname||"").split("/");L.length&&!(n.host=L.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),L[0]!==""&&L.unshift(""),L.length<2&&L.unshift(""),o.pathname=L.join("/")}else o.pathname=n.pathname;if(o.search=n.search,o.query=n.query,o.host=n.host||"",o.auth=n.auth,o.hostname=n.hostname||n.host,o.port=n.port,o.pathname||o.search){var C=o.pathname||"",x=o.search||"";o.path=C+x}return o.slashes=o.slashes||n.slashes,o.href=o.format(),o}var S=o.pathname&&o.pathname.charAt(0)==="/",T=n.host||n.pathname&&n.pathname.charAt(0)==="/",B=T||S||o.host&&n.pathname,N=B,I=o.pathname&&o.pathname.split("/")||[],L=n.pathname&&n.pathname.split("/")||[],V=o.protocol&&!gl[o.protocol];if(V&&(o.hostname="",o.port=null,o.host&&(I[0]===""?I[0]=o.host:I.unshift(o.host)),o.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(L[0]===""?L[0]=n.host:L.unshift(n.host)),n.host=null),B=B&&(L[0]===""||I[0]==="")),T)o.host=n.host||n.host===""?n.host:o.host,o.hostname=n.hostname||n.hostname===""?n.hostname:o.hostname,o.search=n.search,o.query=n.query,I=L;else if(L.length)I||(I=[]),I.pop(),I=I.concat(L),o.search=n.search,o.query=n.query;else if(!Di.isNullOrUndefined(n.search)){if(V){o.hostname=o.host=I.shift();var K=o.host&&o.host.indexOf("@")>0?o.host.split("@"):!1;K&&(o.auth=K.shift(),o.host=o.hostname=K.shift())}return o.search=n.search,o.query=n.query,(!Di.isNull(o.pathname)||!Di.isNull(o.search))&&(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.href=o.format(),o}if(!I.length)return o.pathname=null,o.search?o.path="/"+o.search:o.path=null,o.href=o.format(),o;for(var Z=I.slice(-1)[0],Q=(o.host||n.host||I.length>1)&&(Z==="."||Z==="..")||Z==="",z=0,te=I.length;te>=0;te--)Z=I[te],Z==="."?I.splice(te,1):Z===".."?(I.splice(te,1),z++):z&&(I.splice(te,1),z--);if(!B&&!N)for(;z--;z)I.unshift("..");B&&I[0]!==""&&(!I[0]||I[0].charAt(0)!=="/")&&I.unshift(""),Q&&I.join("/").substr(-1)!=="/"&&I.push("");var ae=I[0]===""||I[0]&&I[0].charAt(0)==="/";if(V){o.hostname=o.host=ae?"":I.length?I.shift():"";var K=o.host&&o.host.indexOf("@")>0?o.host.split("@"):!1;K&&(o.auth=K.shift(),o.host=o.hostname=K.shift())}return B=B||o.host&&I.length,B&&!ae&&I.unshift(""),I.length?o.pathname=I.join("/"):(o.pathname=null,o.path=null),(!Di.isNull(o.pathname)||!Di.isNull(o.search))&&(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.auth=n.auth||o.auth,o.slashes=o.slashes||n.slashes,o.href=o.format(),o};Oi.prototype.parseHost=function(){var n=this.host,r=NY.exec(n);r&&(r=r[0],r!==":"&&(this.port=r.substr(1)),n=n.substr(0,n.length-r.length)),n&&(this.hostname=n)};var FY="_self",UY=function(n){var r=window.open(n,FY);return r?Promise.resolve(r):Promise.reject()},VY=function(n){window.sessionStorage.setItem("oauth_state",n)},HY=function(){var n=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),n},WY=function(n){window.sessionStorage.setItem("ouath_pkce_key",n)},$Y=function(){var n=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),n},YY=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",Pw=function(n,r,o){Si.dispatch("auth",{event:n,data:r,message:o},"Auth",YY)},Hc=new Mo("OAuth"),qY=function(){function n(r){var o=r.config,s=r.cognitoClientId,a=r.scopes,u=a===void 0?[]:a;if(this._urlOpener=o.urlOpener||UY,this._config=o,this._cognitoClientId=s,!this.isValidScopes(u))throw Error("scopes must be a String Array");this._scopes=u}return n.prototype.isValidScopes=function(r){return Array.isArray(r)&&r.every(function(o){return typeof o=="string"})},n.prototype.oauthSignIn=function(r,o,s,a,u,h){r===void 0&&(r="code"),u===void 0&&(u=wg.Cognito);var f=this._generateState(32),m=h?f+"-"+GV(h):f;VY(m);var k=this._generateRandom(128);WY(k);var v=this._generateChallenge(k),_="S256",C=this._scopes.join(" "),x=Object.entries(Tn(Tn({redirect_uri:s,response_type:r,client_id:a,identity_provider:u,scope:C,state:m},r==="code"?{code_challenge:v}:{}),r==="code"?{code_challenge_method:_}:{})).map(function(T){var B=Co(T,2),N=B[0],I=B[1];return encodeURIComponent(N)+"="+encodeURIComponent(I)}).join("&"),S="https://"+o+"/oauth2/authorize?"+x;Hc.debug("Redirecting to "+S),this._urlOpener(S,s)},n.prototype._handleCodeFlow=function(r){return mt(this,void 0,void 0,function(){var o,s,a,u,h,f,m,k,v,_,C,x,S,T,B,N;return kt(this,function(I){switch(I.label){case 0:return o=(bs(r).query||"").split("&").map(function(L){return L.split("=")}).reduce(function(L,V){var K,Z=Co(V,2),Q=Z[0],z=Z[1];return Tn(Tn({},L),(K={},K[Q]=z,K))},{code:void 0}).code,s=bs(r).pathname||"/",a=bs(this._config.redirectSignIn).pathname||"/",!o||s!==a?[2]:(u="https://"+this._config.domain+"/oauth2/token",Pw("codeFlow",{},"Retrieving tokens from "+u),h=Ia(this._config)?this._cognitoClientId:this._config.clientID,f=Ia(this._config)?this._config.redirectSignIn:this._config.redirectUri,m=$Y(),k=Tn({grant_type:"authorization_code",code:o,client_id:h,redirect_uri:f},m?{code_verifier:m}:{}),Hc.debug("Calling token endpoint: "+u+" with",k),v=Object.entries(k).map(function(L){var V=Co(L,2),K=V[0],Z=V[1];return encodeURIComponent(K)+"="+encodeURIComponent(Z)}).join("&"),_={category:Vv.Auth,action:Hv.FederatedSignIn},[4,fetch(u,{method:"POST",headers:(N={"Content-Type":"application/x-www-form-urlencoded"},N[XW]=Ty(_),N),body:v})]);case 1:return[4,I.sent().json()];case 2:if(C=I.sent(),x=C.access_token,S=C.refresh_token,T=C.id_token,B=C.error,B)throw new Error(B);return[2,{accessToken:x,refreshToken:S,idToken:T}]}})})},n.prototype._handleImplicitFlow=function(r){return mt(this,void 0,void 0,function(){var o,s,a;return kt(this,function(u){return o=(bs(r).hash||"#").substr(1).split("&").map(function(h){return h.split("=")}).reduce(function(h,f){var m,k=Co(f,2),v=k[0],_=k[1];return Tn(Tn({},h),(m={},m[v]=_,m))},{id_token:void 0,access_token:void 0}),s=o.id_token,a=o.access_token,Pw("implicitFlow",{},"Got tokens from "+r),Hc.debug("Retrieving implicit tokens from "+r+" with"),[2,{accessToken:a,idToken:s,refreshToken:null}]})})},n.prototype.handleAuthResponse=function(r){return mt(this,void 0,void 0,function(){var o,s,a,u,h,f,m;return kt(this,function(k){switch(k.label){case 0:if(k.trys.push([0,5,,6]),o=r?Tn(Tn({},(bs(r).hash||"#").substr(1).split("&").map(function(v){return v.split("=")}).reduce(function(v,_){var C=Co(_,2),x=C[0],S=C[1];return v[x]=S,v},{})),(bs(r).query||"").split("&").map(function(v){return v.split("=")}).reduce(function(v,_){var C=Co(_,2),x=C[0],S=C[1];return v[x]=S,v},{})):{},s=o.error,a=o.error_description,s)throw new Error(a);return u=this._validateState(o),Hc.debug("Starting "+this._config.responseType+" flow with "+r),this._config.responseType!=="code"?[3,2]:(h=[{}],[4,this._handleCodeFlow(r)]);case 1:return[2,Tn.apply(void 0,[Tn.apply(void 0,h.concat([k.sent()])),{state:u}])];case 2:return f=[{}],[4,this._handleImplicitFlow(r)];case 3:return[2,Tn.apply(void 0,[Tn.apply(void 0,f.concat([k.sent()])),{state:u}])];case 4:return[3,6];case 5:throw m=k.sent(),Hc.debug("Error handling auth response.",m),m;case 6:return[2]}})})},n.prototype._validateState=function(r){if(r){var o=HY(),s=r.state;if(o&&o!==s)throw new Error("Invalid state in OAuth flow");return s}},n.prototype.signOut=function(){return mt(this,void 0,void 0,function(){var r,o,s;return kt(this,function(a){return r="https://"+this._config.domain+"/logout?",o=Ia(this._config)?this._cognitoClientId:this._config.oauth.clientID,s=Ia(this._config)?this._config.redirectSignOut:this._config.returnTo,r+=Object.entries({client_id:o,logout_uri:encodeURIComponent(s)}).map(function(u){var h=Co(u,2),f=h[0],m=h[1];return f+"="+m}).join("&"),Pw("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+r),Hc.debug("Signing out from "+r),[2,this._urlOpener(r,s)]})})},n.prototype._generateState=function(r){for(var o="",s=r,a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";s>0;--s)o+=a[Math.round(Math.random()*(a.length-1))];return o},n.prototype._generateChallenge=function(r){var o=new Na.Sha256;o.update(r);var s=o.digestSync(),a=Ft.Buffer.from(s).toString("base64"),u=this._base64URL(a);return u},n.prototype._base64URL=function(r){return r.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},n.prototype._generateRandom=function(r){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=new Uint8Array(r);if(typeof window<"u"&&window.crypto)window.crypto.getRandomValues(s);else for(var a=0;a<r;a+=1)s[a]=Math.random()*o.length|0;return this._bufferToString(s)},n.prototype._bufferToString=function(r){for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=[],a=0;a<r.byteLength;a+=1){var u=r[a]%o.length;s.push(o[u])}return s.join("")},n}();const KY=qY,GY=function(n){if(zi().isBrowser&&window.location){var r=window.location.href;n({url:r})}else if(!zi().isNode)throw new Error("Not supported")};var Vn;(function(n){n.DEFAULT_MSG="Authentication Error",n.EMPTY_EMAIL="Email cannot be empty",n.EMPTY_PHONE="Phone number cannot be empty",n.EMPTY_USERNAME="Username cannot be empty",n.INVALID_USERNAME="The username should either be a string or one of the sign in types",n.EMPTY_PASSWORD="Password cannot be empty",n.EMPTY_CODE="Confirmation code cannot be empty",n.SIGN_UP_ERROR="Error creating account",n.NO_MFA="No valid MFA method provided",n.INVALID_MFA="Invalid MFA type",n.EMPTY_CHALLENGE="Challenge response cannot be empty",n.NO_USER_SESSION="Failed to get the session because the user is empty",n.NETWORK_ERROR="Network Error",n.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",n.AUTOSIGNIN_ERROR="Please use your credentials to sign in"})(Vn||(Vn={}));var QY=new Mo("AuthError"),fs=function(n){Iy(r,n);function r(o){var s=this,a=JY[o],u=a.message,h=a.log;return s=n.call(this,u)||this,s.constructor=r,Object.setPrototypeOf(s,r.prototype),s.name="AuthError",s.log=h||u,QY.error(s.log),s}return r}(Error),ZY=function(n){Iy(r,n);function r(o){var s=n.call(this,o)||this;return s.constructor=r,Object.setPrototypeOf(s,r.prototype),s.name="NoUserPoolError",s}return r}(fs),JY={noConfig:{message:Vn.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly.
            This error is typically caused by one of the following scenarios:

            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point
                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information
            
            2. There might be multiple conflicting versions of amplify packages in your node_modules.
				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)
        `},missingAuthConfig:{message:Vn.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly. 
            The configuration object is missing required auth properties.
            This error is typically caused by one of the following scenarios:

            1. Did you run \`amplify push\` after adding auth via \`amplify add auth\`?
                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information

            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.
        `},emptyUsername:{message:Vn.EMPTY_USERNAME},invalidUsername:{message:Vn.INVALID_USERNAME},emptyPassword:{message:Vn.EMPTY_PASSWORD},emptyCode:{message:Vn.EMPTY_CODE},signUpError:{message:Vn.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:Vn.NO_MFA},invalidMFA:{message:Vn.INVALID_MFA},emptyChallengeResponse:{message:Vn.EMPTY_CHALLENGE},noUserSession:{message:Vn.NO_USER_SESSION},deviceConfig:{message:Vn.DEVICE_CONFIG},networkError:{message:Vn.NETWORK_ERROR},autoSignInError:{message:Vn.AUTOSIGNIN_ERROR},default:{message:Vn.DEFAULT_MSG}},de=new Mo("AuthClass"),dI="aws.cognito.signin.user.admin",XY=10*1e3,eq=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",ct=function(n,r,o){Si.dispatch("auth",{event:n,data:r,message:o},"Auth",eq)},tq=60,nq=3*60*1e3,rq=function(){function n(r){var o=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.inflightSessionPromise=null,this.inflightSessionPromiseCounter=0,this.Credentials=QP,this.wrapRefreshSessionCallback=function(s){var a=function(u,h){return h?ct("tokenRefresh",void 0,"New token retrieved"):ct("tokenRefresh_failure",u,"Failed to retrieve new token"),s(u,h)};return a},this.configure(r),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),Si.listen("auth",function(s){var a=s.payload,u=a.event;switch(u){case"verify":case"signIn":o._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":o._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":o._storage.setItem("amplify-signin-with-hostedUI","true");break}}),hY(),aI(Aw.framework),Aw.observeFrameworkChanges(function(){aI(Aw.framework)})}return n.prototype.getModuleName=function(){return"Auth"},n.prototype.configure=function(r){var o=this;if(!r)return this._config||{};de.debug("configure Auth");var s=Object.assign({},this._config,FP(r).Auth,r);this._config=s;var a=this._config,u=a.userPoolId,h=a.userPoolWebClientId,f=a.cookieStorage,m=a.oauth,k=a.region,v=a.identityPoolId,_=a.mandatorySignIn,C=a.refreshHandlers,x=a.identityPoolRegion,S=a.clientMetadata,T=a.endpoint,B=a.storage;if(!B)f?this._storage=new xY(f):this._storage=r.ssr?new JW:new UP().getStorage();else{if(!this._isValidAuthStorage(B))throw de.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=B}if(this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),u){var N={UserPoolId:u,ClientId:h,endpoint:T};N.Storage=this._storage,this.userPool=new AY(N,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:_,region:k,userPoolId:u,identityPoolId:v,refreshHandlers:C,storage:this._storage,identityPoolRegion:x});var I=m?Ia(this._config.oauth)?m:m.awsCognito:void 0;if(I){var L=Object.assign({cognitoClientId:h,UserPoolId:u,domain:I.domain,scopes:I.scope,redirectSignIn:I.redirectSignIn,redirectSignOut:I.redirectSignOut,responseType:I.responseType,Storage:this._storage,urlOpener:I.urlOpener,clientMetadata:S},I.options);this._oAuthHandler=new KY({scopes:L.scopes,config:L,cognitoClientId:L.cognitoClientId});var V={};GY(function(Z){var Q=Z.url;V[Q]||(V[Q]=!0,o._handleAuthResponse(Q))})}if(ct("configured",null,"The Auth category has been configured successfully"),!this.autoSignInInitiated&&typeof this._storage.getItem=="function"){var K=this.isTrueStorageValue("amplify-polling-started");K&&(ct("autoSignIn_failure",null,At.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started")}return this._config},n.prototype.signUp=function(r){for(var o=this,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];var u,h,f;if(!this.userPool)return this.rejectNoUserPool();var m=null,k=null,v=[],_=null,C,x={enabled:!1},S={},T={};if(r&&typeof r=="string"){m=r,k=s?s[0]:null;var B=s?s[1]:null,N=s?s[2]:null;B&&v.push(new Yc({Name:"email",Value:B})),N&&v.push(new Yc({Name:"phone_number",Value:N}))}else if(r&&typeof r=="object"){m=r.username,k=r.password,r&&r.clientMetadata?C=r.clientMetadata:this._config.clientMetadata&&(C=this._config.clientMetadata);var I=r.attributes;I&&Object.keys(I).map(function(V){v.push(new Yc({Name:V,Value:I[V]}))});var L=r.validationData;L&&(_=[],Object.keys(L).map(function(V){_.push(new Yc({Name:V,Value:L[V]}))})),x=(u=r.autoSignIn)!==null&&u!==void 0?u:{enabled:!1},x.enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),S=(h=x.validationData)!==null&&h!==void 0?h:{},T=(f=x.clientMetaData)!==null&&f!==void 0?f:{})}else return this.rejectAuthError(At.SignUpError);return m?k?(de.debug("signUp attrs:",v),de.debug("signUp validation data:",_),new Promise(function(V,K){o.userPool.signUp(m,k,v,_,function(Z,Q){Z?(ct("signUp_failure",Z,m+" failed to signup"),K(Z)):(ct("signUp",Q,m+" has signed up successfully"),x.enabled&&o.handleAutoSignIn(m,k,S,T,Q),V(Q))},C)})):this.rejectAuthError(At.EmptyPassword):this.rejectAuthError(At.EmptyUsername)},n.prototype.handleAutoSignIn=function(r,o,s,a,u){this.autoSignInInitiated=!0;var h=new tI({Username:r,Password:o,ValidationData:s,ClientMetadata:a});u.userConfirmed?this.signInAfterUserConfirmed(h):this._config.signUpVerificationMethod==="link"?this.handleLinkAutoSignIn(h):this.handleCodeAutoSignIn(h)},n.prototype.handleCodeAutoSignIn=function(r){var o=this,s=function(a){var u=a.payload;u.event==="confirmSignUp"&&o.signInAfterUserConfirmed(r,s)};Si.listen("auth",s)},n.prototype.handleLinkAutoSignIn=function(r){var o=this;this._storage.setItem("amplify-polling-started","true");var s=Date.now(),a=setInterval(function(){Date.now()-s>nq?(clearInterval(a),ct("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),o._storage.removeItem("amplify-auto-sign-in")):o.signInAfterUserConfirmed(r,null,a)},5e3)},n.prototype.signInAfterUserConfirmed=function(r,o,s){return mt(this,void 0,void 0,function(){var a,u,h=this;return kt(this,function(f){switch(f.label){case 0:a=this.createCognitoUser(r.getUsername()),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,a.authenticateUser(r,this.authCallbacks(a,function(m){ct("autoSignIn",m,r.getUsername()+" has signed in successfully"),o&&Si.remove("auth",o),s&&(clearInterval(s),h._storage.removeItem("amplify-polling-started")),h._storage.removeItem("amplify-auto-sign-in")},function(m){de.error(m),h._storage.removeItem("amplify-auto-sign-in")}))];case 2:return f.sent(),[3,4];case 3:return u=f.sent(),de.error(u),[3,4];case 4:return[2]}})})},n.prototype.confirmSignUp=function(r,o,s){var a=this;if(!this.userPool)return this.rejectNoUserPool();if(!r)return this.rejectAuthError(At.EmptyUsername);if(!o)return this.rejectAuthError(At.EmptyCode);var u=this.createCognitoUser(r),h=s&&typeof s.forceAliasCreation=="boolean"?s.forceAliasCreation:!0,f;return s&&s.clientMetadata?f=s.clientMetadata:this._config.clientMetadata&&(f=this._config.clientMetadata),new Promise(function(m,k){u.confirmRegistration(o,h,function(v,_){if(v)k(v);else{ct("confirmSignUp",_,r+" has been confirmed successfully");var C=a.isTrueStorageValue("amplify-auto-sign-in");C&&!a.autoSignInInitiated&&(ct("autoSignIn_failure",null,At.AutoSignInError),a._storage.removeItem("amplify-auto-sign-in")),m(_)}},f)})},n.prototype.isTrueStorageValue=function(r){var o=this._storage.getItem(r);return o?o==="true":!1},n.prototype.resendSignUp=function(r,o){if(o===void 0&&(o=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!r)return this.rejectAuthError(At.EmptyUsername);var s=this.createCognitoUser(r);return new Promise(function(a,u){s.resendConfirmationCode(function(h,f){h?u(h):a(f)},o)})},n.prototype.signIn=function(r,o,s){if(s===void 0&&(s=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var a=null,u=null,h={};if(typeof r=="string")a=r,u=o;else if(n$(r))typeof o<"u"&&de.warn("The password should be defined under the first parameter object!"),a=r.username,u=r.password,h=r.validationData;else return this.rejectAuthError(At.InvalidUsername);if(!a)return this.rejectAuthError(At.EmptyUsername);var f=new tI({Username:a,Password:u,ValidationData:h,ClientMetadata:s});return u?this.signInWithPassword(f):this.signInWithoutPassword(f)},n.prototype.authCallbacks=function(r,o,s){var a=this,u=this;return{onSuccess:function(h){return mt(a,void 0,void 0,function(){var f,m,k,v;return kt(this,function(_){switch(_.label){case 0:de.debug(h),delete r.challengeName,delete r.challengeParam,_.label=1;case 1:return _.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return _.sent(),[4,this.Credentials.set(h,"session")];case 3:return f=_.sent(),de.debug("succeed to get cognito credentials",f),[3,9];case 4:return m=_.sent(),de.debug("cannot get cognito credentials",m),[3,9];case 5:return _.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return k=_.sent(),u.user=k,ct("signIn",k,"A user "+r.getUsername()+" has been signed in"),o(k),[3,8];case 7:return v=_.sent(),de.error("Failed to get the signed in user",v),s(v),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(h){de.debug("signIn failure",h),ct("signIn_failure",h,r.getUsername()+" failed to signin"),s(h)},customChallenge:function(h){de.debug("signIn custom challenge answer required"),r.challengeName="CUSTOM_CHALLENGE",r.challengeParam=h,o(r)},mfaRequired:function(h,f){de.debug("signIn MFA required"),r.challengeName=h,r.challengeParam=f,o(r)},mfaSetup:function(h,f){de.debug("signIn mfa setup",h),r.challengeName=h,r.challengeParam=f,o(r)},newPasswordRequired:function(h,f){de.debug("signIn new password"),r.challengeName="NEW_PASSWORD_REQUIRED",r.challengeParam={userAttributes:h,requiredAttributes:f},o(r)},totpRequired:function(h,f){de.debug("signIn totpRequired"),r.challengeName=h,r.challengeParam=f,o(r)},selectMFAType:function(h,f){de.debug("signIn selectMFAType",h),r.challengeName=h,r.challengeParam=f,o(r)}}},n.prototype.signInWithPassword=function(r){var o=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var s=this.createCognitoUser(r.getUsername());return this.pendingSignIn=new Promise(function(a,u){s.authenticateUser(r,o.authCallbacks(s,function(h){o.pendingSignIn=null,a(h)},function(h){o.pendingSignIn=null,u(h)}))}),this.pendingSignIn},n.prototype.signInWithoutPassword=function(r){var o=this,s=this.createCognitoUser(r.getUsername());return s.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(a,u){s.initiateAuth(r,o.authCallbacks(s,a,u))})},n.prototype.getMFAOptions=function(r){return new Promise(function(o,s){r.getMFAOptions(function(a,u){if(a){de.debug("get MFA Options failed",a),s(a);return}de.debug("get MFA options success",u),o(u)})})},n.prototype.getPreferredMFA=function(r,o){var s=this,a=this;return new Promise(function(u,h){var f=s._config.clientMetadata,m=o?o.bypassCache:!1;r.getUserData(function(k,v){return mt(s,void 0,void 0,function(){var _,C;return kt(this,function(x){switch(x.label){case 0:if(!k)return[3,5];if(de.debug("getting preferred mfa failed",k),!this.isSessionInvalid(k))return[3,4];x.label=1;case 1:return x.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(r)];case 2:return x.sent(),[3,4];case 3:return _=x.sent(),h(new Error("Session is invalid due to: "+k.message+" and failed to clean up invalid session: "+_.message)),[2];case 4:return h(k),[2];case 5:return C=a._getMfaTypeFromUserData(v),C?(u(C),[2]):(h("invalid MFA Type"),[2])}})})},{bypassCache:m,clientMetadata:f})})},n.prototype._getMfaTypeFromUserData=function(r){var o=null,s=r.PreferredMfaSetting;if(s)o=s;else{var a=r.UserMFASettingList;if(a)a.length===0?o="NOMFA":de.debug("invalid case for getPreferredMFA",r);else{var u=r.MFAOptions;u?o="SMS_MFA":o="NOMFA"}}return o},n.prototype._getUserData=function(r,o){var s=this;return new Promise(function(a,u){r.getUserData(function(h,f){return mt(s,void 0,void 0,function(){var m;return kt(this,function(k){switch(k.label){case 0:if(!h)return[3,5];if(de.debug("getting user data failed",h),!this.isSessionInvalid(h))return[3,4];k.label=1;case 1:return k.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(r)];case 2:return k.sent(),[3,4];case 3:return m=k.sent(),u(new Error("Session is invalid due to: "+h.message+" and failed to clean up invalid session: "+m.message)),[2];case 4:return u(h),[2];case 5:a(f),k.label=6;case 6:return[2]}})})},o)})},n.prototype.setPreferredMFA=function(r,o){return mt(this,void 0,void 0,function(){var s,a,u,h,f,m,k,v=this;return kt(this,function(_){switch(_.label){case 0:return s=this._config.clientMetadata,[4,this._getUserData(r,{bypassCache:!0,clientMetadata:s})];case 1:switch(a=_.sent(),u=null,h=null,f=o,f){case"TOTP":return[3,2];case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":return[3,3];case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return h={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return u={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return m=a.UserMFASettingList,[4,this._getMfaTypeFromUserData(a)];case 5:if(k=_.sent(),k==="NOMFA")return[2,Promise.resolve("No change for mfa type")];if(k==="SMS_MFA")u={PreferredMfa:!1,Enabled:!1};else if(k==="SOFTWARE_TOKEN_MFA")h={PreferredMfa:!1,Enabled:!1};else return[2,this.rejectAuthError(At.InvalidMFA)];return m&&m.length!==0&&m.forEach(function(C){C==="SMS_MFA"?u={PreferredMfa:!1,Enabled:!1}:C==="SOFTWARE_TOKEN_MFA"&&(h={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return de.debug("no validmfa method provided"),[2,this.rejectAuthError(At.NoMFA)];case 7:return[2,new Promise(function(C,x){r.setUserMfaPreference(u,h,function(S,T){if(S)return de.debug("Set user mfa preference error",S),x(S);de.debug("Set user mfa success",T),de.debug("Caching the latest user data into local"),r.getUserData(function(B,N){return mt(v,void 0,void 0,function(){var I;return kt(this,function(L){switch(L.label){case 0:if(!B)return[3,5];if(de.debug("getting user data failed",B),!this.isSessionInvalid(B))return[3,4];L.label=1;case 1:return L.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(r)];case 2:return L.sent(),[3,4];case 3:return I=L.sent(),x(new Error("Session is invalid due to: "+B.message+" and failed to clean up invalid session: "+I.message)),[2];case 4:return[2,x(B)];case 5:return[2,C(T)]}})})},{bypassCache:!0,clientMetadata:s})})})]}})})},n.prototype.disableSMS=function(r){return new Promise(function(o,s){r.disableMFA(function(a,u){if(a){de.debug("disable mfa failed",a),s(a);return}de.debug("disable mfa succeed",u),o(u)})})},n.prototype.enableSMS=function(r){return new Promise(function(o,s){r.enableMFA(function(a,u){if(a){de.debug("enable mfa failed",a),s(a);return}de.debug("enable mfa succeed",u),o(u)})})},n.prototype.setupTOTP=function(r){return new Promise(function(o,s){r.associateSoftwareToken({onFailure:function(a){de.debug("associateSoftwareToken failed",a),s(a)},associateSecretCode:function(a){de.debug("associateSoftwareToken success",a),o(a)}})})},n.prototype.verifyTotpToken=function(r,o){de.debug("verification totp token",r,o);var s;r&&typeof r.getSignInUserSession=="function"&&(s=r.getSignInUserSession());var a=s?.isValid();return new Promise(function(u,h){r.verifySoftwareToken(o,"My TOTP device",{onFailure:function(f){de.debug("verifyTotpToken failed",f),h(f)},onSuccess:function(f){a||ct("signIn",r,"A user "+r.getUsername()+" has been signed in"),ct("verify",r,"A user "+r.getUsername()+" has been verified"),de.debug("verifyTotpToken success",f),u(f)}})})},n.prototype.confirmSignIn=function(r,o,s,a){var u=this;if(a===void 0&&(a=this._config.clientMetadata),!o)return this.rejectAuthError(At.EmptyCode);var h=this;return new Promise(function(f,m){r.sendMFACode(o,{onSuccess:function(k){return mt(u,void 0,void 0,function(){var v,_,C,x;return kt(this,function(S){switch(S.label){case 0:de.debug(k),S.label=1;case 1:return S.trys.push([1,4,5,10]),[4,this.Credentials.clear()];case 2:return S.sent(),[4,this.Credentials.set(k,"session")];case 3:return v=S.sent(),de.debug("succeed to get cognito credentials",v),[3,10];case 4:return _=S.sent(),de.debug("cannot get cognito credentials",_),[3,10];case 5:h.user=r,S.label=6;case 6:return S.trys.push([6,8,,9]),[4,this.currentUserPoolUser()];case 7:return C=S.sent(),r.attributes=C.attributes,[3,9];case 8:return x=S.sent(),de.debug("cannot get updated Cognito User",x),[3,9];case 9:return ct("signIn",r,"A user "+r.getUsername()+" has been signed in"),f(r),[7];case 10:return[2]}})})},onFailure:function(k){de.debug("confirm signIn failure",k),m(k)}},s,a)})},n.prototype.completeNewPassword=function(r,o,s,a){var u=this;if(s===void 0&&(s={}),a===void 0&&(a=this._config.clientMetadata),!o)return this.rejectAuthError(At.EmptyPassword);var h=this;return new Promise(function(f,m){r.completeNewPasswordChallenge(o,s,{onSuccess:function(k){return mt(u,void 0,void 0,function(){var v,_;return kt(this,function(C){switch(C.label){case 0:de.debug(k),C.label=1;case 1:return C.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return C.sent(),[4,this.Credentials.set(k,"session")];case 3:return v=C.sent(),de.debug("succeed to get cognito credentials",v),[3,6];case 4:return _=C.sent(),de.debug("cannot get cognito credentials",_),[3,6];case 5:return h.user=r,ct("signIn",r,"A user "+r.getUsername()+" has been signed in"),f(r),[7];case 6:return[2]}})})},onFailure:function(k){de.debug("completeNewPassword failure",k),ct("completeNewPassword_failure",k,u.user+" failed to complete the new password flow"),m(k)},mfaRequired:function(k,v){de.debug("signIn MFA required"),r.challengeName=k,r.challengeParam=v,f(r)},mfaSetup:function(k,v){de.debug("signIn mfa setup",k),r.challengeName=k,r.challengeParam=v,f(r)},totpRequired:function(k,v){de.debug("signIn mfa setup",k),r.challengeName=k,r.challengeParam=v,f(r)}},a)})},n.prototype.sendCustomChallengeAnswer=function(r,o,s){var a=this;return s===void 0&&(s=this._config.clientMetadata),this.userPool?o?new Promise(function(u,h){r.sendCustomChallengeAnswer(o,a.authCallbacks(r,u,h),s)}):this.rejectAuthError(At.EmptyChallengeResponse):this.rejectNoUserPool()},n.prototype.deleteUserAttributes=function(r,o){var s=this;return new Promise(function(a,u){s.userSession(r).then(function(h){r.deleteAttributes(o,function(f,m){return f?u(f):a(m)})})})},n.prototype.deleteUser=function(){return mt(this,void 0,void 0,function(){var r,o,s=this;return kt(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this._storageSync];case 1:return a.sent(),[3,3];case 2:throw r=a.sent(),de.debug("Failed to sync cache info into memory",r),new Error(r);case 3:return o=this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true",[2,new Promise(function(u,h){return mt(s,void 0,void 0,function(){var f,m=this;return kt(this,function(k){if(this.userPool)if(f=this.userPool.getCurrentUser(),f)f.getSession(function(v,_){return mt(m,void 0,void 0,function(){var C,x=this;return kt(this,function(S){switch(S.label){case 0:if(!v)return[3,5];if(de.debug("Failed to get the user session",v),!this.isSessionInvalid(v))return[3,4];S.label=1;case 1:return S.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(f)];case 2:return S.sent(),[3,4];case 3:return C=S.sent(),h(new Error("Session is invalid due to: "+v.message+" and failed to clean up invalid session: "+C.message)),[2];case 4:return[2,h(v)];case 5:f.deleteUser(function(T,B){if(T)h(T);else{ct("userDeleted",B,"The authenticated user has been deleted."),f.signOut(),x.user=null;try{x.cleanCachedItems()}catch{de.debug("failed to clear cached items")}o?x.oAuthSignOutRedirect(u,h):(ct("signOut",x.user,"A user has been signed out"),u(B))}}),S.label=6;case 6:return[2]}})})});else return de.debug("Failed to get user from user pool"),[2,h(new Error("No current user."))];else de.debug("no Congito User pool"),h(new Error("Cognito User pool does not exist"));return[2]})})})]}})})},n.prototype.updateUserAttributes=function(r,o,s){var a=this;s===void 0&&(s=this._config.clientMetadata);var u=[],h=this;return new Promise(function(f,m){h.userSession(r).then(function(k){for(var v in o)if(v!=="sub"&&v.indexOf("_verified")<0){var _={Name:v,Value:o[v]};u.push(_)}r.updateAttributes(u,function(C,x,S){if(C)return ct("updateUserAttributes_failure",C,"Failed to update attributes"),m(C);var T=a.createUpdateAttributesResultList(o,S?.CodeDeliveryDetailsList);return ct("updateUserAttributes",T,"Attributes successfully updated"),f(x)},s)})})},n.prototype.createUpdateAttributesResultList=function(r,o){var s={};return Object.keys(r).forEach(function(a){s[a]={isUpdated:!0};var u=o?.find(function(h){return h.AttributeName===a});u&&(s[a].isUpdated=!1,s[a].codeDeliveryDetails=u)}),s},n.prototype.userAttributes=function(r){var o=this;return new Promise(function(s,a){o.userSession(r).then(function(u){r.getUserAttributes(function(h,f){h?a(h):s(f)})})})},n.prototype.verifiedContact=function(r){var o=this;return this.userAttributes(r).then(function(s){var a=o.attributesToObject(s),u={},h={};return a.email&&(a.email_verified?h.email=a.email:u.email=a.email),a.phone_number&&(a.phone_number_verified?h.phone_number=a.phone_number:u.phone_number=a.phone_number),{verified:h,unverified:u}})},n.prototype.isErrorWithMessage=function(r){return typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"message")},n.prototype.isTokenRevokedError=function(r){return this.isErrorWithMessage(r)&&r.message==="Access Token has been revoked"},n.prototype.isRefreshTokenRevokedError=function(r){return this.isErrorWithMessage(r)&&r.message==="Refresh Token has been revoked"},n.prototype.isUserDisabledError=function(r){return this.isErrorWithMessage(r)&&r.message==="User is disabled."},n.prototype.isUserDoesNotExistError=function(r){return this.isErrorWithMessage(r)&&r.message==="User does not exist."},n.prototype.isRefreshTokenExpiredError=function(r){return this.isErrorWithMessage(r)&&r.message==="Refresh Token has expired"},n.prototype.isPasswordResetRequiredError=function(r){return this.isErrorWithMessage(r)&&r.message==="Password reset required for the user"},n.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true"},n.prototype.isSessionInvalid=function(r){return this.isUserDisabledError(r)||this.isUserDoesNotExistError(r)||this.isTokenRevokedError(r)||this.isRefreshTokenRevokedError(r)||this.isRefreshTokenExpiredError(r)||this.isPasswordResetRequiredError(r)},n.prototype.cleanUpInvalidSession=function(r){return mt(this,void 0,void 0,function(){var o=this;return kt(this,function(s){switch(s.label){case 0:r.signOut(),this.user=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return s.sent(),[3,4];case 3:return s.sent(),de.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise(function(a,u){o.oAuthSignOutRedirect(a,u)})]:(ct("signOut",this.user,"A user has been signed out"),[2])}})})},n.prototype.currentUserPoolUser=function(r){var o=this;return this.userPool?new Promise(function(s,a){o._storageSync.then(function(){return mt(o,void 0,void 0,function(){var u,h,f,m,k,v,_,C=this;return kt(this,function(x){switch(x.label){case 0:return this.isOAuthInProgress()?(de.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise(function(S){var T=setTimeout(function(){de.debug("OAuth signIn in progress timeout"),Si.remove("auth",B),S()},XY);Si.listen("auth",B);function B(N){var I=N.payload,L=I.event;(L==="cognitoHostedUI"||L==="cognitoHostedUI_failure")&&(de.debug("OAuth signIn resolved: "+L),clearTimeout(T),Si.remove("auth",B),S())}})]):[3,2];case 1:x.sent(),x.label=2;case 2:if(u=this.userPool.getCurrentUser(),!u)return de.debug("Failed to get user from user pool"),a("No current user"),[2];x.label=3;case 3:return x.trys.push([3,7,,8]),[4,this._userSession(u)];case 4:return h=x.sent(),f=r?r.bypassCache:!1,f?[4,this.Credentials.clear()]:[3,6];case 5:x.sent(),x.label=6;case 6:if(m=this._config.clientMetadata,k=h.getAccessToken().decodePayload().scope,v=k===void 0?"":k,v.split(" ").includes(dI))u.getUserData(function(S,T){return mt(C,void 0,void 0,function(){var B,N,I,L,V,K,Z;return kt(this,function(Q){switch(Q.label){case 0:if(!S)return[3,7];if(de.debug("getting user data failed",S),!this.isSessionInvalid(S))return[3,5];Q.label=1;case 1:return Q.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(u)];case 2:return Q.sent(),[3,4];case 3:return B=Q.sent(),a(new Error("Session is invalid due to: "+S.message+" and failed to clean up invalid session: "+B.message)),[2];case 4:return a(S),[3,6];case 5:s(u),Q.label=6;case 6:return[2];case 7:for(N=T.PreferredMfaSetting||"NOMFA",I=[],L=0;L<T.UserAttributes.length;L++)V={Name:T.UserAttributes[L].Name,Value:T.UserAttributes[L].Value},K=new Yc(V),I.push(K);return Z=this.attributesToObject(I),Object.assign(u,{attributes:Z,preferredMFA:N}),[2,s(u)]}})})},{bypassCache:f,clientMetadata:m});else return de.debug("Unable to get the user data because the "+dI+" is not in the scopes of the access token"),[2,s(u)];return[3,8];case 7:return _=x.sent(),a(_),[3,8];case 8:return[2]}})})}).catch(function(u){return de.debug("Failed to sync cache info into memory",u),a(u)})}):this.rejectNoUserPool()},n.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},n.prototype.currentAuthenticatedUser=function(r){return mt(this,void 0,void 0,function(){var o,s,a,u,h;return kt(this,function(f){switch(f.label){case 0:de.debug("getting current authenticated user"),o=null,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this._storageSync];case 2:return f.sent(),[3,4];case 3:throw s=f.sent(),de.debug("Failed to sync cache info into memory",s),s;case 4:try{a=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")),a&&(o=Tn(Tn({},a.user),{token:a.token}))}catch{de.debug("cannot load federated user from auth storage")}return o?(this.user=o,de.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:de.debug("get current authenticated userpool user"),u=null,f.label=6;case 6:return f.trys.push([6,8,,9]),[4,this.currentUserPoolUser(r)];case 7:return u=f.sent(),[3,9];case 8:return h=f.sent(),h==="No userPool"&&de.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),de.debug("The user is not authenticated by the error",h),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=u,[2,this.user]}})})},n.prototype.currentSession=function(){var r=this;return de.debug("Getting current session"),this.userPool?new Promise(function(o,s){r.currentUserPoolUser().then(function(a){r.userSession(a).then(function(u){o(u)}).catch(function(u){de.debug("Failed to get the current session",u),s(u)})}).catch(function(a){de.debug("Failed to get the current user",a),s(a)})}):Promise.reject(new Error("No User Pool in the configuration."))},n.prototype._userSession=function(r){return mt(this,void 0,void 0,function(){var o,s,a=this;return kt(this,function(u){switch(u.label){case 0:if(!r)return de.debug("the user is null"),[2,this.rejectAuthError(At.NoUserSession)];o=this._config.clientMetadata,this.inflightSessionPromiseCounter===0&&(this.inflightSessionPromise=new Promise(function(h,f){r.getSession(function(m,k){return mt(a,void 0,void 0,function(){var v;return kt(this,function(_){switch(_.label){case 0:if(!m)return[3,5];if(de.debug("Failed to get the session from user",r),!this.isSessionInvalid(m))return[3,4];_.label=1;case 1:return _.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(r)];case 2:return _.sent(),[3,4];case 3:return v=_.sent(),f(new Error("Session is invalid due to: "+m.message+" and failed to clean up invalid session: "+v.message)),[2];case 4:return f(m),[2];case 5:return de.debug("Succeed to get the user session",k),h(k),[2]}})})},{clientMetadata:o})})),this.inflightSessionPromiseCounter++,u.label=1;case 1:return u.trys.push([1,,3,4]),[4,this.inflightSessionPromise];case 2:return s=u.sent(),r.signInUserSession=s,[2,s];case 3:return this.inflightSessionPromiseCounter--,[7];case 4:return[2]}})})},n.prototype.userSession=function(r){return this._userSession(r)},n.prototype.currentUserCredentials=function(){return mt(this,void 0,void 0,function(){var r,o,s=this;return kt(this,function(a){switch(a.label){case 0:de.debug("Getting current user credentials"),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),[3,4];case 3:throw r=a.sent(),de.debug("Failed to sync cache info into memory",r),r;case 4:o=null;try{o=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(u){de.debug("failed to get or parse item aws-amplify-federatedInfo",u)}return o?[2,this.Credentials.refreshFederatedToken(o)]:[2,this.currentSession().then(function(u){return de.debug("getting session success",u),s.Credentials.set(u,"session")}).catch(function(){return de.debug("getting guest credentials"),s.Credentials.set(null,"guest")})]}})})},n.prototype.currentCredentials=function(){return de.debug("getting current credentials"),this.Credentials.get()},n.prototype.verifyUserAttribute=function(r,o,s){return s===void 0&&(s=this._config.clientMetadata),new Promise(function(a,u){r.getAttributeVerificationCode(o,{onSuccess:function(h){return a(h)},onFailure:function(h){return u(h)}},s)})},n.prototype.verifyUserAttributeSubmit=function(r,o,s){return s?new Promise(function(a,u){r.verifyAttribute(o,s,{onSuccess:function(h){a(h)},onFailure:function(h){u(h)}})}):this.rejectAuthError(At.EmptyCode)},n.prototype.verifyCurrentUserAttribute=function(r){var o=this;return o.currentUserPoolUser().then(function(s){return o.verifyUserAttribute(s,r)})},n.prototype.verifyCurrentUserAttributeSubmit=function(r,o){var s=this;return s.currentUserPoolUser().then(function(a){return s.verifyUserAttributeSubmit(a,r,o)})},n.prototype.cognitoIdentitySignOut=function(r,o){return mt(this,void 0,void 0,function(){var s,a,u=this;return kt(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,this._storageSync];case 1:return h.sent(),[3,3];case 2:throw s=h.sent(),de.debug("Failed to sync cache info into memory",s),s;case 3:return a=this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true",[2,new Promise(function(f,m){if(r&&r.global){de.debug("user {} sign out",o);var k=u._config.clientMetadata;o.getSession(function(v,_){return mt(u,void 0,void 0,function(){var C,x=this;return kt(this,function(S){switch(S.label){case 0:if(!v)return[3,5];if(de.debug("failed to get the user session",v),!this.isSessionInvalid(v))return[3,4];S.label=1;case 1:return S.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(o)];case 2:return S.sent(),[3,4];case 3:return C=S.sent(),m(new Error("Session is invalid due to: "+v.message+" and failed to clean up invalid session: "+C.message)),[2];case 4:return[2,m(v)];case 5:return o.globalSignOut({onSuccess:function(T){if(de.debug("{} sign out success"),a)x.oAuthSignOutRedirect(f,m);else return f()},onFailure:function(T){return de.debug("{} sign out failed",T),m(T)}}),[2]}})})},{clientMetadata:k})}else de.debug("user sign out",o),o.signOut(function(){if(a)u.oAuthSignOutRedirect(f,m);else return f()})})]}})})},n.prototype.oAuthSignOutRedirect=function(r,o){var s=zi().isBrowser;s?this.oAuthSignOutRedirectOrReject(o):this.oAuthSignOutAndResolve(r)},n.prototype.oAuthSignOutAndResolve=function(r){this._oAuthHandler.signOut(),r()},n.prototype.oAuthSignOutRedirectOrReject=function(r){this._oAuthHandler.signOut(),setTimeout(function(){return r(Error("Signout timeout fail"))},3e3)},n.prototype.signOut=function(r){return mt(this,void 0,void 0,function(){var o;return kt(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return s.sent(),[3,3];case 2:return s.sent(),de.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(o=this.userPool.getCurrentUser(),o?[4,this.cognitoIdentitySignOut(r,o)]:[3,5]):[3,7];case 4:return s.sent(),[3,6];case 5:de.debug("no current Cognito user"),s.label=6;case 6:return[3,8];case 7:de.debug("no Cognito User pool"),s.label=8;case 8:return ct("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},n.prototype.cleanCachedItems=function(){return mt(this,void 0,void 0,function(){return kt(this,function(r){switch(r.label){case 0:return[4,this.Credentials.clear()];case 1:return r.sent(),[2]}})})},n.prototype.changePassword=function(r,o,s,a){var u=this;return a===void 0&&(a=this._config.clientMetadata),new Promise(function(h,f){u.userSession(r).then(function(m){r.changePassword(o,s,function(k,v){return k?(de.debug("change password failure",k),f(k)):h(v)},a)})})},n.prototype.forgotPassword=function(r,o){if(o===void 0&&(o=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!r)return this.rejectAuthError(At.EmptyUsername);var s=this.createCognitoUser(r);return new Promise(function(a,u){s.forgotPassword({onSuccess:function(){a()},onFailure:function(h){de.debug("forgot password failure",h),ct("forgotPassword_failure",h,r+" forgotPassword failed"),u(h)},inputVerificationCode:function(h){ct("forgotPassword",s,r+" has initiated forgot password flow"),a(h)}},o)})},n.prototype.forgotPasswordSubmit=function(r,o,s,a){if(a===void 0&&(a=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!r)return this.rejectAuthError(At.EmptyUsername);if(!o)return this.rejectAuthError(At.EmptyCode);if(!s)return this.rejectAuthError(At.EmptyPassword);var u=this.createCognitoUser(r);return new Promise(function(h,f){u.confirmPassword(o,s,{onSuccess:function(m){ct("forgotPasswordSubmit",u,r+" forgotPasswordSubmit successful"),h(m)},onFailure:function(m){ct("forgotPasswordSubmit_failure",m,r+" forgotPasswordSubmit failed"),f(m)}},a)})},n.prototype.currentUserInfo=function(){return mt(this,void 0,void 0,function(){var r,m,o,s,a,u,h,f,m;return kt(this,function(k){switch(k.label){case 0:return r=this.Credentials.getCredSource(),!r||r==="aws"||r==="userPool"?[4,this.currentUserPoolUser().catch(function(v){return de.error(v)})]:[3,9];case 1:if(m=k.sent(),!m)return[2,null];k.label=2;case 2:return k.trys.push([2,8,,9]),[4,this.userAttributes(m)];case 3:o=k.sent(),s=this.attributesToObject(o),a=null,k.label=4;case 4:return k.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return a=k.sent(),[3,7];case 6:return u=k.sent(),de.debug("Failed to retrieve credentials while getting current user info",u),[3,7];case 7:return h={id:a?a.identityId:void 0,username:m.getUsername(),attributes:s},[2,h];case 8:return f=k.sent(),de.error("currentUserInfo error",f),[2,{}];case 9:return r==="federated"?(m=this.user,[2,m||{}]):[2]}})})},n.prototype.federatedSignIn=function(r,o,s){return mt(this,void 0,void 0,function(){var a,m,u,h,f,m,k,v,_,C,x,S;return kt(this,function(T){switch(T.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(typeof r>"u"&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return Tw(r)||e$(r)||t$(r)||typeof r>"u"?(a=r||{provider:wg.Cognito},m=Tw(a)?a.provider:a.customProvider,u=(Tw(a),a.customState),this._config.userPoolId&&(h=Ia(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,f=Ia(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,f,h,m,u)),[3,4]):[3,1];case 1:m=r;try{k=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user),k&&de.warn("There is already a signed in user: "+k+` in your app.
																	You should not call Auth.federatedSignIn method again as it may cause unexpected behavior.`)}catch{}return v=o.token,_=o.identity_id,C=o.expires_at,[4,this.Credentials.set({provider:m,token:v,identity_id:_,user:s,expires_at:C},"federation")];case 2:return x=T.sent(),[4,this.currentAuthenticatedUser()];case 3:return S=T.sent(),ct("signIn",S,"A user "+S.username+" has been signed in"),de.debug("federated sign in credentials",x),[2,x];case 4:return[2]}})})},n.prototype._handleAuthResponse=function(r){return mt(this,void 0,void 0,function(){var o,s,a,u,h,f,m,k,v,_,C,x,S,T;return kt(this,function(B){switch(B.label){case 0:if(this.oAuthFlowInProgress)return de.debug("Skipping URL "+r+" current flow in progress"),[2];B.label=1;case 1:if(B.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(ct("parsingCallbackUrl",{url:r},"The callback url is being parsed"),o=r||(zi().isBrowser?window.location.href:""),s=!!(bs(o).query||"").split("&").map(function(N){return N.split("=")}).find(function(N){var I=Co(N,1),L=I[0];return L==="code"||L==="error"}),a=!!(bs(o).hash||"#").substr(1).split("&").map(function(N){return N.split("=")}).find(function(N){var I=Co(N,1),L=I[0];return L==="access_token"||L==="error"}),!(s||a))return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),B.label=2;case 2:return B.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(o)];case 3:return u=B.sent(),h=u.accessToken,f=u.idToken,m=u.refreshToken,k=u.state,v=new Xv({IdToken:new Zv({IdToken:f}),RefreshToken:new Jv({RefreshToken:m}),AccessToken:new Gv({AccessToken:h})}),_=void 0,this._config.identityPoolId?[4,this.Credentials.set(v,"session")]:[3,5];case 4:_=B.sent(),de.debug("AWS credentials",_),B.label=5;case 5:return C=/-/.test(k),x=this.createCognitoUser(v.getIdToken().decodePayload()["cognito:username"]),x.setSignInUserSession(v),window&&typeof window.history<"u"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),ct("signIn",x,"A user "+x.getUsername()+" has been signed in"),ct("cognitoHostedUI",x,"A user "+x.getUsername()+" has been signed in via Cognito Hosted UI"),C&&(S=k.split("-").splice(1).join("-"),ct("customOAuthState",QV(S),"State for user "+x.getUsername())),[2,_];case 6:return T=B.sent(),de.debug("Error in cognito hosted auth response",T),window&&typeof window.history<"u"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),ct("signIn_failure",T,"The OAuth response flow failed"),ct("cognitoHostedUI_failure",T,"A failure occurred when returning to the Cognito Hosted UI"),ct("customState_failure",T,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}})})},n.prototype.essentialCredentials=function(r){return{accessKeyId:r.accessKeyId,sessionToken:r.sessionToken,secretAccessKey:r.secretAccessKey,identityId:r.identityId,authenticated:r.authenticated}},n.prototype.attributesToObject=function(r){var o=this,s={};return r&&r.map(function(a){a.Name==="email_verified"||a.Name==="phone_number_verified"?s[a.Name]=o.isTruthyString(a.Value)||a.Value===!0:s[a.Name]=a.Value}),s},n.prototype.isTruthyString=function(r){return typeof r.toLowerCase=="function"&&r.toLowerCase()==="true"},n.prototype.createCognitoUser=function(r){var o={Username:r,Pool:this.userPool};o.Storage=this._storage;var s=this._config.authenticationFlowType,a=new e0(o);return s&&a.setAuthenticationFlowType(s),a},n.prototype._isValidAuthStorage=function(r){return!!r&&typeof r.getItem=="function"&&typeof r.setItem=="function"&&typeof r.removeItem=="function"&&typeof r.clear=="function"},n.prototype.noUserPoolErrorHandler=function(r){return r&&(!r.userPoolId||!r.identityPoolId)?At.MissingAuthConfig:At.NoConfig},n.prototype.rejectAuthError=function(r){return Promise.reject(new fs(r))},n.prototype.rejectNoUserPool=function(){var r=this.noUserPoolErrorHandler(this._config);return Promise.reject(new ZY(r))},n.prototype.rememberDevice=function(){return mt(this,void 0,void 0,function(){var r,o;return kt(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return r=s.sent(),[3,3];case 2:return o=s.sent(),de.debug("The user is not authenticated by the error",o),[2,Promise.reject("The user is not authenticated")];case 3:return r.getCachedDeviceKeyAndPassword(),[2,new Promise(function(a,u){r.setDeviceStatusRemembered({onSuccess:function(h){a(h)},onFailure:function(h){h.code==="InvalidParameterException"?u(new fs(At.DeviceConfig)):h.code==="NetworkError"?u(new fs(At.NetworkError)):u(h)}})})]}})})},n.prototype.forgetDevice=function(){return mt(this,void 0,void 0,function(){var r,o;return kt(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return r=s.sent(),[3,3];case 2:return o=s.sent(),de.debug("The user is not authenticated by the error",o),[2,Promise.reject("The user is not authenticated")];case 3:return r.getCachedDeviceKeyAndPassword(),[2,new Promise(function(a,u){r.forgetDevice({onSuccess:function(h){a(h)},onFailure:function(h){h.code==="InvalidParameterException"?u(new fs(At.DeviceConfig)):h.code==="NetworkError"?u(new fs(At.NetworkError)):u(h)}})})]}})})},n.prototype.fetchDevices=function(){return mt(this,void 0,void 0,function(){var r,o;return kt(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return r=s.sent(),[3,3];case 2:throw o=s.sent(),de.debug("The user is not authenticated by the error",o),new Error("The user is not authenticated");case 3:return r.getCachedDeviceKeyAndPassword(),[2,new Promise(function(a,u){var h={onSuccess:function(f){var m=f.Devices.map(function(k){var v=k.DeviceAttributes.find(function(C){var x=C.Name;return x==="device_name"})||{},_={id:k.DeviceKey,name:v.Value};return _});a(m)},onFailure:function(f){f.code==="InvalidParameterException"?u(new fs(At.DeviceConfig)):f.code==="NetworkError"?u(new fs(At.NetworkError)):u(f)}};r.listDevices(tq,null,h)})]}})})},n}(),s0=new rq(null);nm.register(s0);let oq={data:""},iq=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||oq,sq=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,aq=/\/\*[^]*?\*\/|  +/g,hI=/\n+/g,Cs=(n,r)=>{let o="",s="",a="";for(let u in n){let h=n[u];u[0]=="@"?u[1]=="i"?o=u+" "+h+";":s+=u[1]=="f"?Cs(h,u):u+"{"+Cs(h,u[1]=="k"?"":r)+"}":typeof h=="object"?s+=Cs(h,r?r.replace(/([^,])+/g,f=>u.replace(/(^:.*)|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,f):f?f+" "+m:m)):u):h!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Cs.p?Cs.p(u,h):u+":"+h+";")}return o+(r&&a?r+"{"+a+"}":a)+s},Ci={},iN=n=>{if(typeof n=="object"){let r="";for(let o in n)r+=o+iN(n[o]);return r}return n},cq=(n,r,o,s,a)=>{let u=iN(n),h=Ci[u]||(Ci[u]=(m=>{let k=0,v=11;for(;k<m.length;)v=101*v+m.charCodeAt(k++)>>>0;return"go"+v})(u));if(!Ci[h]){let m=u!==n?n:(k=>{let v,_,C=[{}];for(;v=sq.exec(k.replace(aq,""));)v[4]?C.shift():v[3]?(_=v[3].replace(hI," ").trim(),C.unshift(C[0][_]=C[0][_]||{})):C[0][v[1]]=v[2].replace(hI," ").trim();return C[0]})(n);Ci[h]=Cs(a?{["@keyframes "+h]:m}:m,o?"":"."+h)}let f=o&&Ci.g?Ci.g:null;return o&&(Ci.g=Ci[h]),((m,k,v,_)=>{_?k.data=k.data.replace(_,m):k.data.indexOf(m)===-1&&(k.data=v?m+k.data:k.data+m)})(Ci[h],r,s,f),h},lq=(n,r,o)=>n.reduce((s,a,u)=>{let h=r[u];if(h&&h.call){let f=h(o),m=f&&f.props&&f.props.className||/^go/.test(f)&&f;h=m?"."+m:f&&typeof f=="object"?f.props?"":Cs(f,""):f===!1?"":f}return s+a+(h??"")},"");function pm(n){let r=this||{},o=n.call?n(r.p):n;return cq(o.unshift?o.raw?lq(o,[].slice.call(arguments,1),r.p):o.reduce((s,a)=>Object.assign(s,a&&a.call?a(r.p):a),{}):o,iq(r.target),r.g,r.o,r.k)}let sN,a0,c0;pm.bind({g:1});let Fi=pm.bind({k:1});function uq(n,r,o,s){Cs.p=r,sN=n,a0=o,c0=s}function qs(n,r){let o=this||{};return function(){let s=arguments;function a(u,h){let f=Object.assign({},u),m=f.className||a.className;o.p=Object.assign({theme:a0&&a0()},f),o.o=/ *go\d+/.test(m),f.className=pm.apply(o,s)+(m?" "+m:""),r&&(f.ref=h);let k=n;return n[0]&&(k=f.as||n,delete f.as),c0&&k[0]&&c0(f),sN(k,f)}return r?r(a):a}}var dq=n=>typeof n=="function",yg=(n,r)=>dq(n)?n(r):n,hq=(()=>{let n=0;return()=>(++n).toString()})(),aN=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");n=!r||r.matches}return n}})(),pq=20,Pf=new Map,fq=1e3,pI=n=>{if(Pf.has(n))return;let r=setTimeout(()=>{Pf.delete(n),Qa({type:4,toastId:n})},fq);Pf.set(n,r)},gq=n=>{let r=Pf.get(n);r&&clearTimeout(r)},l0=(n,r)=>{switch(r.type){case 0:return{...n,toasts:[r.toast,...n.toasts].slice(0,pq)};case 1:return r.toast.id&&gq(r.toast.id),{...n,toasts:n.toasts.map(u=>u.id===r.toast.id?{...u,...r.toast}:u)};case 2:let{toast:o}=r;return n.toasts.find(u=>u.id===o.id)?l0(n,{type:1,toast:o}):l0(n,{type:0,toast:o});case 3:let{toastId:s}=r;return s?pI(s):n.toasts.forEach(u=>{pI(u.id)}),{...n,toasts:n.toasts.map(u=>u.id===s||s===void 0?{...u,visible:!1}:u)};case 4:return r.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(u=>u.id!==r.toastId)};case 5:return{...n,pausedAt:r.time};case 6:let a=r.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+a}))}}},Nf=[],Of={toasts:[],pausedAt:void 0},Qa=n=>{Of=l0(Of,n),Nf.forEach(r=>{r(Of)})},mq={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},kq=(n={})=>{let[r,o]=ee.useState(Of);ee.useEffect(()=>(Nf.push(o),()=>{let a=Nf.indexOf(o);a>-1&&Nf.splice(a,1)}),[r]);let s=r.toasts.map(a=>{var u,h;return{...n,...n[a.type],...a,duration:a.duration||((u=n[a.type])==null?void 0:u.duration)||n?.duration||mq[a.type],style:{...n.style,...(h=n[a.type])==null?void 0:h.style,...a.style}}});return{...r,toasts:s}},bq=(n,r="blank",o)=>({createdAt:Date.now(),visible:!0,type:r,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...o,id:o?.id||hq()}),Xd=n=>(r,o)=>{let s=bq(r,n,o);return Qa({type:2,toast:s}),s.id},Nr=(n,r)=>Xd("blank")(n,r);Nr.error=Xd("error");Nr.success=Xd("success");Nr.loading=Xd("loading");Nr.custom=Xd("custom");Nr.dismiss=n=>{Qa({type:3,toastId:n})};Nr.remove=n=>Qa({type:4,toastId:n});Nr.promise=(n,r,o)=>{let s=Nr.loading(r.loading,{...o,...o?.loading});return n.then(a=>(Nr.success(yg(r.success,a),{id:s,...o,...o?.success}),a)).catch(a=>{Nr.error(yg(r.error,a),{id:s,...o,...o?.error})}),n};var wq=(n,r)=>{Qa({type:1,toast:{id:n,height:r}})},vq=()=>{Qa({type:5,time:Date.now()})},yq=n=>{let{toasts:r,pausedAt:o}=kq(n);ee.useEffect(()=>{if(o)return;let u=Date.now(),h=r.map(f=>{if(f.duration===1/0)return;let m=(f.duration||0)+f.pauseDuration-(u-f.createdAt);if(m<0){f.visible&&Nr.dismiss(f.id);return}return setTimeout(()=>Nr.dismiss(f.id),m)});return()=>{h.forEach(f=>f&&clearTimeout(f))}},[r,o]);let s=ee.useCallback(()=>{o&&Qa({type:6,time:Date.now()})},[o]),a=ee.useCallback((u,h)=>{let{reverseOrder:f=!1,gutter:m=8,defaultPosition:k}=h||{},v=r.filter(x=>(x.position||k)===(u.position||k)&&x.height),_=v.findIndex(x=>x.id===u.id),C=v.filter((x,S)=>S<_&&x.visible).length;return v.filter(x=>x.visible).slice(...f?[C+1]:[0,C]).reduce((x,S)=>x+(S.height||0)+m,0)},[r]);return{toasts:r,handlers:{updateHeight:wq,startPause:vq,endPause:s,calculateOffset:a}}},_q=Fi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Cq=Fi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Aq=Fi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,xq=qs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_q} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Cq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Aq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Eq=Fi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Sq=qs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${Eq} 1s linear infinite;
`,Dq=Fi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Tq=Fi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Iq=qs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Dq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Tq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Mq=qs("div")`
  position: absolute;
`,Pq=qs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Nq=Fi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Oq=qs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Nq} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Bq=({toast:n})=>{let{icon:r,type:o,iconTheme:s}=n;return r!==void 0?typeof r=="string"?ee.createElement(Oq,null,r):r:o==="blank"?null:ee.createElement(Pq,null,ee.createElement(Sq,{...s}),o!=="loading"&&ee.createElement(Mq,null,o==="error"?ee.createElement(xq,{...s}):ee.createElement(Iq,{...s})))},Rq=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Lq=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,jq="0%{opacity:0;} 100%{opacity:1;}",zq="0%{opacity:1;} 100%{opacity:0;}",Fq=qs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Uq=qs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Vq=(n,r)=>{let o=n.includes("top")?1:-1,[s,a]=aN()?[jq,zq]:[Rq(o),Lq(o)];return{animation:r?`${Fi(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Fi(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Hq=ee.memo(({toast:n,position:r,style:o,children:s})=>{let a=n.height?Vq(n.position||r||"top-center",n.visible):{opacity:0},u=ee.createElement(Bq,{toast:n}),h=ee.createElement(Uq,{...n.ariaProps},yg(n.message,n));return ee.createElement(Fq,{className:n.className,style:{...a,...o,...n.style}},typeof s=="function"?s({icon:u,message:h}):ee.createElement(ee.Fragment,null,u,h))});uq(ee.createElement);var Wq=({id:n,className:r,style:o,onHeightUpdate:s,children:a})=>{let u=ee.useCallback(h=>{if(h){let f=()=>{let m=h.getBoundingClientRect().height;s(n,m)};f(),new MutationObserver(f).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return ee.createElement("div",{ref:u,className:r,style:o},a)},$q=(n,r)=>{let o=n.includes("top"),s=o?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:aN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${r*(o?1:-1)}px)`,...s,...a}},Yq=pm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,df=16,qq=({reverseOrder:n,position:r="top-center",toastOptions:o,gutter:s,children:a,containerStyle:u,containerClassName:h})=>{let{toasts:f,handlers:m}=yq(o);return ee.createElement("div",{style:{position:"fixed",zIndex:9999,top:df,left:df,right:df,bottom:df,pointerEvents:"none",...u},className:h,onMouseEnter:m.startPause,onMouseLeave:m.endPause},f.map(k=>{let v=k.position||r,_=m.calculateOffset(k,{reverseOrder:n,gutter:s,defaultPosition:r}),C=$q(v,_);return ee.createElement(Wq,{id:k.id,key:k.id,onHeightUpdate:m.updateHeight,className:k.visible?Yq:"",style:C},k.type==="custom"?yg(k.message,k):a?a(k):ee.createElement(Hq,{toast:k,position:v}))}))},cN=Nr;function Kq(n){return new Promise(r=>setTimeout(r,n))}const lN=ee.createContext(),Gq={user:null,isAuthenticated:!1,isReadOnly:!0},Qq={fontSize:"20px"};function Nw(n){cN.error(n,{style:Qq}),Kq(2500)}function Zq(n,r){switch(r.type){case"login":return{...n,user:r.payload,isAuthenticated:!0};case"logout":return{...n,user:null,isAuthenticated:!1,isReadOnly:!0};case"user/approved":return{...n,isReadOnly:!1};default:throw new Error("Unknown action")}}function Jq({children:n}){const[{user:r,isAuthenticated:o,isReadOnly:s},a]=ee.useReducer(Zq,Gq);async function u(f,m){try{const k=await s0.signIn(f,m);k&&a({type:"login",payload:k})}catch(k){switch(k.name){case"NotAuthorizedException":Nw("Invalid login credentials.");break;default:throw Nw("Error signing in"),console.log(k),k}}}async function h(){try{a({type:"logout"}),await s0.signOut()}catch(f){Nw("Error signing out"),console.log("Error signing out: ",f)}}return he.jsxs(he.Fragment,{children:[he.jsx(lN.Provider,{value:{user:r,isAuthenticated:o,isReadOnly:s,login:u,logout:h,dispatch:a},children:n}),he.jsx(qq,{})]})}function jy(){const n=ee.useContext(lN);if(n===void 0)throw new Error("AuthContext was used outside AuthProvider");return n}function Xq({children:n}){const{isAuthenticated:r}=jy(),o=Ol();return ee.useEffect(function(){r||o("/")},[r,o]),r?n:null}const eK="_spinnerContainer_trq0m_1",tK="_spinner_trq0m_1",nK="_rotate_trq0m_1",fI={spinnerContainer:eK,spinner:tK,rotate:nK};function eh(){return he.jsx("div",{className:fI.spinnerContainer,children:he.jsx("div",{className:fI.spinner})})}const rK="_cityList_1bdo4_1",oK={cityList:rK},iK="_cityItem_149yc_1",sK="_emoji_149yc_23",aK="_name_149yc_28",cK="_date_149yc_34",lK="_deleteBtn_149yc_38",Wc={cityItem:iK,"cityItem--active":"_cityItem--active_149yc_18",emoji:sK,name:aK,date:cK,deleteBtn:lK},uK=n=>new Intl.DateTimeFormat("en",{day:"numeric",month:"long",year:"numeric"}).format(new Date(n));function dK({city:n,markersRef:r}){const{currentCity:o,deleteCity:s}=Jd(),{cityName:a,emoji:u,date:h,id:f,position:m}=n,{isReadOnly:k}=jy();function v(C){C.preventDefault(),k||s(f)}function _(C,x){C.current[x].openPopup()}return he.jsx("li",{onClick:()=>_(r,f),children:he.jsxs(SP,{className:`${Wc.cityItem} ${f===o.id?Wc["cityItem--active"]:""}`,to:`${f}?lat=${m.lat}&lng=${m.lng}`,children:[he.jsx("span",{className:Wc.emoji,children:u}),he.jsx("h3",{className:Wc.name,children:a}),he.jsxs("time",{className:Wc.date,children:["(",uK(h),")"]}),k?null:he.jsx("button",{className:Wc.deleteBtn,onClick:v,children:"×"})]})})}const hK="_message_y7yb3_1",pK={message:hK};function _g({message:n}){return he.jsxs("p",{className:pK.message,children:[he.jsx("span",{role:"img",children:"👋"})," ",n]})}function fK(){const{cities:n,isLoading:r}=Jd(),o=b9();return r?he.jsx(eh,{}):n.length?he.jsx("ul",{className:oK.cityList,children:n.map(s=>he.jsx(dK,{city:s,markersRef:o},s.id))}):he.jsx(_g,{message:"Add your first city by clicking on a city on the map"})}const gK="_countryList_1ayr3_1",mK={countryList:gK},kK="_countryItem_q7ghg_1",bK={countryItem:kK};function wK({country:n}){return he.jsxs("li",{className:bK.countryItem,children:[he.jsx("span",{children:n.emoji}),he.jsx("span",{children:n.country})]})}function vK(){const{cities:n,isLoading:r}=Jd();if(r)return he.jsx(eh,{});if(!n.length)return he.jsx(_g,{message:"Add your first city by clicking on a city on the map"});const o=n.reduce((s,a)=>s.map(u=>u.country).includes(a.country)?s:[...s,{country:a.country,emoji:a.emoji}],[]);return he.jsx("ul",{className:mK.countryList,children:o.map(s=>he.jsx(wK,{country:s},s.country))})}const Mt=1,uN=2,dN=4,In=8,u0=16,hf=32,oi=64,d0={a:{content:Mt|In,self:!1,type:Mt|In|hf|oi},address:{invalid:["h1","h2","h3","h4","h5","h6","address","article","aside","section","div","header","footer"],self:!1},audio:{children:["track","source"]},br:{type:Mt|In,void:!0},body:{content:Mt|uN|dN|In|u0|hf|oi},button:{content:In,type:Mt|In|hf|oi},caption:{content:Mt,parent:["table"]},col:{parent:["colgroup"],void:!0},colgroup:{children:["col"],parent:["table"]},details:{children:["summary"],type:Mt|hf|oi},dd:{content:Mt,parent:["dl"]},dl:{children:["dt","dd"],type:Mt},dt:{content:Mt,invalid:["footer","header"],parent:["dl"]},figcaption:{content:Mt,parent:["figure"]},footer:{invalid:["footer","header"]},header:{invalid:["footer","header"]},hr:{type:Mt,void:!0},img:{void:!0},li:{content:Mt,parent:["ul","ol","menu"]},main:{self:!1},ol:{children:["li"],type:Mt},picture:{children:["source","img"],type:Mt|In|u0},rb:{parent:["ruby","rtc"]},rp:{parent:["ruby","rtc"]},rt:{content:In,parent:["ruby","rtc"]},rtc:{content:In,parent:["ruby"]},ruby:{children:["rb","rp","rt","rtc"]},source:{parent:["audio","video","picture"],void:!0},summary:{content:In,parent:["details"]},table:{children:["caption","colgroup","thead","tbody","tfoot","tr"],type:Mt},tbody:{parent:["table"],children:["tr"]},td:{content:Mt,parent:["tr"]},tfoot:{parent:["table"],children:["tr"]},th:{content:Mt,parent:["tr"]},thead:{parent:["table"],children:["tr"]},tr:{parent:["table","tbody","thead","tfoot"],children:["th","td"]},track:{parent:["audio","video"],void:!0},ul:{children:["li"],type:Mt},video:{children:["track","source"]},wbr:{type:Mt|In,void:!0}};function Za(n){return r=>{d0[r]={...n,...d0[r]}}}["address","main","div","figure","p","pre"].forEach(Za({content:Mt,type:Mt|oi}));["abbr","b","bdi","bdo","cite","code","data","dfn","em","i","kbd","mark","q","ruby","samp","strong","sub","sup","time","u","var"].forEach(Za({content:In,type:Mt|In|oi}));["p","pre"].forEach(Za({content:In,type:Mt|oi}));["s","small","span","del","ins"].forEach(Za({content:In,type:Mt|In}));["article","aside","footer","header","nav","section","blockquote"].forEach(Za({content:Mt,type:Mt|uN|oi}));["h1","h2","h3","h4","h5","h6"].forEach(Za({content:In,type:Mt|dN|oi}));["audio","canvas","iframe","img","video"].forEach(Za({type:Mt|In|u0|oi}));const h0=Object.freeze(d0),yK=["applet","base","body","command","embed","frame","frameset","head","html","link","meta","noscript","object","script","style","title"],_K=Object.keys(h0).filter(n=>n!=="canvas"&&n!=="iframe"),Ut=1,CK=2,nd=3,qc=4,hN=5,gI=Object.freeze({alt:Ut,cite:Ut,class:Ut,colspan:nd,controls:qc,datetime:Ut,default:qc,disabled:qc,dir:Ut,height:Ut,href:Ut,id:Ut,kind:Ut,label:Ut,lang:Ut,loading:Ut,loop:qc,media:Ut,muted:qc,poster:Ut,rel:Ut,role:Ut,rowspan:nd,scope:Ut,sizes:Ut,span:nd,start:nd,style:hN,src:Ut,srclang:Ut,srcset:Ut,tabindex:Ut,target:Ut,title:Ut,type:Ut,width:Ut}),AK=Object.freeze({class:"className",colspan:"colSpan",datetime:"dateTime",rowspan:"rowSpan",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex"});function Cg(){return Cg=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])}return n},Cg.apply(this,arguments)}function pN({attributes:n={},className:r,children:o=null,selfClose:s=!1,tagName:a}){const u=a;return s?re.createElement(u,Cg({className:r},n)):re.createElement(u,Cg({className:r},n),o)}class xK{attribute(r,o){return o}node(r,o){return o}}/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var EK=/["'&<>]/,SK=DK;function DK(n){var r=""+n,o=EK.exec(r);if(!o)return r;var s,a="",u=0,h=0;for(u=o.index;u<r.length;u++){switch(r.charCodeAt(u)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}h!==u&&(a+=r.substring(h,u)),h=u+1,a+=s}return h!==u?a+r.substring(h,u):a}const TK=Ha(SK);function Ai(n,r,o){return r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n}const IK=/(url|image|image-set)\(/i;class MK extends xK{attribute(r,o){return r==="style"&&Object.keys(o).forEach(s=>{String(o[s]).match(IK)&&delete o[s]}),o}}const mI=1,PK=3,NK=/^<(!doctype|(html|head|body)(\s|>))/i,OK=/^(aria-|data-|\w+:)/iu,BK=/{{{(\w+)\/?}}}/;function RK(){if(!(typeof window>"u"||typeof document>"u"))return document.implementation.createHTMLDocument("Interweave")}let LK=class{constructor(r,o={},s=[],a=[]){var u;Ai(this,"allowed",void 0),Ai(this,"banned",void 0),Ai(this,"blocked",void 0),Ai(this,"container",void 0),Ai(this,"content",[]),Ai(this,"props",void 0),Ai(this,"matchers",void 0),Ai(this,"filters",void 0),Ai(this,"keyIndex",void 0),this.props=o,this.matchers=s,this.filters=[...a,new MK],this.keyIndex=-1,this.container=this.createContainer(r||""),this.allowed=new Set((u=o.allowList)!==null&&u!==void 0?u:_K),this.banned=new Set(yK),this.blocked=new Set(o.blockList)}applyAttributeFilters(r,o){return this.filters.reduce((s,a)=>s!==null&&typeof a.attribute=="function"?a.attribute(r,s):s,o)}applyNodeFilters(r,o){return this.filters.reduce((s,a)=>s!==null&&typeof a.node=="function"?a.node(r,s):s,o)}applyMatchers(r,o){const s={},{props:a}=this;let u=r,h=0,f=null;return this.matchers.forEach(m=>{const k=m.asTag().toLowerCase(),v=this.getTagConfig(k);if(a[m.inverseName]||!this.isTagAllowed(k)||!this.canRenderChild(o,v))return;let _="";for(;u&&(f=m.match(u));){const{index:C,length:x,match:S,valid:T,void:B,...N}=f,I=m.propName+String(h);C>0&&(_+=u.slice(0,C)),T?(_+=B?`{{{${I}/}}}`:`{{{${I}}}}${S}{{{/${I}}}}`,this.keyIndex+=1,h+=1,s[I]={children:S,matcher:m,props:{...a,...N,key:this.keyIndex}}):_+=S,m.greedy?(u=_+u.slice(C+x),_=""):u=u.slice(C+(x||S.length))}m.greedy||(u=_+u)}),h===0?r:this.replaceTokens(u,s)}canRenderChild(r,o){return!r.tagName||!o.tagName||r.void?!1:r.children.length>0?r.children.includes(o.tagName):r.invalid.length>0&&r.invalid.includes(o.tagName)?!1:o.parent.length>0?o.parent.includes(r.tagName):!r.self&&r.tagName===o.tagName?!1:!!(r&&r.content&o.type)}convertLineBreaks(r){const{noHtml:o,disableLineBreaks:s}=this.props;if(o||s||r.match(/<((?:\/[ a-z]+)|(?:[ a-z]+\/))>/gi))return r;let a=r.replace(/\r\n/g,`
`);return a=a.replace(/\n{3,}/g,`


`),a=a.replace(/\n/g,"<br/>"),a}createContainer(r){var o;const a=(typeof{}<"u"&&{}.INTERWEAVE_SSR_POLYFILL||RK)();if(!a)return;const u=(o=this.props.containerTagName)!==null&&o!==void 0?o:"body",h=u==="body"||u==="fragment"?a.body:a.createElement(u);return r.match(NK)||(h.innerHTML=this.convertLineBreaks(this.props.escapeHtml?TK(r):r)),h}extractAttributes(r){const{allowAttributes:o}=this.props,s={};let a=0;return r.nodeType!==mI||!r.attributes||([...r.attributes].forEach(u=>{const{name:h,value:f}=u,m=h.toLowerCase(),k=gI[m]||gI[h];if(!this.isSafe(r)||!m.match(OK)&&(!o&&(!k||k===CK)||m.startsWith("on")||f.replace(/(\s|\0|&#x0([9AD]);)/,"").match(/(javascript|vbscript|livescript|xss):/i)))return;let v=m==="style"?this.extractStyleAttribute(r):f;k===qc?v=!0:k===nd?v=Number.parseFloat(String(v)):k!==hN&&(v=String(v)),s[AK[m]||m]=this.applyAttributeFilters(m,v),a+=1}),a===0)?null:s}extractStyleAttribute(r){const o={};return Array.from(r.style).forEach(s=>{const a=r.style[s];(typeof a=="string"||typeof a=="number")&&(o[s.replace(/-([a-z])/g,(u,h)=>String(h).toUpperCase())]=a)}),o}getTagConfig(r){const o={children:[],content:0,invalid:[],parent:[],self:!0,tagName:"",type:0,void:!1};return h0[r]?{...o,...h0[r],tagName:r}:o}isSafe(r){if(typeof HTMLAnchorElement<"u"&&r instanceof HTMLAnchorElement){const o=r.getAttribute("href");if(o!=null&&o.startsWith("#"))return!0;const s=r.protocol.toLowerCase();return s===":"||s==="http:"||s==="https:"||s==="mailto:"||s==="tel:"}return!0}isTagAllowed(r){return this.banned.has(r)||this.blocked.has(r)?!1:this.props.allowElements||this.allowed.has(r)}parse(){return this.container?this.parseNode(this.container,this.getTagConfig(this.container.nodeName.toLowerCase())):[]}parseNode(r,o){const{noHtml:s,noHtmlExceptMatchers:a,allowElements:u,transform:h,transformOnlyAllowList:f}=this.props;let m=[],k="";return[...r.childNodes].forEach(v=>{if(v.nodeType===mI){const C=v.nodeName.toLowerCase(),x=this.getTagConfig(C);k&&(m.push(k),k="");const S=this.applyNodeFilters(C,v);if(!S)return;let T;if(h&&!(f&&!this.isTagAllowed(C))){this.keyIndex+=1;const B=this.keyIndex;T=this.parseNode(S,x);const N=h(S,T,x);if(N===null)return;if(typeof N<"u"){m.push(re.cloneElement(N,{key:B}));return}this.keyIndex=B-1}if(this.banned.has(C))return;if(!(s||a&&C!=="br")&&this.isTagAllowed(C)&&(u||this.canRenderChild(o,x))){var _;this.keyIndex+=1;const B=this.extractAttributes(S),N={tagName:C};B&&(N.attributes=B),x.void&&(N.selfClose=x.void),m.push(re.createElement(pN,{...N,key:this.keyIndex},(_=T)!==null&&_!==void 0?_:this.parseNode(S,x)))}else m=[...m,...this.parseNode(S,x.tagName?x:o)]}else if(v.nodeType===PK){const C=s&&!a?v.textContent:this.applyMatchers(v.textContent||"",o);Array.isArray(C)?m=[...m,...C]:k+=C}}),k&&m.push(k),m}replaceTokens(r,o){if(!r.includes("{{{"))return r;const s=[];let a=r,u=null;for(;u=a.match(BK);){const[h,f]=u,m=u.index,k=h.includes("/");m>0&&(s.push(a.slice(0,m)),a=a.slice(m));const{children:v,matcher:_,props:C}=o[f];let x;if(k)x=h.length,s.push(_.createElement(v,C));else{const S=a.match(new RegExp(`{{{/${f}}}}`));x=S.index+S[0].length,s.push(_.createElement(this.replaceTokens(a.slice(h.length,S.index),o),C))}a=a.slice(x)}return a.length>0&&s.push(a),s.length===0?"":s.length===1&&typeof s[0]=="string"?s[0]:s}};function jK(n){var r;const{attributes:o,className:s,containerTagName:a,content:u,emptyContent:h,parsedContent:f,tagName:m,noWrap:k}=n,v=(r=a??m)!==null&&r!==void 0?r:"span",_=v==="fragment"?!0:k;let C;if(f)C=f;else{const x=new LK(u??"",n).parse();x.length>0&&(C=x)}return C||(C=h),_?re.createElement(re.Fragment,null,C):re.createElement(pN,{attributes:o,className:s,tagName:v},C)}const zK="_btn_de80c_1",FK="_primary_de80c_12",UK="_back_de80c_18",VK="_position_de80c_24",kI={btn:zK,primary:FK,back:UK,position:VK};function fN({children:n,onClick:r,type:o}){return he.jsx("button",{onClick:r,className:`${kI.btn} ${kI[o]}`,children:n})}function gN(){const n=Ol();return he.jsx(fN,{type:"back",onClick:r=>{r.preventDefault(),n(-1)},children:"← Back"})}const HK="_city_rbq60_1",WK="_row_rbq60_27",qu={city:HK,row:WK},$K=n=>new Intl.DateTimeFormat("en",{day:"numeric",month:"long",year:"numeric",weekday:"long"}).format(new Date(n));function YK(){const{id:n}=v9(),{getCity:r,currentCity:o,isLoading:s}=Jd();ee.useEffect(function(){r(n)},[n,r]);const{cityName:a,emoji:u,date:h,notes:f}=o;return s?he.jsx(eh,{}):he.jsxs("div",{className:qu.city,children:[he.jsxs("div",{className:qu.row,children:[he.jsx("h6",{children:"City name"}),he.jsxs("h3",{children:[he.jsx("span",{children:u})," ",a]})]}),he.jsxs("div",{className:qu.row,children:[he.jsxs("h6",{children:["You went to ",a," on"]}),he.jsx("p",{children:$K(h||null)})]}),f&&he.jsxs("div",{className:qu.row,children:[he.jsx("h6",{children:"Your notes"}),he.jsx(jK,{content:f})]}),he.jsxs("div",{className:qu.row,children:[he.jsx("h6",{children:"Learn more"}),he.jsxs("a",{href:`https://en.wikipedia.org/wiki/${a}`,target:"_blank",rel:"noreferrer",children:["Check out ",a," on Wikipedia →"]})]}),he.jsx("div",{children:he.jsx(gN,{})})]})}var Ag={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */Ag.exports;(function(n,r){(function(o,s){n.exports=s(ee)})(self,o=>(()=>{var s={703:(f,m,k)=>{var v=k(414);function _(){}function C(){}C.resetWarningCache=_,f.exports=function(){function x(B,N,I,L,V,K){if(K!==v){var Z=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Z.name="Invariant Violation",Z}}function S(){return x}x.isRequired=x;var T={array:x,bigint:x,bool:x,func:x,number:x,object:x,string:x,symbol:x,any:x,arrayOf:S,element:x,elementType:x,instanceOf:S,node:x,objectOf:S,oneOf:S,oneOfType:S,shape:S,exact:S,checkPropTypes:C,resetWarningCache:_};return T.PropTypes=T,T}},697:(f,m,k)=>{f.exports=k(703)()},414:f=>{f.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:f=>{f.exports=o}},a={};function u(f){var m=a[f];if(m!==void 0)return m.exports;var k=a[f]={exports:{}};return s[f](k,k.exports,u),k.exports}u.n=f=>{var m=f&&f.__esModule?()=>f.default:()=>f;return u.d(m,{a:m}),m},u.d=(f,m)=>{for(var k in m)u.o(m,k)&&!u.o(f,k)&&Object.defineProperty(f,k,{enumerable:!0,get:m[k]})},u.o=(f,m)=>Object.prototype.hasOwnProperty.call(f,m),u.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})};var h={};return(()=>{u.r(h),u.d(h,{CKEditor:()=>ts,CKEditorContext:()=>uu});var f=u(787),m=u.n(f),k=u(697),v=u.n(k);const _=new Array(256).fill("").map((j,F)=>("0"+F.toString(16)).slice(-2));class C{constructor(F){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof F.crashNumberLimit=="number"?F.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof F.minimumNonErrorTimePeriod=="number"?F.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=q=>{const ne="error"in q?q.error:q.reason;ne instanceof Error&&this._handleError(ne,q)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(F,q){this._listeners[F]||(this._listeners[F]=[]),this._listeners[F].push(q)}off(F,q){this._listeners[F]=this._listeners[F].filter(ne=>ne!==q)}_fire(F,...q){const ne=this._listeners[F]||[];for(const Ie of ne)Ie.apply(this,[null,...q])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(F,q){if(this._shouldReactToError(F)){this.crashes.push({message:F.message,stack:F.stack,filename:q instanceof ErrorEvent?q.filename:void 0,lineno:q instanceof ErrorEvent?q.lineno:void 0,colno:q instanceof ErrorEvent?q.colno:void 0,date:this._now()});const ne=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:F,causesRestart:ne}),ne?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(F){return F.is&&F.is("CKEditorError")&&F.context!==void 0&&F.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(F)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function x(j,F=new Set){const q=[j],ne=new Set;let Ie=0;for(;q.length>Ie;){const We=q[Ie++];if(!ne.has(We)&&S(We)&&!F.has(We))if(ne.add(We),Symbol.iterator in We)try{for(const qe of We)q.push(qe)}catch{}else for(const qe in We)qe!=="defaultValue"&&q.push(We[qe])}return ne}function S(j){const F=Object.prototype.toString.call(j),q=typeof j;return!(q==="number"||q==="boolean"||q==="string"||q==="symbol"||q==="function"||F==="[object Date]"||F==="[object RegExp]"||F==="[object Module]"||j==null||j._watchdogExcluded||j instanceof EventTarget||j instanceof Event)}function T(j,F,q=new Set){if(j===F&&typeof(ne=j)=="object"&&ne!==null)return!0;var ne;const Ie=x(j,q),We=x(F,q);for(const qe of Ie)if(We.has(qe))return!0;return!1}const B=function(j){var F=typeof j;return j!=null&&(F=="object"||F=="function")},N=typeof{}=="object"&&{}&&{}.Object===Object&&{};var I=typeof self=="object"&&self&&self.Object===Object&&self;const L=N||I||Function("return this")(),V=function(){return L.Date.now()};var K=/\s/;const Z=function(j){for(var F=j.length;F--&&K.test(j.charAt(F)););return F};var Q=/^\s+/;const z=function(j){return j&&j.slice(0,Z(j)+1).replace(Q,"")},te=L.Symbol;var ae=Object.prototype,Ce=ae.hasOwnProperty,Me=ae.toString,Ae=te?te.toStringTag:void 0;const et=function(j){var F=Ce.call(j,Ae),q=j[Ae];try{j[Ae]=void 0;var ne=!0}catch{}var Ie=Me.call(j);return ne&&(F?j[Ae]=q:delete j[Ae]),Ie};var Pe=Object.prototype.toString;const Re=function(j){return Pe.call(j)};var He=te?te.toStringTag:void 0;const ke=function(j){return j==null?j===void 0?"[object Undefined]":"[object Null]":He&&He in Object(j)?et(j):Re(j)},ge=function(j){return j!=null&&typeof j=="object"},le=function(j){return typeof j=="symbol"||ge(j)&&ke(j)=="[object Symbol]"};var fe=/^[-+]0x[0-9a-f]+$/i,we=/^0b[01]+$/i,Fe=/^0o[0-7]+$/i,Le=parseInt;const Ze=function(j){if(typeof j=="number")return j;if(le(j))return NaN;if(B(j)){var F=typeof j.valueOf=="function"?j.valueOf():j;j=B(F)?F+"":F}if(typeof j!="string")return j===0?j:+j;j=z(j);var q=we.test(j);return q||Fe.test(j)?Le(j.slice(2),q?2:8):fe.test(j)?NaN:+j};var Ye=Math.max,Ne=Math.min;const Ue=function(j,F,q){var ne,Ie,We,qe,Qe,Gt,Ht=0,bc=!1,Fo=!1,Vr=!0;if(typeof j!="function")throw new TypeError("Expected a function");function fi(jn){var zn=ne,Vo=Ie;return ne=Ie=void 0,Ht=jn,qe=j.apply(Vo,zn)}function ns(jn){var zn=jn-Gt;return Gt===void 0||zn>=F||zn<0||Fo&&jn-Ht>=We}function Uo(){var jn=V();if(ns(jn))return tt(jn);Qe=setTimeout(Uo,function(zn){var Vo=F-(zn-Gt);return Fo?Ne(Vo,We-(zn-Ht)):Vo}(jn))}function tt(jn){return Qe=void 0,Vr&&ne?fi(jn):(ne=Ie=void 0,qe)}function ur(){var jn=V(),zn=ns(jn);if(ne=arguments,Ie=this,Gt=jn,zn){if(Qe===void 0)return function(Vo){return Ht=Vo,Qe=setTimeout(Uo,F),bc?fi(Vo):qe}(Gt);if(Fo)return clearTimeout(Qe),Qe=setTimeout(Uo,F),fi(Gt)}return Qe===void 0&&(Qe=setTimeout(Uo,F)),qe}return F=Ze(F)||0,B(q)&&(bc=!!q.leading,We=(Fo="maxWait"in q)?Ye(Ze(q.maxWait)||0,F):We,Vr="trailing"in q?!!q.trailing:Vr),ur.cancel=function(){Qe!==void 0&&clearTimeout(Qe),Ht=0,ne=Gt=Ie=Qe=void 0},ur.flush=function(){return Qe===void 0?qe:tt(V())},ur},je=function(j,F,q){var ne=!0,Ie=!0;if(typeof j!="function")throw new TypeError("Expected a function");return B(q)&&(ne="leading"in q?!!q.leading:ne,Ie="trailing"in q?!!q.trailing:Ie),Ue(j,F,{leading:ne,maxWait:F,trailing:Ie})},pt=function(){this.__data__=[],this.size=0},it=function(j,F){return j===F||j!=j&&F!=F},Et=function(j,F){for(var q=j.length;q--;)if(it(j[q][0],F))return q;return-1};var qt=Array.prototype.splice;const Ve=function(j){var F=this.__data__,q=Et(F,j);return!(q<0)&&(q==F.length-1?F.pop():qt.call(F,q,1),--this.size,!0)},ln=function(j){var F=this.__data__,q=Et(F,j);return q<0?void 0:F[q][1]},er=function(j){return Et(this.__data__,j)>-1},Wi=function(j,F){var q=this.__data__,ne=Et(q,j);return ne<0?(++this.size,q.push([j,F])):q[ne][1]=F,this};function H(j){var F=-1,q=j==null?0:j.length;for(this.clear();++F<q;){var ne=j[F];this.set(ne[0],ne[1])}}H.prototype.clear=pt,H.prototype.delete=Ve,H.prototype.get=ln,H.prototype.has=er,H.prototype.set=Wi;const P=H,O=function(){this.__data__=new P,this.size=0},$=function(j){var F=this.__data__,q=F.delete(j);return this.size=F.size,q},X=function(j){return this.__data__.get(j)},se=function(j){return this.__data__.has(j)},ce=function(j){if(!B(j))return!1;var F=ke(j);return F=="[object Function]"||F=="[object GeneratorFunction]"||F=="[object AsyncFunction]"||F=="[object Proxy]"},Ge=L["__core-js_shared__"];var $e=function(){var j=/[^.]+$/.exec(Ge&&Ge.keys&&Ge.keys.IE_PROTO||"");return j?"Symbol(src)_1."+j:""}();const Je=function(j){return!!$e&&$e in j};var Kt=Function.prototype.toString;const yt=function(j){if(j!=null){try{return Kt.call(j)}catch{}try{return j+""}catch{}}return""};var $i=/^\[object .+?Constructor\]$/,Po=Function.prototype,Xa=Object.prototype,wm=Po.toString,vm=Xa.hasOwnProperty,rh=RegExp("^"+wm.call(vm).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const No=function(j){return!(!B(j)||Je(j))&&(ce(j)?rh:$i).test(yt(j))},Ln=function(j,F){return j?.[F]},kn=function(j,F){var q=Ln(j,F);return No(q)?q:void 0},Yi=kn(L,"Map"),Oo=kn(Object,"create"),oh=function(){this.__data__=Oo?Oo(null):{},this.size=0},zl=function(j){var F=this.has(j)&&delete this.__data__[j];return this.size-=F?1:0,F};var ym=Object.prototype.hasOwnProperty;const _m=function(j){var F=this.__data__;if(Oo){var q=F[j];return q==="__lodash_hash_undefined__"?void 0:q}return ym.call(F,j)?F[j]:void 0};var ih=Object.prototype.hasOwnProperty;const Cm=function(j){var F=this.__data__;return Oo?F[j]!==void 0:ih.call(F,j)},Am=function(j,F){var q=this.__data__;return this.size+=this.has(j)?0:1,q[j]=Oo&&F===void 0?"__lodash_hash_undefined__":F,this};function bn(j){var F=-1,q=j==null?0:j.length;for(this.clear();++F<q;){var ne=j[F];this.set(ne[0],ne[1])}}bn.prototype.clear=oh,bn.prototype.delete=zl,bn.prototype.get=_m,bn.prototype.has=Cm,bn.prototype.set=Am;const sh=bn,Gs=function(){this.size=0,this.__data__={hash:new sh,map:new(Yi||P),string:new sh}},ec=function(j){var F=typeof j;return F=="string"||F=="number"||F=="symbol"||F=="boolean"?j!=="__proto__":j===null},tc=function(j,F){var q=j.__data__;return ec(F)?q[typeof F=="string"?"string":"hash"]:q.map},xm=function(j){var F=tc(this,j).delete(j);return this.size-=F?1:0,F},Em=function(j){return tc(this,j).get(j)},Sm=function(j){return tc(this,j).has(j)},Dm=function(j,F){var q=tc(this,j),ne=q.size;return q.set(j,F),this.size+=q.size==ne?0:1,this};function Cr(j){var F=-1,q=j==null?0:j.length;for(this.clear();++F<q;){var ne=j[F];this.set(ne[0],ne[1])}}Cr.prototype.clear=Gs,Cr.prototype.delete=xm,Cr.prototype.get=Em,Cr.prototype.has=Sm,Cr.prototype.set=Dm;const nc=Cr,Tm=function(j,F){var q=this.__data__;if(q instanceof P){var ne=q.__data__;if(!Yi||ne.length<199)return ne.push([j,F]),this.size=++q.size,this;q=this.__data__=new nc(ne)}return q.set(j,F),this.size=q.size,this};function qi(j){var F=this.__data__=new P(j);this.size=F.size}qi.prototype.clear=O,qi.prototype.delete=$,qi.prototype.get=X,qi.prototype.has=se,qi.prototype.set=Tm;const Im=qi,Mm=function(j,F){for(var q=-1,ne=j==null?0:j.length;++q<ne&&F(j[q],q,j)!==!1;);return j},Bo=function(){try{var j=kn(Object,"defineProperty");return j({},"",{}),j}catch{}}(),rc=function(j,F,q){F=="__proto__"&&Bo?Bo(j,F,{configurable:!0,enumerable:!0,value:q,writable:!0}):j[F]=q};var ah=Object.prototype.hasOwnProperty;const ch=function(j,F,q){var ne=j[F];ah.call(j,F)&&it(ne,q)&&(q!==void 0||F in j)||rc(j,F,q)},oc=function(j,F,q,ne){var Ie=!q;q||(q={});for(var We=-1,qe=F.length;++We<qe;){var Qe=F[We],Gt=ne?ne(q[Qe],j[Qe],Qe,q,j):void 0;Gt===void 0&&(Gt=j[Qe]),Ie?rc(q,Qe,Gt):ch(q,Qe,Gt)}return q},di=function(j,F){for(var q=-1,ne=Array(j);++q<j;)ne[q]=F(q);return ne},lh=function(j){return ge(j)&&ke(j)=="[object Arguments]"};var uh=Object.prototype,Pm=uh.hasOwnProperty,Nm=uh.propertyIsEnumerable;const Om=lh(function(){return arguments}())?lh:function(j){return ge(j)&&Pm.call(j,"callee")&&!Nm.call(j,"callee")},Fl=Array.isArray,Bm=function(){return!1};var dh=r&&!r.nodeType&&r,Ro=dh&&!0&&n&&!n.nodeType&&n,Ki=Ro&&Ro.exports===dh?L.Buffer:void 0;const Gi=(Ki?Ki.isBuffer:void 0)||Bm;var Rm=/^(?:0|[1-9]\d*)$/;const Lm=function(j,F){var q=typeof j;return!!(F=F??9007199254740991)&&(q=="number"||q!="symbol"&&Rm.test(j))&&j>-1&&j%1==0&&j<F},hh=function(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=9007199254740991};var jt={};jt["[object Float32Array]"]=jt["[object Float64Array]"]=jt["[object Int8Array]"]=jt["[object Int16Array]"]=jt["[object Int32Array]"]=jt["[object Uint8Array]"]=jt["[object Uint8ClampedArray]"]=jt["[object Uint16Array]"]=jt["[object Uint32Array]"]=!0,jt["[object Arguments]"]=jt["[object Array]"]=jt["[object ArrayBuffer]"]=jt["[object Boolean]"]=jt["[object DataView]"]=jt["[object Date]"]=jt["[object Error]"]=jt["[object Function]"]=jt["[object Map]"]=jt["[object Number]"]=jt["[object Object]"]=jt["[object RegExp]"]=jt["[object Set]"]=jt["[object String]"]=jt["[object WeakMap]"]=!1;const jm=function(j){return ge(j)&&hh(j.length)&&!!jt[ke(j)]},Ul=function(j){return function(F){return j(F)}};var ph=r&&!r.nodeType&&r,Ur=ph&&!0&&n&&!n.nodeType&&n,ic=Ur&&Ur.exports===ph&&N.process;const Qi=function(){try{var j=Ur&&Ur.require&&Ur.require("util").types;return j||ic&&ic.binding&&ic.binding("util")}catch{}}();var fh=Qi&&Qi.isTypedArray;const sc=fh?Ul(fh):jm;var zm=Object.prototype.hasOwnProperty;const gh=function(j,F){var q=Fl(j),ne=!q&&Om(j),Ie=!q&&!ne&&Gi(j),We=!q&&!ne&&!Ie&&sc(j),qe=q||ne||Ie||We,Qe=qe?di(j.length,String):[],Gt=Qe.length;for(var Ht in j)!F&&!zm.call(j,Ht)||qe&&(Ht=="length"||Ie&&(Ht=="offset"||Ht=="parent")||We&&(Ht=="buffer"||Ht=="byteLength"||Ht=="byteOffset")||Lm(Ht,Gt))||Qe.push(Ht);return Qe};var Fm=Object.prototype;const Vl=function(j){var F=j&&j.constructor;return j===(typeof F=="function"&&F.prototype||Fm)},hi=function(j,F){return function(q){return j(F(q))}},ac=hi(Object.keys,Object);var Um=Object.prototype.hasOwnProperty;const Zi=function(j){if(!Vl(j))return ac(j);var F=[];for(var q in Object(j))Um.call(j,q)&&q!="constructor"&&F.push(q);return F},Ji=function(j){return j!=null&&hh(j.length)&&!ce(j)},Hl=function(j){return Ji(j)?gh(j):Zi(j)},cc=function(j,F){return j&&oc(F,Hl(F),j)},Wl=function(j){var F=[];if(j!=null)for(var q in Object(j))F.push(q);return F};var Vm=Object.prototype.hasOwnProperty;const $l=function(j){if(!B(j))return Wl(j);var F=Vl(j),q=[];for(var ne in j)(ne!="constructor"||!F&&Vm.call(j,ne))&&q.push(ne);return q},Lo=function(j){return Ji(j)?gh(j,!0):$l(j)},Hm=function(j,F){return j&&oc(F,Lo(F),j)};var Yl=r&&!r.nodeType&&r,ql=Yl&&!0&&n&&!n.nodeType&&n,mh=ql&&ql.exports===Yl?L.Buffer:void 0,kh=mh?mh.allocUnsafe:void 0;const Kl=function(j,F){if(F)return j.slice();var q=j.length,ne=kh?kh(q):new j.constructor(q);return j.copy(ne),ne},Wm=function(j,F){var q=-1,ne=j.length;for(F||(F=Array(ne));++q<ne;)F[q]=j[q];return F},bh=function(j,F){for(var q=-1,ne=j==null?0:j.length,Ie=0,We=[];++q<ne;){var qe=j[q];F(qe,q,j)&&(We[Ie++]=qe)}return We},Gl=function(){return[]};var wh=Object.prototype.propertyIsEnumerable,Xi=Object.getOwnPropertySymbols;const Ql=Xi?function(j){return j==null?[]:(j=Object(j),bh(Xi(j),function(F){return wh.call(j,F)}))}:Gl,Zl=function(j,F){return oc(j,Ql(j),F)},Jl=function(j,F){for(var q=-1,ne=F.length,Ie=j.length;++q<ne;)j[Ie+q]=F[q];return j},St=hi(Object.getPrototypeOf,Object),vh=Object.getOwnPropertySymbols?function(j){for(var F=[];j;)Jl(F,Ql(j)),j=St(j);return F}:Gl,Xl=function(j,F){return oc(j,vh(j),F)},eu=function(j,F,q){var ne=F(j);return Fl(j)?ne:Jl(ne,q(j))},Qs=function(j){return eu(j,Hl,Ql)},tu=function(j){return eu(j,Lo,vh)},jo=kn(L,"DataView"),lc=kn(L,"Promise"),Zs=kn(L,"Set"),nu=kn(L,"WeakMap");var ru="[object Map]",yh="[object Promise]",uc="[object Set]",_h="[object WeakMap]",Ch="[object DataView]",$m=yt(jo),dc=yt(Yi),ou=yt(lc),Ym=yt(Zs),qm=yt(nu),pi=ke;(jo&&pi(new jo(new ArrayBuffer(1)))!=Ch||Yi&&pi(new Yi)!=ru||lc&&pi(lc.resolve())!=yh||Zs&&pi(new Zs)!=uc||nu&&pi(new nu)!=_h)&&(pi=function(j){var F=ke(j),q=F=="[object Object]"?j.constructor:void 0,ne=q?yt(q):"";if(ne)switch(ne){case $m:return Ch;case dc:return ru;case ou:return yh;case Ym:return uc;case qm:return _h}return F});const iu=pi;var es=Object.prototype.hasOwnProperty;const Km=function(j){var F=j.length,q=new j.constructor(F);return F&&typeof j[0]=="string"&&es.call(j,"index")&&(q.index=j.index,q.input=j.input),q},su=L.Uint8Array,hc=function(j){var F=new j.constructor(j.byteLength);return new su(F).set(new su(j)),F},Ah=function(j,F){var q=F?hc(j.buffer):j.buffer;return new j.constructor(q,j.byteOffset,j.byteLength)};var xh=/\w*$/;const Eh=function(j){var F=new j.constructor(j.source,xh.exec(j));return F.lastIndex=j.lastIndex,F};var au=te?te.prototype:void 0,Sh=au?au.valueOf:void 0;const Dh=function(j){return Sh?Object(Sh.call(j)):{}},Gm=function(j,F){var q=F?hc(j.buffer):j.buffer;return new j.constructor(q,j.byteOffset,j.length)},Th=function(j,F,q){var ne=j.constructor;switch(F){case"[object ArrayBuffer]":return hc(j);case"[object Boolean]":case"[object Date]":return new ne(+j);case"[object DataView]":return Ah(j,q);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Gm(j,q);case"[object Map]":case"[object Set]":return new ne;case"[object Number]":case"[object String]":return new ne(j);case"[object RegExp]":return Eh(j);case"[object Symbol]":return Dh(j)}};var pc=Object.create;const Qm=function(){function j(){}return function(F){if(!B(F))return{};if(pc)return pc(F);j.prototype=F;var q=new j;return j.prototype=void 0,q}}(),Ih=function(j){return typeof j.constructor!="function"||Vl(j)?{}:Qm(St(j))},Mh=function(j){return ge(j)&&iu(j)=="[object Map]"};var Ph=Qi&&Qi.isMap;const Nh=Ph?Ul(Ph):Mh,cu=function(j){return ge(j)&&iu(j)=="[object Set]"};var Oh=Qi&&Qi.isSet;const lu=Oh?Ul(Oh):cu;var fc="[object Arguments]",gc="[object Function]",mc="[object Object]",Dt={};Dt[fc]=Dt["[object Array]"]=Dt["[object ArrayBuffer]"]=Dt["[object DataView]"]=Dt["[object Boolean]"]=Dt["[object Date]"]=Dt["[object Float32Array]"]=Dt["[object Float64Array]"]=Dt["[object Int8Array]"]=Dt["[object Int16Array]"]=Dt["[object Int32Array]"]=Dt["[object Map]"]=Dt["[object Number]"]=Dt[mc]=Dt["[object RegExp]"]=Dt["[object Set]"]=Dt["[object String]"]=Dt["[object Symbol]"]=Dt["[object Uint8Array]"]=Dt["[object Uint8ClampedArray]"]=Dt["[object Uint16Array]"]=Dt["[object Uint32Array]"]=!0,Dt["[object Error]"]=Dt[gc]=Dt["[object WeakMap]"]=!1;const Bh=function j(F,q,ne,Ie,We,qe){var Qe,Gt=1&q,Ht=2&q,bc=4&q;if(ne&&(Qe=We?ne(F,Ie,We,qe):ne(F)),Qe!==void 0)return Qe;if(!B(F))return F;var Fo=Fl(F);if(Fo){if(Qe=Km(F),!Gt)return Wm(F,Qe)}else{var Vr=iu(F),fi=Vr==gc||Vr=="[object GeneratorFunction]";if(Gi(F))return Kl(F,Gt);if(Vr==mc||Vr==fc||fi&&!We){if(Qe=Ht||fi?{}:Ih(F),!Gt)return Ht?Xl(F,Hm(Qe,F)):Zl(F,cc(Qe,F))}else{if(!Dt[Vr])return We?F:{};Qe=Th(F,Vr,Gt)}}qe||(qe=new Im);var ns=qe.get(F);if(ns)return ns;qe.set(F,Qe),lu(F)?F.forEach(function(tt){Qe.add(j(tt,q,ne,tt,F,qe))}):Nh(F)&&F.forEach(function(tt,ur){Qe.set(ur,j(tt,q,ne,ur,F,qe))});var Uo=Fo?void 0:(bc?Ht?tu:Qs:Ht?Lo:Hl)(F);return Mm(Uo||F,function(tt,ur){Uo&&(tt=F[ur=tt]),ch(Qe,ur,j(tt,q,ne,ur,F,qe))}),Qe},Rh=function(j,F){return Bh(j,5,F=typeof F=="function"?F:void 0)};var Lh=Function.prototype,jh=Object.prototype,zh=Lh.toString,Zm=jh.hasOwnProperty,Jm=zh.call(Object);const Xm=function(j){if(!ge(j)||ke(j)!="[object Object]")return!1;var F=St(j);if(F===null)return!0;var q=Zm.call(F,"constructor")&&F.constructor;return typeof q=="function"&&q instanceof q&&zh.call(q)==Jm},ek=function(j){return ge(j)&&j.nodeType===1&&!Xm(j)};class zo extends C{constructor(F,q={}){super(q),this._editor=null,this._throttledSave=je(this._save.bind(this),typeof q.saveInterval=="number"?q.saveInterval:5e3),F&&(this._creator=(ne,Ie)=>F.create(ne,Ie)),this._destructor=ne=>ne.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(F){this._creator=F}setDestructor(F){this._destructor=F}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(F=>{console.error("An error happened during the editor destroying.",F)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const F=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,F,F.context)}}).then(()=>{this._fire("restart")})}create(F=this._elementOrData,q=this._config,ne){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=F,this._config=this._cloneEditorConfiguration(q)||{},this._config.context=ne,this._creator(F,this._config))).then(Ie=>{this._editor=Ie,Ie.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=Ie.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const F=this._editor;return this._editor=null,F.model.document.off("change:data",this._throttledSave),this._destructor(F)})}_save(){const F=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=F}catch(q){console.error(q,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(F){this._excludedProps=F}_getData(){const F={};for(const q of this._editor.model.document.getRootNames())F[q]=this._editor.data.get({rootName:q});return F}_isErrorComingFromThisItem(F){return T(this._editor,F.context,this._excludedProps)}_cloneEditorConfiguration(F){return Rh(F,(q,ne)=>ek(q)||ne==="context"?q:void 0)}}const co=Symbol("MainQueueId");class Fh extends C{constructor(F,q={}){super(q),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new tk,this._watchdogConfig=q,this._creator=ne=>F.create(ne),this._destructor=ne=>ne.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(F){this._creator=F}setDestructor(F){this._destructor=F}get context(){return this._context}create(F={}){return this._actionQueues.enqueue(co,()=>(this._contextConfig=F,this._create()))}getItem(F){return this._getWatchdog(F)._item}getItemState(F){return this._getWatchdog(F).state}add(F){const q=Js(F);return Promise.all(q.map(ne=>this._actionQueues.enqueue(ne.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let Ie;if(this._watchdogs.has(ne.id))throw new Error(`Item with the given id is already added: '${ne.id}'.`);if(ne.type==="editor")return Ie=new zo(null,this._watchdogConfig),Ie.setCreator(ne.creator),Ie._setExcludedProperties(this._contextProps),ne.destructor&&Ie.setDestructor(ne.destructor),this._watchdogs.set(ne.id,Ie),Ie.on("error",(We,{error:qe,causesRestart:Qe})=>{this._fire("itemError",{itemId:ne.id,error:qe}),Qe&&this._actionQueues.enqueue(ne.id,()=>new Promise(Gt=>{const Ht=()=>{Ie.off("restart",Ht),this._fire("itemRestart",{itemId:ne.id}),Gt()};Ie.on("restart",Ht)}))}),Ie.create(ne.sourceElementOrData,ne.config,this._context);throw new Error(`Not supported item type: '${ne.type}'.`)})))}remove(F){const q=Js(F);return Promise.all(q.map(ne=>this._actionQueues.enqueue(ne,()=>{const Ie=this._getWatchdog(ne);return this._watchdogs.delete(ne),Ie.destroy()})))}destroy(){return this._actionQueues.enqueue(co,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(co,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(F=>{console.error("An error happened during destroying the context or items.",F)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(F=>(this._context=F,this._contextProps=x(this._context),Promise.all(Array.from(this._watchdogs.values()).map(q=>(q._setExcludedProperties(this._contextProps),q.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const F=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(q=>q.destroy())).then(()=>this._destructor(F))})}_getWatchdog(F){const q=this._watchdogs.get(F);if(!q)throw new Error(`Item with the given id was not registered: ${F}.`);return q}_isErrorComingFromThisItem(F){for(const q of this._watchdogs.values())if(q._isErrorComingFromThisItem(F))return!1;return T(this._context,F.context)}}class tk{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(F){this._onEmptyCallbacks.push(F)}enqueue(F,q){const ne=F===co;this._activeActions++,this._queues.get(F)||this._queues.set(F,Promise.resolve());const Ie=(ne?Promise.all(this._queues.values()):Promise.all([this._queues.get(co),this._queues.get(F)])).then(q),We=Ie.catch(()=>{});return this._queues.set(F,We),Ie.finally(()=>{this._activeActions--,this._queues.get(F)===We&&this._activeActions===0&&this._onEmptyCallbacks.forEach(qe=>qe())})}}function Js(j){return Array.isArray(j)?j:[j]}const kc=m().createContext("contextWatchdog");class uu extends m().Component{constructor(F,q){super(F,q),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(F){return this._shouldComponentUpdate(F)}async _shouldComponentUpdate(F){return F.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(F.config)),F.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(F.config),!0):this.props.children!==F.children}render(){return m().createElement(kc.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(F){this.contextWatchdog=new Fh(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(q,ne)=>{this.props.onError(ne.error,{phase:"runtime",willContextRestart:ne.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(F).catch(q=>{this.props.onError(q,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}uu.defaultProps={isLayoutReady:!0,onError:(j,F)=>console.error(j,F)},uu.propTypes={id:v().string,isLayoutReady:v().bool,context:v().func,watchdogConfig:v().object,config:v().object,onReady:v().func,onError:v().func};const du="Lock from React integration (@ckeditor/ckeditor5-react)";class ts extends m().Component{constructor(F){super(F),this.editorDestructionInProgress=null,this.domContainer=m().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:q}=window;if(q){const[ne]=q.split(".").map(Number);ne<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(F){return!!this.editor&&(F.id!==this.props.id||F.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(F)&&this.editor.data.set(F.data),"disabled"in F&&(F.disabled?this.editor.enableReadOnlyMode(du):this.editor.disableReadOnlyMode(du)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return m().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof Fh?this.watchdog=new Uh(this.context):this.watchdog=new ts._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((F,q)=>this._createEditor(F,q)),this.watchdog.on("error",(F,{error:q,causesRestart:ne})=>{(this.props.onError||console.error)(q,{phase:"runtime",willEditorRestart:ne})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(F=>{(this.props.onError||console.error)(F,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(F,q){return this.props.editor.create(F,q).then(ne=>{"disabled"in this.props&&this.props.disabled&&ne.enableReadOnlyMode(du);const Ie=ne.model.document,We=ne.editing.view.document;return Ie.on("change:data",qe=>{this.props.onChange&&this.props.onChange(qe,ne)}),We.on("focus",qe=>{this.props.onFocus&&this.props.onFocus(qe,ne)}),We.on("blur",qe=>{this.props.onBlur&&this.props.onBlur(qe,ne)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(ne)}),ne})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(F=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,F()):this.instance?(await this.instance.destroy(),this.instance=null,F()):void F())})}_shouldUpdateEditor(F){return this.props.data!==F.data&&this.editor.data.get()!==F.data}_getConfig(){const F=this.props.config||{};return this.props.data&&F.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...F,initialData:F.initialData||this.props.data||""}}}ts.contextType=kc,ts.propTypes={editor:v().func.isRequired,data:v().string,config:v().object,disableWatchdog:v().bool,watchdogConfig:v().object,onChange:v().func,onReady:v().func,onFocus:v().func,onBlur:v().func,onError:v().func,disabled:v().bool,id:v().any},ts._EditorWatchdog=zo;class Uh{constructor(F){this._contextWatchdog=F,this._id=function(){const q=4294967296*Math.random()>>>0,ne=4294967296*Math.random()>>>0,Ie=4294967296*Math.random()>>>0,We=4294967296*Math.random()>>>0;return"e"+_[q>>0&255]+_[q>>8&255]+_[q>>16&255]+_[q>>24&255]+_[ne>>0&255]+_[ne>>8&255]+_[ne>>16&255]+_[ne>>24&255]+_[Ie>>0&255]+_[Ie>>8&255]+_[Ie>>16&255]+_[Ie>>24&255]+_[We>>0&255]+_[We>>8&255]+_[We>>16&255]+_[We>>24&255]}()}setCreator(F){this._creator=F}create(F,q){return this._contextWatchdog.add({sourceElementOrData:F,config:q,creator:this._creator,id:this._id,type:"editor"})}on(F,q){this._contextWatchdog.on("itemError",(ne,{itemId:Ie,error:We})=>{Ie===this._id&&q(null,{error:We,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}})(),h})())})(Ag,Ag.exports);var qK=Ag.exports,mN={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var r={}.hasOwnProperty;function o(){for(var s=[],a=0;a<arguments.length;a++){var u=arguments[a];if(u){var h=typeof u;if(h==="string"||h==="number")s.push(u);else if(Array.isArray(u)){if(u.length){var f=o.apply(null,u);f&&s.push(f)}}else if(h==="object"){if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]")){s.push(u.toString());continue}for(var m in u)r.call(u,m)&&u[m]&&s.push(m)}}}return s.join(" ")}n.exports?(o.default=o,n.exports=o):window.classNames=o})()})(mN);var KK=mN.exports;const ar=Ha(KK);function io(n){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},io(n)}function _e(n,r){if(r.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+r.length+" present")}function zy(n){return _e(1,arguments),n instanceof Date||io(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Te(n){_e(1,arguments);var r=Object.prototype.toString.call(n);return n instanceof Date||io(n)==="object"&&r==="[object Date]"?new Date(n.getTime()):typeof n=="number"||r==="[object Number]"?new Date(n):((typeof n=="string"||r==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function xg(n){if(_e(1,arguments),!zy(n)&&typeof n!="number")return!1;var r=Te(n);return!isNaN(Number(r))}function Xe(n){if(n===null||n===!0||n===!1)return NaN;var r=Number(n);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}function Fy(n,r){_e(2,arguments);var o=Te(n).getTime(),s=Xe(r);return new Date(o+s)}function kN(n,r){_e(2,arguments);var o=Xe(r);return Fy(n,-o)}var GK=864e5;function QK(n){_e(1,arguments);var r=Te(n),o=r.getTime();r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0);var s=r.getTime(),a=o-s;return Math.floor(a/GK)+1}function Cl(n){_e(1,arguments);var r=1,o=Te(n),s=o.getUTCDay(),a=(s<r?7:0)+s-r;return o.setUTCDate(o.getUTCDate()-a),o.setUTCHours(0,0,0,0),o}function bN(n){_e(1,arguments);var r=Te(n),o=r.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(o+1,0,4),s.setUTCHours(0,0,0,0);var a=Cl(s),u=new Date(0);u.setUTCFullYear(o,0,4),u.setUTCHours(0,0,0,0);var h=Cl(u);return r.getTime()>=a.getTime()?o+1:r.getTime()>=h.getTime()?o:o-1}function ZK(n){_e(1,arguments);var r=bN(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var s=Cl(o);return s}var JK=6048e5;function wN(n){_e(1,arguments);var r=Te(n),o=Cl(r).getTime()-ZK(r).getTime();return Math.round(o/JK)+1}var XK={};function Ja(){return XK}function Ua(n,r){var o,s,a,u,h,f,m,k;_e(1,arguments);var v=Ja(),_=Xe((o=(s=(a=(u=r?.weekStartsOn)!==null&&u!==void 0?u:r==null||(h=r.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&a!==void 0?a:v.weekStartsOn)!==null&&s!==void 0?s:(m=v.locale)===null||m===void 0||(k=m.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&o!==void 0?o:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var C=Te(n),x=C.getUTCDay(),S=(x<_?7:0)+x-_;return C.setUTCDate(C.getUTCDate()-S),C.setUTCHours(0,0,0,0),C}function Uy(n,r){var o,s,a,u,h,f,m,k;_e(1,arguments);var v=Te(n),_=v.getUTCFullYear(),C=Ja(),x=Xe((o=(s=(a=(u=r?.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(h=r.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&a!==void 0?a:C.firstWeekContainsDate)!==null&&s!==void 0?s:(m=C.locale)===null||m===void 0||(k=m.options)===null||k===void 0?void 0:k.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=new Date(0);S.setUTCFullYear(_+1,0,x),S.setUTCHours(0,0,0,0);var T=Ua(S,r),B=new Date(0);B.setUTCFullYear(_,0,x),B.setUTCHours(0,0,0,0);var N=Ua(B,r);return v.getTime()>=T.getTime()?_+1:v.getTime()>=N.getTime()?_:_-1}function eG(n,r){var o,s,a,u,h,f,m,k;_e(1,arguments);var v=Ja(),_=Xe((o=(s=(a=(u=r?.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(h=r.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&a!==void 0?a:v.firstWeekContainsDate)!==null&&s!==void 0?s:(m=v.locale)===null||m===void 0||(k=m.options)===null||k===void 0?void 0:k.firstWeekContainsDate)!==null&&o!==void 0?o:1),C=Uy(n,r),x=new Date(0);x.setUTCFullYear(C,0,_),x.setUTCHours(0,0,0,0);var S=Ua(x,r);return S}var tG=6048e5;function vN(n,r){_e(1,arguments);var o=Te(n),s=Ua(o,r).getTime()-eG(o,r).getTime();return Math.round(s/tG)+1}function Pt(n,r){for(var o=n<0?"-":"",s=Math.abs(n).toString();s.length<r;)s="0"+s;return o+s}var nG={y:function(r,o){var s=r.getUTCFullYear(),a=s>0?s:1-s;return Pt(o==="yy"?a%100:a,o.length)},M:function(r,o){var s=r.getUTCMonth();return o==="M"?String(s+1):Pt(s+1,2)},d:function(r,o){return Pt(r.getUTCDate(),o.length)},a:function(r,o){var s=r.getUTCHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h:function(r,o){return Pt(r.getUTCHours()%12||12,o.length)},H:function(r,o){return Pt(r.getUTCHours(),o.length)},m:function(r,o){return Pt(r.getUTCMinutes(),o.length)},s:function(r,o){return Pt(r.getUTCSeconds(),o.length)},S:function(r,o){var s=o.length,a=r.getUTCMilliseconds(),u=Math.floor(a*Math.pow(10,s-3));return Pt(u,o.length)}};const ps=nG;var $c={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rG={G:function(r,o,s){var a=r.getUTCFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(r,o,s){if(o==="yo"){var a=r.getUTCFullYear(),u=a>0?a:1-a;return s.ordinalNumber(u,{unit:"year"})}return ps.y(r,o)},Y:function(r,o,s,a){var u=Uy(r,a),h=u>0?u:1-u;if(o==="YY"){var f=h%100;return Pt(f,2)}return o==="Yo"?s.ordinalNumber(h,{unit:"year"}):Pt(h,o.length)},R:function(r,o){var s=bN(r);return Pt(s,o.length)},u:function(r,o){var s=r.getUTCFullYear();return Pt(s,o.length)},Q:function(r,o,s){var a=Math.ceil((r.getUTCMonth()+1)/3);switch(o){case"Q":return String(a);case"QQ":return Pt(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(r,o,s){var a=Math.ceil((r.getUTCMonth()+1)/3);switch(o){case"q":return String(a);case"qq":return Pt(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(r,o,s){var a=r.getUTCMonth();switch(o){case"M":case"MM":return ps.M(r,o);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(r,o,s){var a=r.getUTCMonth();switch(o){case"L":return String(a+1);case"LL":return Pt(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(r,o,s,a){var u=vN(r,a);return o==="wo"?s.ordinalNumber(u,{unit:"week"}):Pt(u,o.length)},I:function(r,o,s){var a=wN(r);return o==="Io"?s.ordinalNumber(a,{unit:"week"}):Pt(a,o.length)},d:function(r,o,s){return o==="do"?s.ordinalNumber(r.getUTCDate(),{unit:"date"}):ps.d(r,o)},D:function(r,o,s){var a=QK(r);return o==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):Pt(a,o.length)},E:function(r,o,s){var a=r.getUTCDay();switch(o){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(r,o,s,a){var u=r.getUTCDay(),h=(u-a.weekStartsOn+8)%7||7;switch(o){case"e":return String(h);case"ee":return Pt(h,2);case"eo":return s.ordinalNumber(h,{unit:"day"});case"eee":return s.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(u,{width:"short",context:"formatting"});case"eeee":default:return s.day(u,{width:"wide",context:"formatting"})}},c:function(r,o,s,a){var u=r.getUTCDay(),h=(u-a.weekStartsOn+8)%7||7;switch(o){case"c":return String(h);case"cc":return Pt(h,o.length);case"co":return s.ordinalNumber(h,{unit:"day"});case"ccc":return s.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(u,{width:"narrow",context:"standalone"});case"cccccc":return s.day(u,{width:"short",context:"standalone"});case"cccc":default:return s.day(u,{width:"wide",context:"standalone"})}},i:function(r,o,s){var a=r.getUTCDay(),u=a===0?7:a;switch(o){case"i":return String(u);case"ii":return Pt(u,o.length);case"io":return s.ordinalNumber(u,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(r,o,s){var a=r.getUTCHours(),u=a/12>=1?"pm":"am";switch(o){case"a":case"aa":return s.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(u,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(r,o,s){var a=r.getUTCHours(),u;switch(a===12?u=$c.noon:a===0?u=$c.midnight:u=a/12>=1?"pm":"am",o){case"b":case"bb":return s.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(u,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(r,o,s){var a=r.getUTCHours(),u;switch(a>=17?u=$c.evening:a>=12?u=$c.afternoon:a>=4?u=$c.morning:u=$c.night,o){case"B":case"BB":case"BBB":return s.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(u,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(r,o,s){if(o==="ho"){var a=r.getUTCHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return ps.h(r,o)},H:function(r,o,s){return o==="Ho"?s.ordinalNumber(r.getUTCHours(),{unit:"hour"}):ps.H(r,o)},K:function(r,o,s){var a=r.getUTCHours()%12;return o==="Ko"?s.ordinalNumber(a,{unit:"hour"}):Pt(a,o.length)},k:function(r,o,s){var a=r.getUTCHours();return a===0&&(a=24),o==="ko"?s.ordinalNumber(a,{unit:"hour"}):Pt(a,o.length)},m:function(r,o,s){return o==="mo"?s.ordinalNumber(r.getUTCMinutes(),{unit:"minute"}):ps.m(r,o)},s:function(r,o,s){return o==="so"?s.ordinalNumber(r.getUTCSeconds(),{unit:"second"}):ps.s(r,o)},S:function(r,o){return ps.S(r,o)},X:function(r,o,s,a){var u=a._originalDate||r,h=u.getTimezoneOffset();if(h===0)return"Z";switch(o){case"X":return wI(h);case"XXXX":case"XX":return Ca(h);case"XXXXX":case"XXX":default:return Ca(h,":")}},x:function(r,o,s,a){var u=a._originalDate||r,h=u.getTimezoneOffset();switch(o){case"x":return wI(h);case"xxxx":case"xx":return Ca(h);case"xxxxx":case"xxx":default:return Ca(h,":")}},O:function(r,o,s,a){var u=a._originalDate||r,h=u.getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+bI(h,":");case"OOOO":default:return"GMT"+Ca(h,":")}},z:function(r,o,s,a){var u=a._originalDate||r,h=u.getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+bI(h,":");case"zzzz":default:return"GMT"+Ca(h,":")}},t:function(r,o,s,a){var u=a._originalDate||r,h=Math.floor(u.getTime()/1e3);return Pt(h,o.length)},T:function(r,o,s,a){var u=a._originalDate||r,h=u.getTime();return Pt(h,o.length)}};function bI(n,r){var o=n>0?"-":"+",s=Math.abs(n),a=Math.floor(s/60),u=s%60;if(u===0)return o+String(a);var h=r||"";return o+String(a)+h+Pt(u,2)}function wI(n,r){if(n%60===0){var o=n>0?"-":"+";return o+Pt(Math.abs(n)/60,2)}return Ca(n,r)}function Ca(n,r){var o=r||"",s=n>0?"-":"+",a=Math.abs(n),u=Pt(Math.floor(a/60),2),h=Pt(a%60,2);return s+u+o+h}const oG=rG;var vI=function(r,o){switch(r){case"P":return o.date({width:"short"});case"PP":return o.date({width:"medium"});case"PPP":return o.date({width:"long"});case"PPPP":default:return o.date({width:"full"})}},yN=function(r,o){switch(r){case"p":return o.time({width:"short"});case"pp":return o.time({width:"medium"});case"ppp":return o.time({width:"long"});case"pppp":default:return o.time({width:"full"})}},iG=function(r,o){var s=r.match(/(P+)(p+)?/)||[],a=s[1],u=s[2];if(!u)return vI(r,o);var h;switch(a){case"P":h=o.dateTime({width:"short"});break;case"PP":h=o.dateTime({width:"medium"});break;case"PPP":h=o.dateTime({width:"long"});break;case"PPPP":default:h=o.dateTime({width:"full"});break}return h.replace("{{date}}",vI(a,o)).replace("{{time}}",yN(u,o))},sG={p:yN,P:iG};const p0=sG;function Eg(n){var r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),n.getTime()-r.getTime()}var aG=["D","DD"],cG=["YY","YYYY"];function _N(n){return aG.indexOf(n)!==-1}function CN(n){return cG.indexOf(n)!==-1}function Sg(n,r,o){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(r,"`) for formatting years to the input `").concat(o,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(r,"`) for formatting years to the input `").concat(o,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(r,"`) for formatting days of the month to the input `").concat(o,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(r,"`) for formatting days of the month to the input `").concat(o,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var lG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uG=function(r,o,s){var a,u=lG[r];return typeof u=="string"?a=u:o===1?a=u.one:a=u.other.replace("{{count}}",o.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};const dG=uG;function Ow(n){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=r.width?String(r.width):n.defaultWidth,s=n.formats[o]||n.formats[n.defaultWidth];return s}}var hG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gG={date:Ow({formats:hG,defaultWidth:"full"}),time:Ow({formats:pG,defaultWidth:"full"}),dateTime:Ow({formats:fG,defaultWidth:"full"})};const mG=gG;var kG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bG=function(r,o,s,a){return kG[r]};const wG=bG;function Ku(n){return function(r,o){var s=o!=null&&o.context?String(o.context):"standalone",a;if(s==="formatting"&&n.formattingValues){var u=n.defaultFormattingWidth||n.defaultWidth,h=o!=null&&o.width?String(o.width):u;a=n.formattingValues[h]||n.formattingValues[u]}else{var f=n.defaultWidth,m=o!=null&&o.width?String(o.width):n.defaultWidth;a=n.values[m]||n.values[f]}var k=n.argumentCallback?n.argumentCallback(r):r;return a[k]}}var vG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_G={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},AG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},EG=function(r,o){var s=Number(r),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},SG={ordinalNumber:EG,era:Ku({values:vG,defaultWidth:"wide"}),quarter:Ku({values:yG,defaultWidth:"wide",argumentCallback:function(r){return r-1}}),month:Ku({values:_G,defaultWidth:"wide"}),day:Ku({values:CG,defaultWidth:"wide"}),dayPeriod:Ku({values:AG,defaultWidth:"wide",formattingValues:xG,defaultFormattingWidth:"wide"})};const DG=SG;function Gu(n){return function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.width,a=s&&n.matchPatterns[s]||n.matchPatterns[n.defaultMatchWidth],u=r.match(a);if(!u)return null;var h=u[0],f=s&&n.parsePatterns[s]||n.parsePatterns[n.defaultParseWidth],m=Array.isArray(f)?IG(f,function(_){return _.test(h)}):TG(f,function(_){return _.test(h)}),k;k=n.valueCallback?n.valueCallback(m):m,k=o.valueCallback?o.valueCallback(k):k;var v=r.slice(h.length);return{value:k,rest:v}}}function TG(n,r){for(var o in n)if(n.hasOwnProperty(o)&&r(n[o]))return o}function IG(n,r){for(var o=0;o<n.length;o++)if(r(n[o]))return o}function MG(n){return function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.match(n.matchPattern);if(!s)return null;var a=s[0],u=r.match(n.parsePattern);if(!u)return null;var h=n.valueCallback?n.valueCallback(u[0]):u[0];h=o.valueCallback?o.valueCallback(h):h;var f=r.slice(a.length);return{value:h,rest:f}}}var PG=/^(\d+)(th|st|nd|rd)?/i,NG=/\d+/i,OG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BG={any:[/^b/i,/^(a|c)/i]},RG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LG={any:[/1/i,/2/i,/3/i,/4/i]},jG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},FG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},UG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},VG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},HG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},WG={ordinalNumber:MG({matchPattern:PG,parsePattern:NG,valueCallback:function(r){return parseInt(r,10)}}),era:Gu({matchPatterns:OG,defaultMatchWidth:"wide",parsePatterns:BG,defaultParseWidth:"any"}),quarter:Gu({matchPatterns:RG,defaultMatchWidth:"wide",parsePatterns:LG,defaultParseWidth:"any",valueCallback:function(r){return r+1}}),month:Gu({matchPatterns:jG,defaultMatchWidth:"wide",parsePatterns:zG,defaultParseWidth:"any"}),day:Gu({matchPatterns:FG,defaultMatchWidth:"wide",parsePatterns:UG,defaultParseWidth:"any"}),dayPeriod:Gu({matchPatterns:VG,defaultMatchWidth:"any",parsePatterns:HG,defaultParseWidth:"any"})};const $G=WG;var YG={code:"en-US",formatDistance:dG,formatLong:mG,formatRelative:wG,localize:DG,match:$G,options:{weekStartsOn:0,firstWeekContainsDate:1}};const AN=YG;var qG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GG=/^'([^]*?)'?$/,QG=/''/g,ZG=/[a-zA-Z]/;function yI(n,r,o){var s,a,u,h,f,m,k,v,_,C,x,S,T,B,N,I,L,V;_e(2,arguments);var K=String(r),Z=Ja(),Q=(s=(a=o?.locale)!==null&&a!==void 0?a:Z.locale)!==null&&s!==void 0?s:AN,z=Xe((u=(h=(f=(m=o?.firstWeekContainsDate)!==null&&m!==void 0?m:o==null||(k=o.locale)===null||k===void 0||(v=k.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&f!==void 0?f:Z.firstWeekContainsDate)!==null&&h!==void 0?h:(_=Z.locale)===null||_===void 0||(C=_.options)===null||C===void 0?void 0:C.firstWeekContainsDate)!==null&&u!==void 0?u:1);if(!(z>=1&&z<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var te=Xe((x=(S=(T=(B=o?.weekStartsOn)!==null&&B!==void 0?B:o==null||(N=o.locale)===null||N===void 0||(I=N.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&T!==void 0?T:Z.weekStartsOn)!==null&&S!==void 0?S:(L=Z.locale)===null||L===void 0||(V=L.options)===null||V===void 0?void 0:V.weekStartsOn)!==null&&x!==void 0?x:0);if(!(te>=0&&te<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!Q.localize)throw new RangeError("locale must contain localize property");if(!Q.formatLong)throw new RangeError("locale must contain formatLong property");var ae=Te(n);if(!xg(ae))throw new RangeError("Invalid time value");var Ce=Eg(ae),Me=kN(ae,Ce),Ae={firstWeekContainsDate:z,weekStartsOn:te,locale:Q,_originalDate:ae},et=K.match(KG).map(function(Pe){var Re=Pe[0];if(Re==="p"||Re==="P"){var He=p0[Re];return He(Pe,Q.formatLong)}return Pe}).join("").match(qG).map(function(Pe){if(Pe==="''")return"'";var Re=Pe[0];if(Re==="'")return JG(Pe);var He=oG[Re];if(He)return!(o!=null&&o.useAdditionalWeekYearTokens)&&CN(Pe)&&Sg(Pe,r,String(n)),!(o!=null&&o.useAdditionalDayOfYearTokens)&&_N(Pe)&&Sg(Pe,r,String(n)),He(Me,Pe,Q.localize,Ae);if(Re.match(ZG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Re+"`");return Pe}).join("");return et}function JG(n){var r=n.match(GG);return r?r[1].replace(QG,"'"):n}var XG=6e4;function f0(n,r){_e(2,arguments);var o=Xe(r);return Fy(n,o*XG)}var eQ=36e5;function tQ(n,r){_e(2,arguments);var o=Xe(r);return Fy(n,o*eQ)}function jl(n,r){_e(2,arguments);var o=Te(n),s=Xe(r);return isNaN(s)?new Date(NaN):(s&&o.setDate(o.getDate()+s),o)}function Vy(n,r){_e(2,arguments);var o=Xe(r),s=o*7;return jl(n,s)}function Io(n,r){_e(2,arguments);var o=Te(n),s=Xe(r);if(isNaN(s))return new Date(NaN);if(!s)return o;var a=o.getDate(),u=new Date(o.getTime());u.setMonth(o.getMonth()+s+1,0);var h=u.getDate();return a>=h?u:(o.setFullYear(u.getFullYear(),u.getMonth(),a),o)}function xN(n,r){_e(2,arguments);var o=Xe(r),s=o*3;return Io(n,s)}function Al(n,r){_e(2,arguments);var o=Xe(r);return Io(n,o*12)}function nQ(n,r){_e(2,arguments);var o=Xe(r);return jl(n,-o)}function rQ(n,r){_e(2,arguments);var o=Xe(r);return Vy(n,-o)}function xl(n,r){_e(2,arguments);var o=Xe(r);return Io(n,-o)}function oQ(n,r){_e(2,arguments);var o=Xe(r);return xN(n,-o)}function Hd(n,r){_e(2,arguments);var o=Xe(r);return Al(n,-o)}function Bw(n){_e(1,arguments);var r=Te(n),o=r.getSeconds();return o}function Or(n){_e(1,arguments);var r=Te(n),o=r.getMinutes();return o}function Br(n){_e(1,arguments);var r=Te(n),o=r.getHours();return o}function iQ(n){_e(1,arguments);var r=Te(n),o=r.getDay();return o}function _I(n){_e(1,arguments);var r=Te(n),o=r.getDate();return o}function EN(n,r){var o,s,a,u,h,f,m,k;_e(1,arguments);var v=Ja(),_=Xe((o=(s=(a=(u=r?.weekStartsOn)!==null&&u!==void 0?u:r==null||(h=r.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&a!==void 0?a:v.weekStartsOn)!==null&&s!==void 0?s:(m=v.locale)===null||m===void 0||(k=m.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&o!==void 0?o:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var C=Te(n),x=C.getDay(),S=(x<_?7:0)+x-_;return C.setDate(C.getDate()-S),C.setHours(0,0,0,0),C}function Dg(n){return _e(1,arguments),EN(n,{weekStartsOn:1})}function sQ(n){_e(1,arguments);var r=Te(n),o=r.getFullYear(),s=new Date(0);s.setFullYear(o+1,0,4),s.setHours(0,0,0,0);var a=Dg(s),u=new Date(0);u.setFullYear(o,0,4),u.setHours(0,0,0,0);var h=Dg(u);return r.getTime()>=a.getTime()?o+1:r.getTime()>=h.getTime()?o:o-1}function aQ(n){_e(1,arguments);var r=sQ(n),o=new Date(0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);var s=Dg(o);return s}var cQ=6048e5;function lQ(n){_e(1,arguments);var r=Te(n),o=Dg(r).getTime()-aQ(r).getTime();return Math.round(o/cQ)+1}function Jn(n){_e(1,arguments);var r=Te(n),o=r.getMonth();return o}function al(n){_e(1,arguments);var r=Te(n),o=Math.floor(r.getMonth()/3)+1;return o}function ot(n){return _e(1,arguments),Te(n).getFullYear()}function g0(n){_e(1,arguments);var r=Te(n),o=r.getTime();return o}function uQ(n,r){_e(2,arguments);var o=Te(n),s=Xe(r);return o.setSeconds(s),o}function md(n,r){_e(2,arguments);var o=Te(n),s=Xe(r);return o.setMinutes(s),o}function kd(n,r){_e(2,arguments);var o=Te(n),s=Xe(r);return o.setHours(s),o}function dQ(n){_e(1,arguments);var r=Te(n),o=r.getFullYear(),s=r.getMonth(),a=new Date(0);return a.setFullYear(o,s+1,0),a.setHours(0,0,0,0),a.getDate()}function rr(n,r){_e(2,arguments);var o=Te(n),s=Xe(r),a=o.getFullYear(),u=o.getDate(),h=new Date(0);h.setFullYear(a,s,15),h.setHours(0,0,0,0);var f=dQ(h);return o.setMonth(s,Math.min(u,f)),o}function Kc(n,r){_e(2,arguments);var o=Te(n),s=Xe(r),a=Math.floor(o.getMonth()/3)+1,u=s-a;return rr(o,o.getMonth()+u*3)}function Ti(n,r){_e(2,arguments);var o=Te(n),s=Xe(r);return isNaN(o.getTime())?new Date(NaN):(o.setFullYear(s),o)}function CI(n){_e(1,arguments);var r;if(n&&typeof n.forEach=="function")r=n;else if(io(n)==="object"&&n!==null)r=Array.prototype.slice.call(n);else return new Date(NaN);var o;return r.forEach(function(s){var a=Te(s);(o===void 0||o>a||isNaN(a.getDate()))&&(o=a)}),o||new Date(NaN)}function AI(n){_e(1,arguments);var r;if(n&&typeof n.forEach=="function")r=n;else if(io(n)==="object"&&n!==null)r=Array.prototype.slice.call(n);else return new Date(NaN);var o;return r.forEach(function(s){var a=Te(s);(o===void 0||o<a||isNaN(Number(a)))&&(o=a)}),o||new Date(NaN)}function ai(n){_e(1,arguments);var r=Te(n);return r.setHours(0,0,0,0),r}var hQ=864e5;function Tg(n,r){_e(2,arguments);var o=ai(n),s=ai(r),a=o.getTime()-Eg(o),u=s.getTime()-Eg(s);return Math.round((a-u)/hQ)}function Ig(n,r){_e(2,arguments);var o=Te(n),s=Te(r),a=o.getFullYear()-s.getFullYear(),u=o.getMonth()-s.getMonth();return a*12+u}function Mg(n,r){_e(2,arguments);var o=Te(n),s=Te(r);return o.getFullYear()-s.getFullYear()}function SN(n){_e(1,arguments);var r=Te(n);return r.setDate(1),r.setHours(0,0,0,0),r}function m0(n){_e(1,arguments);var r=Te(n),o=r.getMonth(),s=o-o%3;return r.setMonth(s,1),r.setHours(0,0,0,0),r}function DN(n){_e(1,arguments);var r=Te(n),o=new Date(0);return o.setFullYear(r.getFullYear(),0,1),o.setHours(0,0,0,0),o}function k0(n){_e(1,arguments);var r=Te(n);return r.setHours(23,59,59,999),r}function pQ(n){_e(1,arguments);var r=Te(n),o=r.getMonth();return r.setFullYear(r.getFullYear(),o+1,0),r.setHours(23,59,59,999),r}function fQ(n){_e(1,arguments);var r=Te(n),o=r.getFullYear();return r.setFullYear(o+1,0,0),r.setHours(23,59,59,999),r}function gQ(n,r){_e(2,arguments);var o=Te(n),s=Te(r);return o.getTime()===s.getTime()}function mQ(n,r){_e(2,arguments);var o=ai(n),s=ai(r);return o.getTime()===s.getTime()}function kQ(n,r){_e(2,arguments);var o=Te(n),s=Te(r);return o.getFullYear()===s.getFullYear()&&o.getMonth()===s.getMonth()}function bQ(n,r){_e(2,arguments);var o=Te(n),s=Te(r);return o.getFullYear()===s.getFullYear()}function wQ(n,r){_e(2,arguments);var o=m0(n),s=m0(r);return o.getTime()===s.getTime()}function Hs(n,r){_e(2,arguments);var o=Te(n),s=Te(r);return o.getTime()>s.getTime()}function Pi(n,r){_e(2,arguments);var o=Te(n),s=Te(r);return o.getTime()<s.getTime()}function Wd(n,r){_e(2,arguments);var o=Te(n).getTime(),s=Te(r.start).getTime(),a=Te(r.end).getTime();if(!(s<=a))throw new RangeError("Invalid interval");return o>=s&&o<=a}function xI(n,r){(r==null||r>n.length)&&(r=n.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=n[o];return s}function vQ(n,r){if(n){if(typeof n=="string")return xI(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return xI(n,r)}}function EI(n,r){var o=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!o){if(Array.isArray(n)||(o=vQ(n))||r&&n&&typeof n.length=="number"){o&&(n=o);var s=0,a=function(){};return{s:a,n:function(){return s>=n.length?{done:!0}:{done:!1,value:n[s++]}},e:function(k){throw k},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,h=!1,f;return{s:function(){o=o.call(n)},n:function(){var k=o.next();return u=k.done,k},e:function(k){h=!0,f=k},f:function(){try{!u&&o.return!=null&&o.return()}finally{if(h)throw f}}}}function yQ(n,r){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o]);return n}function Ee(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function b0(n,r){return b0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},b0(n,r)}function wt(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&b0(n,r)}function Pg(n){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},Pg(n)}function _Q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function CQ(n,r){if(r&&(io(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ee(n)}function vt(n){var r=_Q();return function(){var s=Pg(n),a;if(r){var u=Pg(this).constructor;a=Reflect.construct(s,arguments,u)}else a=s.apply(this,arguments);return CQ(this,a)}}function lt(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function AQ(n,r){if(io(n)!=="object"||n===null)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var s=o.call(n,r||"default");if(io(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function TN(n){var r=AQ(n,"string");return io(r)==="symbol"?r:String(r)}function SI(n,r){for(var o=0;o<r.length;o++){var s=r[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,TN(s.key),s)}}function ut(n,r,o){return r&&SI(n.prototype,r),o&&SI(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}function xe(n,r,o){return r=TN(r),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n}var xQ=10,IN=function(){function n(){lt(this,n),xe(this,"priority",void 0),xe(this,"subPriority",0)}return ut(n,[{key:"validate",value:function(o,s){return!0}}]),n}(),EQ=function(n){wt(o,n);var r=vt(o);function o(s,a,u,h,f){var m;return lt(this,o),m=r.call(this),m.value=s,m.validateValue=a,m.setValue=u,m.priority=h,f&&(m.subPriority=f),m}return ut(o,[{key:"validate",value:function(a,u){return this.validateValue(a,this.value,u)}},{key:"set",value:function(a,u,h){return this.setValue(a,u,this.value,h)}}]),o}(IN),SQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",xQ),xe(Ee(s),"subPriority",-1),s}return ut(o,[{key:"set",value:function(a,u){if(u.timestampIsSet)return a;var h=new Date(0);return h.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),h.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),h}}]),o}(IN),xt=function(){function n(){lt(this,n),xe(this,"incompatibleTokens",void 0),xe(this,"priority",void 0),xe(this,"subPriority",void 0)}return ut(n,[{key:"run",value:function(o,s,a,u){var h=this.parse(o,s,a,u);return h?{setter:new EQ(h.value,this.validate,this.set,this.priority,this.subPriority),rest:h.rest}:null}},{key:"validate",value:function(o,s,a){return!0}}]),n}(),DQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",140),xe(Ee(s),"incompatibleTokens",["R","u","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){switch(u){case"G":case"GG":case"GGG":return h.era(a,{width:"abbreviated"})||h.era(a,{width:"narrow"});case"GGGGG":return h.era(a,{width:"narrow"});case"GGGG":default:return h.era(a,{width:"wide"})||h.era(a,{width:"abbreviated"})||h.era(a,{width:"narrow"})}}},{key:"set",value:function(a,u,h){return u.era=h,a.setUTCFullYear(h,0,1),a.setUTCHours(0,0,0,0),a}}]),o}(xt),Hy=6e4,Wy=36e5,TQ=1e3,pn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ni={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function fn(n,r){return n&&{value:r(n.value),rest:n.rest}}function Jt(n,r){var o=r.match(n);return o?{value:parseInt(o[0],10),rest:r.slice(o[0].length)}:null}function ri(n,r){var o=r.match(n);if(!o)return null;if(o[0]==="Z")return{value:0,rest:r.slice(1)};var s=o[1]==="+"?1:-1,a=o[2]?parseInt(o[2],10):0,u=o[3]?parseInt(o[3],10):0,h=o[5]?parseInt(o[5],10):0;return{value:s*(a*Wy+u*Hy+h*TQ),rest:r.slice(o[0].length)}}function MN(n){return Jt(pn.anyDigitsSigned,n)}function cn(n,r){switch(n){case 1:return Jt(pn.singleDigit,r);case 2:return Jt(pn.twoDigits,r);case 3:return Jt(pn.threeDigits,r);case 4:return Jt(pn.fourDigits,r);default:return Jt(new RegExp("^\\d{1,"+n+"}"),r)}}function Ng(n,r){switch(n){case 1:return Jt(pn.singleDigitSigned,r);case 2:return Jt(pn.twoDigitsSigned,r);case 3:return Jt(pn.threeDigitsSigned,r);case 4:return Jt(pn.fourDigitsSigned,r);default:return Jt(new RegExp("^-?\\d{1,"+n+"}"),r)}}function $y(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function PN(n,r){var o=r>0,s=o?r:1-r,a;if(s<=50)a=n||100;else{var u=s+50,h=Math.floor(u/100)*100,f=n>=u%100;a=n+h-(f?100:0)}return o?a:1-a}function NN(n){return n%400===0||n%4===0&&n%100!==0}var IQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",130),xe(Ee(s),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){var f=function(k){return{year:k,isTwoDigitYear:u==="yy"}};switch(u){case"y":return fn(cn(4,a),f);case"yo":return fn(h.ordinalNumber(a,{unit:"year"}),f);default:return fn(cn(u.length,a),f)}}},{key:"validate",value:function(a,u){return u.isTwoDigitYear||u.year>0}},{key:"set",value:function(a,u,h){var f=a.getUTCFullYear();if(h.isTwoDigitYear){var m=PN(h.year,f);return a.setUTCFullYear(m,0,1),a.setUTCHours(0,0,0,0),a}var k=!("era"in u)||u.era===1?h.year:1-h.year;return a.setUTCFullYear(k,0,1),a.setUTCHours(0,0,0,0),a}}]),o}(xt),MQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",130),xe(Ee(s),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){var f=function(k){return{year:k,isTwoDigitYear:u==="YY"}};switch(u){case"Y":return fn(cn(4,a),f);case"Yo":return fn(h.ordinalNumber(a,{unit:"year"}),f);default:return fn(cn(u.length,a),f)}}},{key:"validate",value:function(a,u){return u.isTwoDigitYear||u.year>0}},{key:"set",value:function(a,u,h,f){var m=Uy(a,f);if(h.isTwoDigitYear){var k=PN(h.year,m);return a.setUTCFullYear(k,0,f.firstWeekContainsDate),a.setUTCHours(0,0,0,0),Ua(a,f)}var v=!("era"in u)||u.era===1?h.year:1-h.year;return a.setUTCFullYear(v,0,f.firstWeekContainsDate),a.setUTCHours(0,0,0,0),Ua(a,f)}}]),o}(xt),PQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",130),xe(Ee(s),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u){return Ng(u==="R"?4:u.length,a)}},{key:"set",value:function(a,u,h){var f=new Date(0);return f.setUTCFullYear(h,0,4),f.setUTCHours(0,0,0,0),Cl(f)}}]),o}(xt),NQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",130),xe(Ee(s),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u){return Ng(u==="u"?4:u.length,a)}},{key:"set",value:function(a,u,h){return a.setUTCFullYear(h,0,1),a.setUTCHours(0,0,0,0),a}}]),o}(xt),OQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",120),xe(Ee(s),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){switch(u){case"Q":case"QQ":return cn(u.length,a);case"Qo":return h.ordinalNumber(a,{unit:"quarter"});case"QQQ":return h.quarter(a,{width:"abbreviated",context:"formatting"})||h.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return h.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return h.quarter(a,{width:"wide",context:"formatting"})||h.quarter(a,{width:"abbreviated",context:"formatting"})||h.quarter(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,u){return u>=1&&u<=4}},{key:"set",value:function(a,u,h){return a.setUTCMonth((h-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),o}(xt),BQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",120),xe(Ee(s),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){switch(u){case"q":case"qq":return cn(u.length,a);case"qo":return h.ordinalNumber(a,{unit:"quarter"});case"qqq":return h.quarter(a,{width:"abbreviated",context:"standalone"})||h.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return h.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return h.quarter(a,{width:"wide",context:"standalone"})||h.quarter(a,{width:"abbreviated",context:"standalone"})||h.quarter(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,u){return u>=1&&u<=4}},{key:"set",value:function(a,u,h){return a.setUTCMonth((h-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),o}(xt),RQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),xe(Ee(s),"priority",110),s}return ut(o,[{key:"parse",value:function(a,u,h){var f=function(k){return k-1};switch(u){case"M":return fn(Jt(pn.month,a),f);case"MM":return fn(cn(2,a),f);case"Mo":return fn(h.ordinalNumber(a,{unit:"month"}),f);case"MMM":return h.month(a,{width:"abbreviated",context:"formatting"})||h.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return h.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return h.month(a,{width:"wide",context:"formatting"})||h.month(a,{width:"abbreviated",context:"formatting"})||h.month(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,u){return u>=0&&u<=11}},{key:"set",value:function(a,u,h){return a.setUTCMonth(h,1),a.setUTCHours(0,0,0,0),a}}]),o}(xt),LQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",110),xe(Ee(s),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){var f=function(k){return k-1};switch(u){case"L":return fn(Jt(pn.month,a),f);case"LL":return fn(cn(2,a),f);case"Lo":return fn(h.ordinalNumber(a,{unit:"month"}),f);case"LLL":return h.month(a,{width:"abbreviated",context:"standalone"})||h.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return h.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return h.month(a,{width:"wide",context:"standalone"})||h.month(a,{width:"abbreviated",context:"standalone"})||h.month(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,u){return u>=0&&u<=11}},{key:"set",value:function(a,u,h){return a.setUTCMonth(h,1),a.setUTCHours(0,0,0,0),a}}]),o}(xt);function jQ(n,r,o){_e(2,arguments);var s=Te(n),a=Xe(r),u=vN(s,o)-a;return s.setUTCDate(s.getUTCDate()-u*7),s}var zQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",100),xe(Ee(s),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){switch(u){case"w":return Jt(pn.week,a);case"wo":return h.ordinalNumber(a,{unit:"week"});default:return cn(u.length,a)}}},{key:"validate",value:function(a,u){return u>=1&&u<=53}},{key:"set",value:function(a,u,h,f){return Ua(jQ(a,h,f),f)}}]),o}(xt);function FQ(n,r){_e(2,arguments);var o=Te(n),s=Xe(r),a=wN(o)-s;return o.setUTCDate(o.getUTCDate()-a*7),o}var UQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",100),xe(Ee(s),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){switch(u){case"I":return Jt(pn.week,a);case"Io":return h.ordinalNumber(a,{unit:"week"});default:return cn(u.length,a)}}},{key:"validate",value:function(a,u){return u>=1&&u<=53}},{key:"set",value:function(a,u,h){return Cl(FQ(a,h))}}]),o}(xt),VQ=[31,28,31,30,31,30,31,31,30,31,30,31],HQ=[31,29,31,30,31,30,31,31,30,31,30,31],WQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",90),xe(Ee(s),"subPriority",1),xe(Ee(s),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){switch(u){case"d":return Jt(pn.date,a);case"do":return h.ordinalNumber(a,{unit:"date"});default:return cn(u.length,a)}}},{key:"validate",value:function(a,u){var h=a.getUTCFullYear(),f=NN(h),m=a.getUTCMonth();return f?u>=1&&u<=HQ[m]:u>=1&&u<=VQ[m]}},{key:"set",value:function(a,u,h){return a.setUTCDate(h),a.setUTCHours(0,0,0,0),a}}]),o}(xt),$Q=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",90),xe(Ee(s),"subpriority",1),xe(Ee(s),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){switch(u){case"D":case"DD":return Jt(pn.dayOfYear,a);case"Do":return h.ordinalNumber(a,{unit:"date"});default:return cn(u.length,a)}}},{key:"validate",value:function(a,u){var h=a.getUTCFullYear(),f=NN(h);return f?u>=1&&u<=366:u>=1&&u<=365}},{key:"set",value:function(a,u,h){return a.setUTCMonth(0,h),a.setUTCHours(0,0,0,0),a}}]),o}(xt);function Yy(n,r,o){var s,a,u,h,f,m,k,v;_e(2,arguments);var _=Ja(),C=Xe((s=(a=(u=(h=o?.weekStartsOn)!==null&&h!==void 0?h:o==null||(f=o.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&u!==void 0?u:_.weekStartsOn)!==null&&a!==void 0?a:(k=_.locale)===null||k===void 0||(v=k.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&s!==void 0?s:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=Te(n),S=Xe(r),T=x.getUTCDay(),B=S%7,N=(B+7)%7,I=(N<C?7:0)+S-T;return x.setUTCDate(x.getUTCDate()+I),x}var YQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",90),xe(Ee(s),"incompatibleTokens",["D","i","e","c","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){switch(u){case"E":case"EE":case"EEE":return h.day(a,{width:"abbreviated",context:"formatting"})||h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return h.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return h.day(a,{width:"wide",context:"formatting"})||h.day(a,{width:"abbreviated",context:"formatting"})||h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,u){return u>=0&&u<=6}},{key:"set",value:function(a,u,h,f){return a=Yy(a,h,f),a.setUTCHours(0,0,0,0),a}}]),o}(xt),qQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",90),xe(Ee(s),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h,f){var m=function(v){var _=Math.floor((v-1)/7)*7;return(v+f.weekStartsOn+6)%7+_};switch(u){case"e":case"ee":return fn(cn(u.length,a),m);case"eo":return fn(h.ordinalNumber(a,{unit:"day"}),m);case"eee":return h.day(a,{width:"abbreviated",context:"formatting"})||h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"});case"eeeee":return h.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return h.day(a,{width:"wide",context:"formatting"})||h.day(a,{width:"abbreviated",context:"formatting"})||h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,u){return u>=0&&u<=6}},{key:"set",value:function(a,u,h,f){return a=Yy(a,h,f),a.setUTCHours(0,0,0,0),a}}]),o}(xt),KQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",90),xe(Ee(s),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h,f){var m=function(v){var _=Math.floor((v-1)/7)*7;return(v+f.weekStartsOn+6)%7+_};switch(u){case"c":case"cc":return fn(cn(u.length,a),m);case"co":return fn(h.ordinalNumber(a,{unit:"day"}),m);case"ccc":return h.day(a,{width:"abbreviated",context:"standalone"})||h.day(a,{width:"short",context:"standalone"})||h.day(a,{width:"narrow",context:"standalone"});case"ccccc":return h.day(a,{width:"narrow",context:"standalone"});case"cccccc":return h.day(a,{width:"short",context:"standalone"})||h.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return h.day(a,{width:"wide",context:"standalone"})||h.day(a,{width:"abbreviated",context:"standalone"})||h.day(a,{width:"short",context:"standalone"})||h.day(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,u){return u>=0&&u<=6}},{key:"set",value:function(a,u,h,f){return a=Yy(a,h,f),a.setUTCHours(0,0,0,0),a}}]),o}(xt);function GQ(n,r){_e(2,arguments);var o=Xe(r);o%7===0&&(o=o-7);var s=1,a=Te(n),u=a.getUTCDay(),h=o%7,f=(h+7)%7,m=(f<s?7:0)+o-u;return a.setUTCDate(a.getUTCDate()+m),a}var QQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",90),xe(Ee(s),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){var f=function(k){return k===0?7:k};switch(u){case"i":case"ii":return cn(u.length,a);case"io":return h.ordinalNumber(a,{unit:"day"});case"iii":return fn(h.day(a,{width:"abbreviated",context:"formatting"})||h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"}),f);case"iiiii":return fn(h.day(a,{width:"narrow",context:"formatting"}),f);case"iiiiii":return fn(h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"}),f);case"iiii":default:return fn(h.day(a,{width:"wide",context:"formatting"})||h.day(a,{width:"abbreviated",context:"formatting"})||h.day(a,{width:"short",context:"formatting"})||h.day(a,{width:"narrow",context:"formatting"}),f)}}},{key:"validate",value:function(a,u){return u>=1&&u<=7}},{key:"set",value:function(a,u,h){return a=GQ(a,h),a.setUTCHours(0,0,0,0),a}}]),o}(xt),ZQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",80),xe(Ee(s),"incompatibleTokens",["b","B","H","k","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){switch(u){case"a":case"aa":case"aaa":return h.dayPeriod(a,{width:"abbreviated",context:"formatting"})||h.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return h.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return h.dayPeriod(a,{width:"wide",context:"formatting"})||h.dayPeriod(a,{width:"abbreviated",context:"formatting"})||h.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,u,h){return a.setUTCHours($y(h),0,0,0),a}}]),o}(xt),JQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",80),xe(Ee(s),"incompatibleTokens",["a","B","H","k","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){switch(u){case"b":case"bb":case"bbb":return h.dayPeriod(a,{width:"abbreviated",context:"formatting"})||h.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return h.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return h.dayPeriod(a,{width:"wide",context:"formatting"})||h.dayPeriod(a,{width:"abbreviated",context:"formatting"})||h.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,u,h){return a.setUTCHours($y(h),0,0,0),a}}]),o}(xt),XQ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",80),xe(Ee(s),"incompatibleTokens",["a","b","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){switch(u){case"B":case"BB":case"BBB":return h.dayPeriod(a,{width:"abbreviated",context:"formatting"})||h.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return h.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return h.dayPeriod(a,{width:"wide",context:"formatting"})||h.dayPeriod(a,{width:"abbreviated",context:"formatting"})||h.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,u,h){return a.setUTCHours($y(h),0,0,0),a}}]),o}(xt),eZ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",70),xe(Ee(s),"incompatibleTokens",["H","K","k","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){switch(u){case"h":return Jt(pn.hour12h,a);case"ho":return h.ordinalNumber(a,{unit:"hour"});default:return cn(u.length,a)}}},{key:"validate",value:function(a,u){return u>=1&&u<=12}},{key:"set",value:function(a,u,h){var f=a.getUTCHours()>=12;return f&&h<12?a.setUTCHours(h+12,0,0,0):!f&&h===12?a.setUTCHours(0,0,0,0):a.setUTCHours(h,0,0,0),a}}]),o}(xt),tZ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",70),xe(Ee(s),"incompatibleTokens",["a","b","h","K","k","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){switch(u){case"H":return Jt(pn.hour23h,a);case"Ho":return h.ordinalNumber(a,{unit:"hour"});default:return cn(u.length,a)}}},{key:"validate",value:function(a,u){return u>=0&&u<=23}},{key:"set",value:function(a,u,h){return a.setUTCHours(h,0,0,0),a}}]),o}(xt),nZ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",70),xe(Ee(s),"incompatibleTokens",["h","H","k","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){switch(u){case"K":return Jt(pn.hour11h,a);case"Ko":return h.ordinalNumber(a,{unit:"hour"});default:return cn(u.length,a)}}},{key:"validate",value:function(a,u){return u>=0&&u<=11}},{key:"set",value:function(a,u,h){var f=a.getUTCHours()>=12;return f&&h<12?a.setUTCHours(h+12,0,0,0):a.setUTCHours(h,0,0,0),a}}]),o}(xt),rZ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",70),xe(Ee(s),"incompatibleTokens",["a","b","h","H","K","t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){switch(u){case"k":return Jt(pn.hour24h,a);case"ko":return h.ordinalNumber(a,{unit:"hour"});default:return cn(u.length,a)}}},{key:"validate",value:function(a,u){return u>=1&&u<=24}},{key:"set",value:function(a,u,h){var f=h<=24?h%24:h;return a.setUTCHours(f,0,0,0),a}}]),o}(xt),oZ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",60),xe(Ee(s),"incompatibleTokens",["t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){switch(u){case"m":return Jt(pn.minute,a);case"mo":return h.ordinalNumber(a,{unit:"minute"});default:return cn(u.length,a)}}},{key:"validate",value:function(a,u){return u>=0&&u<=59}},{key:"set",value:function(a,u,h){return a.setUTCMinutes(h,0,0),a}}]),o}(xt),iZ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",50),xe(Ee(s),"incompatibleTokens",["t","T"]),s}return ut(o,[{key:"parse",value:function(a,u,h){switch(u){case"s":return Jt(pn.second,a);case"so":return h.ordinalNumber(a,{unit:"second"});default:return cn(u.length,a)}}},{key:"validate",value:function(a,u){return u>=0&&u<=59}},{key:"set",value:function(a,u,h){return a.setUTCSeconds(h,0),a}}]),o}(xt),sZ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",30),xe(Ee(s),"incompatibleTokens",["t","T"]),s}return ut(o,[{key:"parse",value:function(a,u){var h=function(m){return Math.floor(m*Math.pow(10,-u.length+3))};return fn(cn(u.length,a),h)}},{key:"set",value:function(a,u,h){return a.setUTCMilliseconds(h),a}}]),o}(xt),aZ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",10),xe(Ee(s),"incompatibleTokens",["t","T","x"]),s}return ut(o,[{key:"parse",value:function(a,u){switch(u){case"X":return ri(ni.basicOptionalMinutes,a);case"XX":return ri(ni.basic,a);case"XXXX":return ri(ni.basicOptionalSeconds,a);case"XXXXX":return ri(ni.extendedOptionalSeconds,a);case"XXX":default:return ri(ni.extended,a)}}},{key:"set",value:function(a,u,h){return u.timestampIsSet?a:new Date(a.getTime()-h)}}]),o}(xt),cZ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",10),xe(Ee(s),"incompatibleTokens",["t","T","X"]),s}return ut(o,[{key:"parse",value:function(a,u){switch(u){case"x":return ri(ni.basicOptionalMinutes,a);case"xx":return ri(ni.basic,a);case"xxxx":return ri(ni.basicOptionalSeconds,a);case"xxxxx":return ri(ni.extendedOptionalSeconds,a);case"xxx":default:return ri(ni.extended,a)}}},{key:"set",value:function(a,u,h){return u.timestampIsSet?a:new Date(a.getTime()-h)}}]),o}(xt),lZ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",40),xe(Ee(s),"incompatibleTokens","*"),s}return ut(o,[{key:"parse",value:function(a){return MN(a)}},{key:"set",value:function(a,u,h){return[new Date(h*1e3),{timestampIsSet:!0}]}}]),o}(xt),uZ=function(n){wt(o,n);var r=vt(o);function o(){var s;lt(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u)),xe(Ee(s),"priority",20),xe(Ee(s),"incompatibleTokens","*"),s}return ut(o,[{key:"parse",value:function(a){return MN(a)}},{key:"set",value:function(a,u,h){return[new Date(h),{timestampIsSet:!0}]}}]),o}(xt),dZ={G:new DQ,y:new IQ,Y:new MQ,R:new PQ,u:new NQ,Q:new OQ,q:new BQ,M:new RQ,L:new LQ,w:new zQ,I:new UQ,d:new WQ,D:new $Q,E:new YQ,e:new qQ,c:new KQ,i:new QQ,a:new ZQ,b:new JQ,B:new XQ,h:new eZ,H:new tZ,K:new nZ,k:new rZ,m:new oZ,s:new iZ,S:new sZ,X:new aZ,x:new cZ,t:new lZ,T:new uZ},hZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fZ=/^'([^]*?)'?$/,gZ=/''/g,mZ=/\S/,kZ=/[a-zA-Z]/;function Rw(n,r,o,s){var a,u,h,f,m,k,v,_,C,x,S,T,B,N,I,L,V,K;_e(3,arguments);var Z=String(n),Q=String(r),z=Ja(),te=(a=(u=s?.locale)!==null&&u!==void 0?u:z.locale)!==null&&a!==void 0?a:AN;if(!te.match)throw new RangeError("locale must contain match property");var ae=Xe((h=(f=(m=(k=s?.firstWeekContainsDate)!==null&&k!==void 0?k:s==null||(v=s.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&m!==void 0?m:z.firstWeekContainsDate)!==null&&f!==void 0?f:(C=z.locale)===null||C===void 0||(x=C.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&h!==void 0?h:1);if(!(ae>=1&&ae<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Ce=Xe((S=(T=(B=(N=s?.weekStartsOn)!==null&&N!==void 0?N:s==null||(I=s.locale)===null||I===void 0||(L=I.options)===null||L===void 0?void 0:L.weekStartsOn)!==null&&B!==void 0?B:z.weekStartsOn)!==null&&T!==void 0?T:(V=z.locale)===null||V===void 0||(K=V.options)===null||K===void 0?void 0:K.weekStartsOn)!==null&&S!==void 0?S:0);if(!(Ce>=0&&Ce<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(Q==="")return Z===""?Te(o):new Date(NaN);var Me={firstWeekContainsDate:ae,weekStartsOn:Ce,locale:te},Ae=[new SQ],et=Q.match(pZ).map(function(Ue){var je=Ue[0];if(je in p0){var pt=p0[je];return pt(Ue,te.formatLong)}return Ue}).join("").match(hZ),Pe=[],Re=EI(et),He;try{var ke=function(){var je=He.value;!(s!=null&&s.useAdditionalWeekYearTokens)&&CN(je)&&Sg(je,Q,n),!(s!=null&&s.useAdditionalDayOfYearTokens)&&_N(je)&&Sg(je,Q,n);var pt=je[0],it=dZ[pt];if(it){var Et=it.incompatibleTokens;if(Array.isArray(Et)){var qt=Pe.find(function(ln){return Et.includes(ln.token)||ln.token===pt});if(qt)throw new RangeError("The format string mustn't contain `".concat(qt.fullToken,"` and `").concat(je,"` at the same time"))}else if(it.incompatibleTokens==="*"&&Pe.length>0)throw new RangeError("The format string mustn't contain `".concat(je,"` and any other token at the same time"));Pe.push({token:pt,fullToken:je});var Ve=it.run(Z,je,te.match,Me);if(!Ve)return{v:new Date(NaN)};Ae.push(Ve.setter),Z=Ve.rest}else{if(pt.match(kZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+pt+"`");if(je==="''"?je="'":pt==="'"&&(je=bZ(je)),Z.indexOf(je)===0)Z=Z.slice(je.length);else return{v:new Date(NaN)}}};for(Re.s();!(He=Re.n()).done;){var ge=ke();if(io(ge)==="object")return ge.v}}catch(Ue){Re.e(Ue)}finally{Re.f()}if(Z.length>0&&mZ.test(Z))return new Date(NaN);var le=Ae.map(function(Ue){return Ue.priority}).sort(function(Ue,je){return je-Ue}).filter(function(Ue,je,pt){return pt.indexOf(Ue)===je}).map(function(Ue){return Ae.filter(function(je){return je.priority===Ue}).sort(function(je,pt){return pt.subPriority-je.subPriority})}).map(function(Ue){return Ue[0]}),fe=Te(o);if(isNaN(fe.getTime()))return new Date(NaN);var we=kN(fe,Eg(fe)),Fe={},Le=EI(le),Ze;try{for(Le.s();!(Ze=Le.n()).done;){var Ye=Ze.value;if(!Ye.validate(we,Me))return new Date(NaN);var Ne=Ye.set(we,Fe,Me);Array.isArray(Ne)?(we=Ne[0],yQ(Fe,Ne[1])):we=Ne}}catch(Ue){Le.e(Ue)}finally{Le.f()}return we}function bZ(n){return n.match(fZ)[1].replace(gZ,"'")}function wZ(n,r){var o;_e(1,arguments);var s=Xe((o=r?.additionalDigits)!==null&&o!==void 0?o:2);if(s!==2&&s!==1&&s!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var a=CZ(n),u;if(a.date){var h=AZ(a.date,s);u=xZ(h.restDateString,h.year)}if(!u||isNaN(u.getTime()))return new Date(NaN);var f=u.getTime(),m=0,k;if(a.time&&(m=EZ(a.time),isNaN(m)))return new Date(NaN);if(a.timezone){if(k=SZ(a.timezone),isNaN(k))return new Date(NaN)}else{var v=new Date(f+m),_=new Date(0);return _.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),_.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),_}return new Date(f+m+k)}var pf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},vZ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,yZ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_Z=/^([+-])(\d{2})(?::?(\d{2}))?$/;function CZ(n){var r={},o=n.split(pf.dateTimeDelimiter),s;if(o.length>2)return r;if(/:/.test(o[0])?s=o[0]:(r.date=o[0],s=o[1],pf.timeZoneDelimiter.test(r.date)&&(r.date=n.split(pf.timeZoneDelimiter)[0],s=n.substr(r.date.length,n.length))),s){var a=pf.timezone.exec(s);a?(r.time=s.replace(a[1],""),r.timezone=a[1]):r.time=s}return r}function AZ(n,r){var o=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),s=n.match(o);if(!s)return{year:NaN,restDateString:""};var a=s[1]?parseInt(s[1]):null,u=s[2]?parseInt(s[2]):null;return{year:u===null?a:u*100,restDateString:n.slice((s[1]||s[2]).length)}}function xZ(n,r){if(r===null)return new Date(NaN);var o=n.match(vZ);if(!o)return new Date(NaN);var s=!!o[4],a=Qu(o[1]),u=Qu(o[2])-1,h=Qu(o[3]),f=Qu(o[4]),m=Qu(o[5])-1;if(s)return PZ(r,f,m)?DZ(r,f,m):new Date(NaN);var k=new Date(0);return!IZ(r,u,h)||!MZ(r,a)?new Date(NaN):(k.setUTCFullYear(r,u,Math.max(a,h)),k)}function Qu(n){return n?parseInt(n):1}function EZ(n){var r=n.match(yZ);if(!r)return NaN;var o=Lw(r[1]),s=Lw(r[2]),a=Lw(r[3]);return NZ(o,s,a)?o*Wy+s*Hy+a*1e3:NaN}function Lw(n){return n&&parseFloat(n.replace(",","."))||0}function SZ(n){if(n==="Z")return 0;var r=n.match(_Z);if(!r)return 0;var o=r[1]==="+"?-1:1,s=parseInt(r[2]),a=r[3]&&parseInt(r[3])||0;return OZ(s,a)?o*(s*Wy+a*Hy):NaN}function DZ(n,r,o){var s=new Date(0);s.setUTCFullYear(n,0,4);var a=s.getUTCDay()||7,u=(r-1)*7+o+1-a;return s.setUTCDate(s.getUTCDate()+u),s}var TZ=[31,null,31,30,31,30,31,31,30,31,30,31];function ON(n){return n%400===0||n%4===0&&n%100!==0}function IZ(n,r,o){return r>=0&&r<=11&&o>=1&&o<=(TZ[r]||(ON(n)?29:28))}function MZ(n,r){return r>=1&&r<=(ON(n)?366:365)}function PZ(n,r,o){return r>=1&&r<=53&&o>=0&&o<=6}function NZ(n,r,o){return n===24?r===0&&o===0:o>=0&&o<60&&r>=0&&r<60&&n>=0&&n<25}function OZ(n,r){return r>=0&&r<=59}function BZ(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,w0(n,r)}function w0(n,r){return w0=Object.setPrototypeOf||function(s,a){return s.__proto__=a,s},w0(n,r)}function RZ(n,r){if(n==null)return{};var o={},s=Object.keys(n),a,u;for(u=0;u<s.length;u++)a=s[u],!(r.indexOf(a)>=0)&&(o[a]=n[a]);return o}function DI(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function LZ(n,r,o){return n===r?!0:n.correspondingElement?n.correspondingElement.classList.contains(o):n.classList.contains(o)}function jZ(n,r,o){if(n===r)return!0;for(;n.parentNode||n.host;){if(n.parentNode&&LZ(n,r,o))return!0;n=n.parentNode||n.host}return n}function zZ(n){return document.documentElement.clientWidth<=n.clientX||document.documentElement.clientHeight<=n.clientY}var FZ=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var r=!1,o=Object.defineProperty({},"passive",{get:function(){r=!0}}),s=function(){};return window.addEventListener("testPassiveEventSupport",s,o),window.removeEventListener("testPassiveEventSupport",s,o),r}};function UZ(n){return n===void 0&&(n=0),function(){return++n}}var VZ=UZ(),v0,ff={},jw={},HZ=["touchstart","touchmove"],WZ="ignore-react-onclickoutside";function TI(n,r){var o={},s=HZ.indexOf(r)!==-1;return s&&v0&&(o.passive=!n.props.preventDefault),o}function fm(n,r){var o,s,a=n.displayName||n.name||"Component";return s=o=function(u){BZ(h,u);function h(m){var k;return k=u.call(this,m)||this,k.__outsideClickHandler=function(v){if(typeof k.__clickOutsideHandlerProp=="function"){k.__clickOutsideHandlerProp(v);return}var _=k.getInstance();if(typeof _.props.handleClickOutside=="function"){_.props.handleClickOutside(v);return}if(typeof _.handleClickOutside=="function"){_.handleClickOutside(v);return}throw new Error("WrappedComponent: "+a+" lacks a handleClickOutside(event) function for processing outside click events.")},k.__getComponentNode=function(){var v=k.getInstance();return r&&typeof r.setClickOutsideRef=="function"?r.setClickOutsideRef()(v):typeof v.setClickOutsideRef=="function"?v.setClickOutsideRef():Xg.findDOMNode(v)},k.enableOnClickOutside=function(){if(!(typeof document>"u"||jw[k._uid])){typeof v0>"u"&&(v0=FZ()),jw[k._uid]=!0;var v=k.props.eventTypes;v.forEach||(v=[v]),ff[k._uid]=function(_){if(k.componentNode!==null&&(k.props.preventDefault&&_.preventDefault(),k.props.stopPropagation&&_.stopPropagation(),!(k.props.excludeScrollbar&&zZ(_)))){var C=_.composed&&_.composedPath&&_.composedPath().shift()||_.target;jZ(C,k.componentNode,k.props.outsideClickIgnoreClass)===document&&k.__outsideClickHandler(_)}},v.forEach(function(_){document.addEventListener(_,ff[k._uid],TI(DI(k),_))})}},k.disableOnClickOutside=function(){delete jw[k._uid];var v=ff[k._uid];if(v&&typeof document<"u"){var _=k.props.eventTypes;_.forEach||(_=[_]),_.forEach(function(C){return document.removeEventListener(C,v,TI(DI(k),C))}),delete ff[k._uid]}},k.getRef=function(v){return k.instanceRef=v},k._uid=VZ(),k}var f=h.prototype;return f.getInstance=function(){if(n.prototype&&!n.prototype.isReactComponent)return this;var k=this.instanceRef;return k.getInstance?k.getInstance():k},f.componentDidMount=function(){if(!(typeof document>"u"||!document.createElement)){var k=this.getInstance();if(r&&typeof r.handleClickOutside=="function"&&(this.__clickOutsideHandlerProp=r.handleClickOutside(k),typeof this.__clickOutsideHandlerProp!="function"))throw new Error("WrappedComponent: "+a+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside()}},f.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},f.componentWillUnmount=function(){this.disableOnClickOutside()},f.render=function(){var k=this.props;k.excludeScrollbar;var v=RZ(k,["excludeScrollbar"]);return n.prototype&&n.prototype.isReactComponent?v.ref=this.getRef:v.wrappedRef=this.getRef,v.disableOnClickOutside=this.disableOnClickOutside,v.enableOnClickOutside=this.enableOnClickOutside,ee.createElement(n,v)},h}(ee.Component),o.displayName="OnClickOutside("+a+")",o.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:r&&r.excludeScrollbar||!1,outsideClickIgnoreClass:WZ,preventDefault:!1,stopPropagation:!1},o.getClass=function(){return n.getClass?n.getClass():n},s}var BN=ee.createContext(),RN=ee.createContext();function $Z(n){var r=n.children,o=ee.useState(null),s=o[0],a=o[1],u=ee.useRef(!1);ee.useEffect(function(){return function(){u.current=!0}},[]);var h=ee.useCallback(function(f){u.current||a(f)},[]);return ee.createElement(BN.Provider,{value:s},ee.createElement(RN.Provider,{value:h},r))}var LN=function(r){return Array.isArray(r)?r[0]:r},jN=function(r){if(typeof r=="function"){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];return r.apply(void 0,s)}},y0=function(r,o){if(typeof r=="function")return jN(r,o);r!=null&&(r.current=o)},II=function(r){return r.reduce(function(o,s){var a=s[0],u=s[1];return o[a]=u,o},{})},MI=typeof window<"u"&&window.document&&window.document.createElement?ee.useLayoutEffect:ee.useEffect,yr="top",so="bottom",ao="right",_r="left",qy="auto",th=[yr,so,ao,_r],El="start",$d="end",YZ="clippingParents",zN="viewport",Zu="popper",qZ="reference",PI=th.reduce(function(n,r){return n.concat([r+"-"+El,r+"-"+$d])},[]),FN=[].concat(th,[qy]).reduce(function(n,r){return n.concat([r,r+"-"+El,r+"-"+$d])},[]),KZ="beforeRead",GZ="read",QZ="afterRead",ZZ="beforeMain",JZ="main",XZ="afterMain",eJ="beforeWrite",tJ="write",nJ="afterWrite",rJ=[KZ,GZ,QZ,ZZ,JZ,XZ,eJ,tJ,nJ];function li(n){return n?(n.nodeName||"").toLowerCase():null}function jr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var r=n.ownerDocument;return r&&r.defaultView||window}return n}function Va(n){var r=jr(n).Element;return n instanceof r||n instanceof Element}function no(n){var r=jr(n).HTMLElement;return n instanceof r||n instanceof HTMLElement}function Ky(n){if(typeof ShadowRoot>"u")return!1;var r=jr(n).ShadowRoot;return n instanceof r||n instanceof ShadowRoot}function oJ(n){var r=n.state;Object.keys(r.elements).forEach(function(o){var s=r.styles[o]||{},a=r.attributes[o]||{},u=r.elements[o];!no(u)||!li(u)||(Object.assign(u.style,s),Object.keys(a).forEach(function(h){var f=a[h];f===!1?u.removeAttribute(h):u.setAttribute(h,f===!0?"":f)}))})}function iJ(n){var r=n.state,o={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,o.popper),r.styles=o,r.elements.arrow&&Object.assign(r.elements.arrow.style,o.arrow),function(){Object.keys(r.elements).forEach(function(s){var a=r.elements[s],u=r.attributes[s]||{},h=Object.keys(r.styles.hasOwnProperty(s)?r.styles[s]:o[s]),f=h.reduce(function(m,k){return m[k]="",m},{});!no(a)||!li(a)||(Object.assign(a.style,f),Object.keys(u).forEach(function(m){a.removeAttribute(m)}))})}}const sJ={name:"applyStyles",enabled:!0,phase:"write",fn:oJ,effect:iJ,requires:["computeStyles"]};function ci(n){return n.split("-")[0]}var Oa=Math.max,Og=Math.min,Sl=Math.round;function _0(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function UN(){return!/^((?!chrome|android).)*safari/i.test(_0())}function Dl(n,r,o){r===void 0&&(r=!1),o===void 0&&(o=!1);var s=n.getBoundingClientRect(),a=1,u=1;r&&no(n)&&(a=n.offsetWidth>0&&Sl(s.width)/n.offsetWidth||1,u=n.offsetHeight>0&&Sl(s.height)/n.offsetHeight||1);var h=Va(n)?jr(n):window,f=h.visualViewport,m=!UN()&&o,k=(s.left+(m&&f?f.offsetLeft:0))/a,v=(s.top+(m&&f?f.offsetTop:0))/u,_=s.width/a,C=s.height/u;return{width:_,height:C,top:v,right:k+_,bottom:v+C,left:k,x:k,y:v}}function Gy(n){var r=Dl(n),o=n.offsetWidth,s=n.offsetHeight;return Math.abs(r.width-o)<=1&&(o=r.width),Math.abs(r.height-s)<=1&&(s=r.height),{x:n.offsetLeft,y:n.offsetTop,width:o,height:s}}function VN(n,r){var o=r.getRootNode&&r.getRootNode();if(n.contains(r))return!0;if(o&&Ky(o)){var s=r;do{if(s&&n.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Ui(n){return jr(n).getComputedStyle(n)}function aJ(n){return["table","td","th"].indexOf(li(n))>=0}function Ks(n){return((Va(n)?n.ownerDocument:n.document)||window.document).documentElement}function gm(n){return li(n)==="html"?n:n.assignedSlot||n.parentNode||(Ky(n)?n.host:null)||Ks(n)}function NI(n){return!no(n)||Ui(n).position==="fixed"?null:n.offsetParent}function cJ(n){var r=/firefox/i.test(_0()),o=/Trident/i.test(_0());if(o&&no(n)){var s=Ui(n);if(s.position==="fixed")return null}var a=gm(n);for(Ky(a)&&(a=a.host);no(a)&&["html","body"].indexOf(li(a))<0;){var u=Ui(a);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||r&&u.willChange==="filter"||r&&u.filter&&u.filter!=="none")return a;a=a.parentNode}return null}function nh(n){for(var r=jr(n),o=NI(n);o&&aJ(o)&&Ui(o).position==="static";)o=NI(o);return o&&(li(o)==="html"||li(o)==="body"&&Ui(o).position==="static")?r:o||cJ(n)||r}function Qy(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function bd(n,r,o){return Oa(n,Og(r,o))}function lJ(n,r,o){var s=bd(n,r,o);return s>o?o:s}function HN(){return{top:0,right:0,bottom:0,left:0}}function WN(n){return Object.assign({},HN(),n)}function $N(n,r){return r.reduce(function(o,s){return o[s]=n,o},{})}var uJ=function(r,o){return r=typeof r=="function"?r(Object.assign({},o.rects,{placement:o.placement})):r,WN(typeof r!="number"?r:$N(r,th))};function dJ(n){var r,o=n.state,s=n.name,a=n.options,u=o.elements.arrow,h=o.modifiersData.popperOffsets,f=ci(o.placement),m=Qy(f),k=[_r,ao].indexOf(f)>=0,v=k?"height":"width";if(!(!u||!h)){var _=uJ(a.padding,o),C=Gy(u),x=m==="y"?yr:_r,S=m==="y"?so:ao,T=o.rects.reference[v]+o.rects.reference[m]-h[m]-o.rects.popper[v],B=h[m]-o.rects.reference[m],N=nh(u),I=N?m==="y"?N.clientHeight||0:N.clientWidth||0:0,L=T/2-B/2,V=_[x],K=I-C[v]-_[S],Z=I/2-C[v]/2+L,Q=bd(V,Z,K),z=m;o.modifiersData[s]=(r={},r[z]=Q,r.centerOffset=Q-Z,r)}}function hJ(n){var r=n.state,o=n.options,s=o.element,a=s===void 0?"[data-popper-arrow]":s;a!=null&&(typeof a=="string"&&(a=r.elements.popper.querySelector(a),!a)||VN(r.elements.popper,a)&&(r.elements.arrow=a))}const pJ={name:"arrow",enabled:!0,phase:"main",fn:dJ,effect:hJ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Tl(n){return n.split("-")[1]}var fJ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gJ(n,r){var o=n.x,s=n.y,a=r.devicePixelRatio||1;return{x:Sl(o*a)/a||0,y:Sl(s*a)/a||0}}function OI(n){var r,o=n.popper,s=n.popperRect,a=n.placement,u=n.variation,h=n.offsets,f=n.position,m=n.gpuAcceleration,k=n.adaptive,v=n.roundOffsets,_=n.isFixed,C=h.x,x=C===void 0?0:C,S=h.y,T=S===void 0?0:S,B=typeof v=="function"?v({x,y:T}):{x,y:T};x=B.x,T=B.y;var N=h.hasOwnProperty("x"),I=h.hasOwnProperty("y"),L=_r,V=yr,K=window;if(k){var Z=nh(o),Q="clientHeight",z="clientWidth";if(Z===jr(o)&&(Z=Ks(o),Ui(Z).position!=="static"&&f==="absolute"&&(Q="scrollHeight",z="scrollWidth")),Z=Z,a===yr||(a===_r||a===ao)&&u===$d){V=so;var te=_&&Z===K&&K.visualViewport?K.visualViewport.height:Z[Q];T-=te-s.height,T*=m?1:-1}if(a===_r||(a===yr||a===so)&&u===$d){L=ao;var ae=_&&Z===K&&K.visualViewport?K.visualViewport.width:Z[z];x-=ae-s.width,x*=m?1:-1}}var Ce=Object.assign({position:f},k&&fJ),Me=v===!0?gJ({x,y:T},jr(o)):{x,y:T};if(x=Me.x,T=Me.y,m){var Ae;return Object.assign({},Ce,(Ae={},Ae[V]=I?"0":"",Ae[L]=N?"0":"",Ae.transform=(K.devicePixelRatio||1)<=1?"translate("+x+"px, "+T+"px)":"translate3d("+x+"px, "+T+"px, 0)",Ae))}return Object.assign({},Ce,(r={},r[V]=I?T+"px":"",r[L]=N?x+"px":"",r.transform="",r))}function mJ(n){var r=n.state,o=n.options,s=o.gpuAcceleration,a=s===void 0?!0:s,u=o.adaptive,h=u===void 0?!0:u,f=o.roundOffsets,m=f===void 0?!0:f,k={placement:ci(r.placement),variation:Tl(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:a,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,OI(Object.assign({},k,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:h,roundOffsets:m})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,OI(Object.assign({},k,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}const kJ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:mJ,data:{}};var gf={passive:!0};function bJ(n){var r=n.state,o=n.instance,s=n.options,a=s.scroll,u=a===void 0?!0:a,h=s.resize,f=h===void 0?!0:h,m=jr(r.elements.popper),k=[].concat(r.scrollParents.reference,r.scrollParents.popper);return u&&k.forEach(function(v){v.addEventListener("scroll",o.update,gf)}),f&&m.addEventListener("resize",o.update,gf),function(){u&&k.forEach(function(v){v.removeEventListener("scroll",o.update,gf)}),f&&m.removeEventListener("resize",o.update,gf)}}const wJ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:bJ,data:{}};var vJ={left:"right",right:"left",bottom:"top",top:"bottom"};function Bf(n){return n.replace(/left|right|bottom|top/g,function(r){return vJ[r]})}var yJ={start:"end",end:"start"};function BI(n){return n.replace(/start|end/g,function(r){return yJ[r]})}function Zy(n){var r=jr(n),o=r.pageXOffset,s=r.pageYOffset;return{scrollLeft:o,scrollTop:s}}function Jy(n){return Dl(Ks(n)).left+Zy(n).scrollLeft}function _J(n,r){var o=jr(n),s=Ks(n),a=o.visualViewport,u=s.clientWidth,h=s.clientHeight,f=0,m=0;if(a){u=a.width,h=a.height;var k=UN();(k||!k&&r==="fixed")&&(f=a.offsetLeft,m=a.offsetTop)}return{width:u,height:h,x:f+Jy(n),y:m}}function CJ(n){var r,o=Ks(n),s=Zy(n),a=(r=n.ownerDocument)==null?void 0:r.body,u=Oa(o.scrollWidth,o.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),h=Oa(o.scrollHeight,o.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),f=-s.scrollLeft+Jy(n),m=-s.scrollTop;return Ui(a||o).direction==="rtl"&&(f+=Oa(o.clientWidth,a?a.clientWidth:0)-u),{width:u,height:h,x:f,y:m}}function Xy(n){var r=Ui(n),o=r.overflow,s=r.overflowX,a=r.overflowY;return/auto|scroll|overlay|hidden/.test(o+a+s)}function YN(n){return["html","body","#document"].indexOf(li(n))>=0?n.ownerDocument.body:no(n)&&Xy(n)?n:YN(gm(n))}function wd(n,r){var o;r===void 0&&(r=[]);var s=YN(n),a=s===((o=n.ownerDocument)==null?void 0:o.body),u=jr(s),h=a?[u].concat(u.visualViewport||[],Xy(s)?s:[]):s,f=r.concat(h);return a?f:f.concat(wd(gm(h)))}function C0(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function AJ(n,r){var o=Dl(n,!1,r==="fixed");return o.top=o.top+n.clientTop,o.left=o.left+n.clientLeft,o.bottom=o.top+n.clientHeight,o.right=o.left+n.clientWidth,o.width=n.clientWidth,o.height=n.clientHeight,o.x=o.left,o.y=o.top,o}function RI(n,r,o){return r===zN?C0(_J(n,o)):Va(r)?AJ(r,o):C0(CJ(Ks(n)))}function xJ(n){var r=wd(gm(n)),o=["absolute","fixed"].indexOf(Ui(n).position)>=0,s=o&&no(n)?nh(n):n;return Va(s)?r.filter(function(a){return Va(a)&&VN(a,s)&&li(a)!=="body"}):[]}function EJ(n,r,o,s){var a=r==="clippingParents"?xJ(n):[].concat(r),u=[].concat(a,[o]),h=u[0],f=u.reduce(function(m,k){var v=RI(n,k,s);return m.top=Oa(v.top,m.top),m.right=Og(v.right,m.right),m.bottom=Og(v.bottom,m.bottom),m.left=Oa(v.left,m.left),m},RI(n,h,s));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function qN(n){var r=n.reference,o=n.element,s=n.placement,a=s?ci(s):null,u=s?Tl(s):null,h=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,m;switch(a){case yr:m={x:h,y:r.y-o.height};break;case so:m={x:h,y:r.y+r.height};break;case ao:m={x:r.x+r.width,y:f};break;case _r:m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}var k=a?Qy(a):null;if(k!=null){var v=k==="y"?"height":"width";switch(u){case El:m[k]=m[k]-(r[v]/2-o[v]/2);break;case $d:m[k]=m[k]+(r[v]/2-o[v]/2);break}}return m}function Yd(n,r){r===void 0&&(r={});var o=r,s=o.placement,a=s===void 0?n.placement:s,u=o.strategy,h=u===void 0?n.strategy:u,f=o.boundary,m=f===void 0?YZ:f,k=o.rootBoundary,v=k===void 0?zN:k,_=o.elementContext,C=_===void 0?Zu:_,x=o.altBoundary,S=x===void 0?!1:x,T=o.padding,B=T===void 0?0:T,N=WN(typeof B!="number"?B:$N(B,th)),I=C===Zu?qZ:Zu,L=n.rects.popper,V=n.elements[S?I:C],K=EJ(Va(V)?V:V.contextElement||Ks(n.elements.popper),m,v,h),Z=Dl(n.elements.reference),Q=qN({reference:Z,element:L,strategy:"absolute",placement:a}),z=C0(Object.assign({},L,Q)),te=C===Zu?z:Z,ae={top:K.top-te.top+N.top,bottom:te.bottom-K.bottom+N.bottom,left:K.left-te.left+N.left,right:te.right-K.right+N.right},Ce=n.modifiersData.offset;if(C===Zu&&Ce){var Me=Ce[a];Object.keys(ae).forEach(function(Ae){var et=[ao,so].indexOf(Ae)>=0?1:-1,Pe=[yr,so].indexOf(Ae)>=0?"y":"x";ae[Ae]+=Me[Pe]*et})}return ae}function SJ(n,r){r===void 0&&(r={});var o=r,s=o.placement,a=o.boundary,u=o.rootBoundary,h=o.padding,f=o.flipVariations,m=o.allowedAutoPlacements,k=m===void 0?FN:m,v=Tl(s),_=v?f?PI:PI.filter(function(S){return Tl(S)===v}):th,C=_.filter(function(S){return k.indexOf(S)>=0});C.length===0&&(C=_);var x=C.reduce(function(S,T){return S[T]=Yd(n,{placement:T,boundary:a,rootBoundary:u,padding:h})[ci(T)],S},{});return Object.keys(x).sort(function(S,T){return x[S]-x[T]})}function DJ(n){if(ci(n)===qy)return[];var r=Bf(n);return[BI(n),r,BI(r)]}function TJ(n){var r=n.state,o=n.options,s=n.name;if(!r.modifiersData[s]._skip){for(var a=o.mainAxis,u=a===void 0?!0:a,h=o.altAxis,f=h===void 0?!0:h,m=o.fallbackPlacements,k=o.padding,v=o.boundary,_=o.rootBoundary,C=o.altBoundary,x=o.flipVariations,S=x===void 0?!0:x,T=o.allowedAutoPlacements,B=r.options.placement,N=ci(B),I=N===B,L=m||(I||!S?[Bf(B)]:DJ(B)),V=[B].concat(L).reduce(function(Le,Ze){return Le.concat(ci(Ze)===qy?SJ(r,{placement:Ze,boundary:v,rootBoundary:_,padding:k,flipVariations:S,allowedAutoPlacements:T}):Ze)},[]),K=r.rects.reference,Z=r.rects.popper,Q=new Map,z=!0,te=V[0],ae=0;ae<V.length;ae++){var Ce=V[ae],Me=ci(Ce),Ae=Tl(Ce)===El,et=[yr,so].indexOf(Me)>=0,Pe=et?"width":"height",Re=Yd(r,{placement:Ce,boundary:v,rootBoundary:_,altBoundary:C,padding:k}),He=et?Ae?ao:_r:Ae?so:yr;K[Pe]>Z[Pe]&&(He=Bf(He));var ke=Bf(He),ge=[];if(u&&ge.push(Re[Me]<=0),f&&ge.push(Re[He]<=0,Re[ke]<=0),ge.every(function(Le){return Le})){te=Ce,z=!1;break}Q.set(Ce,ge)}if(z)for(var le=S?3:1,fe=function(Ze){var Ye=V.find(function(Ne){var Ue=Q.get(Ne);if(Ue)return Ue.slice(0,Ze).every(function(je){return je})});if(Ye)return te=Ye,"break"},we=le;we>0;we--){var Fe=fe(we);if(Fe==="break")break}r.placement!==te&&(r.modifiersData[s]._skip=!0,r.placement=te,r.reset=!0)}}const IJ={name:"flip",enabled:!0,phase:"main",fn:TJ,requiresIfExists:["offset"],data:{_skip:!1}};function LI(n,r,o){return o===void 0&&(o={x:0,y:0}),{top:n.top-r.height-o.y,right:n.right-r.width+o.x,bottom:n.bottom-r.height+o.y,left:n.left-r.width-o.x}}function jI(n){return[yr,ao,so,_r].some(function(r){return n[r]>=0})}function MJ(n){var r=n.state,o=n.name,s=r.rects.reference,a=r.rects.popper,u=r.modifiersData.preventOverflow,h=Yd(r,{elementContext:"reference"}),f=Yd(r,{altBoundary:!0}),m=LI(h,s),k=LI(f,a,u),v=jI(m),_=jI(k);r.modifiersData[o]={referenceClippingOffsets:m,popperEscapeOffsets:k,isReferenceHidden:v,hasPopperEscaped:_},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":_})}const PJ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:MJ};function NJ(n,r,o){var s=ci(n),a=[_r,yr].indexOf(s)>=0?-1:1,u=typeof o=="function"?o(Object.assign({},r,{placement:n})):o,h=u[0],f=u[1];return h=h||0,f=(f||0)*a,[_r,ao].indexOf(s)>=0?{x:f,y:h}:{x:h,y:f}}function OJ(n){var r=n.state,o=n.options,s=n.name,a=o.offset,u=a===void 0?[0,0]:a,h=FN.reduce(function(v,_){return v[_]=NJ(_,r.rects,u),v},{}),f=h[r.placement],m=f.x,k=f.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=m,r.modifiersData.popperOffsets.y+=k),r.modifiersData[s]=h}const BJ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:OJ};function RJ(n){var r=n.state,o=n.name;r.modifiersData[o]=qN({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}const LJ={name:"popperOffsets",enabled:!0,phase:"read",fn:RJ,data:{}};function jJ(n){return n==="x"?"y":"x"}function zJ(n){var r=n.state,o=n.options,s=n.name,a=o.mainAxis,u=a===void 0?!0:a,h=o.altAxis,f=h===void 0?!1:h,m=o.boundary,k=o.rootBoundary,v=o.altBoundary,_=o.padding,C=o.tether,x=C===void 0?!0:C,S=o.tetherOffset,T=S===void 0?0:S,B=Yd(r,{boundary:m,rootBoundary:k,padding:_,altBoundary:v}),N=ci(r.placement),I=Tl(r.placement),L=!I,V=Qy(N),K=jJ(V),Z=r.modifiersData.popperOffsets,Q=r.rects.reference,z=r.rects.popper,te=typeof T=="function"?T(Object.assign({},r.rects,{placement:r.placement})):T,ae=typeof te=="number"?{mainAxis:te,altAxis:te}:Object.assign({mainAxis:0,altAxis:0},te),Ce=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,Me={x:0,y:0};if(Z){if(u){var Ae,et=V==="y"?yr:_r,Pe=V==="y"?so:ao,Re=V==="y"?"height":"width",He=Z[V],ke=He+B[et],ge=He-B[Pe],le=x?-z[Re]/2:0,fe=I===El?Q[Re]:z[Re],we=I===El?-z[Re]:-Q[Re],Fe=r.elements.arrow,Le=x&&Fe?Gy(Fe):{width:0,height:0},Ze=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:HN(),Ye=Ze[et],Ne=Ze[Pe],Ue=bd(0,Q[Re],Le[Re]),je=L?Q[Re]/2-le-Ue-Ye-ae.mainAxis:fe-Ue-Ye-ae.mainAxis,pt=L?-Q[Re]/2+le+Ue+Ne+ae.mainAxis:we+Ue+Ne+ae.mainAxis,it=r.elements.arrow&&nh(r.elements.arrow),Et=it?V==="y"?it.clientTop||0:it.clientLeft||0:0,qt=(Ae=Ce?.[V])!=null?Ae:0,Ve=He+je-qt-Et,ln=He+pt-qt,er=bd(x?Og(ke,Ve):ke,He,x?Oa(ge,ln):ge);Z[V]=er,Me[V]=er-He}if(f){var Wi,H=V==="x"?yr:_r,P=V==="x"?so:ao,O=Z[K],$=K==="y"?"height":"width",X=O+B[H],se=O-B[P],ce=[yr,_r].indexOf(N)!==-1,Ge=(Wi=Ce?.[K])!=null?Wi:0,$e=ce?X:O-Q[$]-z[$]-Ge+ae.altAxis,Je=ce?O+Q[$]+z[$]-Ge-ae.altAxis:se,Kt=x&&ce?lJ($e,O,Je):bd(x?$e:X,O,x?Je:se);Z[K]=Kt,Me[K]=Kt-O}r.modifiersData[s]=Me}}const FJ={name:"preventOverflow",enabled:!0,phase:"main",fn:zJ,requiresIfExists:["offset"]};function UJ(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function VJ(n){return n===jr(n)||!no(n)?Zy(n):UJ(n)}function HJ(n){var r=n.getBoundingClientRect(),o=Sl(r.width)/n.offsetWidth||1,s=Sl(r.height)/n.offsetHeight||1;return o!==1||s!==1}function WJ(n,r,o){o===void 0&&(o=!1);var s=no(r),a=no(r)&&HJ(r),u=Ks(r),h=Dl(n,a,o),f={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(s||!s&&!o)&&((li(r)!=="body"||Xy(u))&&(f=VJ(r)),no(r)?(m=Dl(r,!0),m.x+=r.clientLeft,m.y+=r.clientTop):u&&(m.x=Jy(u))),{x:h.left+f.scrollLeft-m.x,y:h.top+f.scrollTop-m.y,width:h.width,height:h.height}}function $J(n){var r=new Map,o=new Set,s=[];n.forEach(function(u){r.set(u.name,u)});function a(u){o.add(u.name);var h=[].concat(u.requires||[],u.requiresIfExists||[]);h.forEach(function(f){if(!o.has(f)){var m=r.get(f);m&&a(m)}}),s.push(u)}return n.forEach(function(u){o.has(u.name)||a(u)}),s}function YJ(n){var r=$J(n);return rJ.reduce(function(o,s){return o.concat(r.filter(function(a){return a.phase===s}))},[])}function qJ(n){var r;return function(){return r||(r=new Promise(function(o){Promise.resolve().then(function(){r=void 0,o(n())})})),r}}function KJ(n){var r=n.reduce(function(o,s){var a=o[s.name];return o[s.name]=a?Object.assign({},a,s,{options:Object.assign({},a.options,s.options),data:Object.assign({},a.data,s.data)}):s,o},{});return Object.keys(r).map(function(o){return r[o]})}var zI={placement:"bottom",modifiers:[],strategy:"absolute"};function FI(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return!r.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function GJ(n){n===void 0&&(n={});var r=n,o=r.defaultModifiers,s=o===void 0?[]:o,a=r.defaultOptions,u=a===void 0?zI:a;return function(f,m,k){k===void 0&&(k=u);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},zI,u),modifiersData:{},elements:{reference:f,popper:m},attributes:{},styles:{}},_=[],C=!1,x={state:v,setOptions:function(N){var I=typeof N=="function"?N(v.options):N;T(),v.options=Object.assign({},u,v.options,I),v.scrollParents={reference:Va(f)?wd(f):f.contextElement?wd(f.contextElement):[],popper:wd(m)};var L=YJ(KJ([].concat(s,v.options.modifiers)));return v.orderedModifiers=L.filter(function(V){return V.enabled}),S(),x.update()},forceUpdate:function(){if(!C){var N=v.elements,I=N.reference,L=N.popper;if(FI(I,L)){v.rects={reference:WJ(I,nh(L),v.options.strategy==="fixed"),popper:Gy(L)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(ae){return v.modifiersData[ae.name]=Object.assign({},ae.data)});for(var V=0;V<v.orderedModifiers.length;V++){if(v.reset===!0){v.reset=!1,V=-1;continue}var K=v.orderedModifiers[V],Z=K.fn,Q=K.options,z=Q===void 0?{}:Q,te=K.name;typeof Z=="function"&&(v=Z({state:v,options:z,name:te,instance:x})||v)}}}},update:qJ(function(){return new Promise(function(B){x.forceUpdate(),B(v)})}),destroy:function(){T(),C=!0}};if(!FI(f,m))return x;x.setOptions(k).then(function(B){!C&&k.onFirstUpdate&&k.onFirstUpdate(B)});function S(){v.orderedModifiers.forEach(function(B){var N=B.name,I=B.options,L=I===void 0?{}:I,V=B.effect;if(typeof V=="function"){var K=V({state:v,name:N,instance:x,options:L}),Z=function(){};_.push(K||Z)}})}function T(){_.forEach(function(B){return B()}),_=[]}return x}}var QJ=[wJ,LJ,kJ,sJ,BJ,IJ,FJ,pJ,PJ],ZJ=GJ({defaultModifiers:QJ}),JJ=typeof Element<"u",XJ=typeof Map=="function",eX=typeof Set=="function",tX=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Rf(n,r){if(n===r)return!0;if(n&&r&&typeof n=="object"&&typeof r=="object"){if(n.constructor!==r.constructor)return!1;var o,s,a;if(Array.isArray(n)){if(o=n.length,o!=r.length)return!1;for(s=o;s--!==0;)if(!Rf(n[s],r[s]))return!1;return!0}var u;if(XJ&&n instanceof Map&&r instanceof Map){if(n.size!==r.size)return!1;for(u=n.entries();!(s=u.next()).done;)if(!r.has(s.value[0]))return!1;for(u=n.entries();!(s=u.next()).done;)if(!Rf(s.value[1],r.get(s.value[0])))return!1;return!0}if(eX&&n instanceof Set&&r instanceof Set){if(n.size!==r.size)return!1;for(u=n.entries();!(s=u.next()).done;)if(!r.has(s.value[0]))return!1;return!0}if(tX&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(r)){if(o=n.length,o!=r.length)return!1;for(s=o;s--!==0;)if(n[s]!==r[s])return!1;return!0}if(n.constructor===RegExp)return n.source===r.source&&n.flags===r.flags;if(n.valueOf!==Object.prototype.valueOf&&typeof n.valueOf=="function"&&typeof r.valueOf=="function")return n.valueOf()===r.valueOf();if(n.toString!==Object.prototype.toString&&typeof n.toString=="function"&&typeof r.toString=="function")return n.toString()===r.toString();if(a=Object.keys(n),o=a.length,o!==Object.keys(r).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;if(JJ&&n instanceof Element)return!1;for(s=o;s--!==0;)if(!((a[s]==="_owner"||a[s]==="__v"||a[s]==="__o")&&n.$$typeof)&&!Rf(n[a[s]],r[a[s]]))return!1;return!0}return n!==n&&r!==r}var nX=function(r,o){try{return Rf(r,o)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}};const rX=Ha(nX);var oX=[],iX=function(r,o,s){s===void 0&&(s={});var a=ee.useRef(null),u={onFirstUpdate:s.onFirstUpdate,placement:s.placement||"bottom",strategy:s.strategy||"absolute",modifiers:s.modifiers||oX},h=ee.useState({styles:{popper:{position:u.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),f=h[0],m=h[1],k=ee.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(x){var S=x.state,T=Object.keys(S.elements);Xg.flushSync(function(){m({styles:II(T.map(function(B){return[B,S.styles[B]||{}]})),attributes:II(T.map(function(B){return[B,S.attributes[B]]}))})})},requires:["computeStyles"]}},[]),v=ee.useMemo(function(){var C={onFirstUpdate:u.onFirstUpdate,placement:u.placement,strategy:u.strategy,modifiers:[].concat(u.modifiers,[k,{name:"applyStyles",enabled:!1}])};return rX(a.current,C)?a.current||C:(a.current=C,C)},[u.onFirstUpdate,u.placement,u.strategy,u.modifiers,k]),_=ee.useRef();return MI(function(){_.current&&_.current.setOptions(v)},[v]),MI(function(){if(!(r==null||o==null)){var C=s.createPopper||ZJ,x=C(r,o,v);return _.current=x,function(){x.destroy(),_.current=null}}},[r,o,s.createPopper]),{state:_.current?_.current.state:null,styles:f.styles,attributes:f.attributes,update:_.current?_.current.update:null,forceUpdate:_.current?_.current.forceUpdate:null}},sX=function(){},aX=function(){return Promise.resolve(null)},cX=[];function lX(n){var r=n.placement,o=r===void 0?"bottom":r,s=n.strategy,a=s===void 0?"absolute":s,u=n.modifiers,h=u===void 0?cX:u,f=n.referenceElement,m=n.onFirstUpdate,k=n.innerRef,v=n.children,_=ee.useContext(BN),C=ee.useState(null),x=C[0],S=C[1],T=ee.useState(null),B=T[0],N=T[1];ee.useEffect(function(){y0(k,x)},[k,x]);var I=ee.useMemo(function(){return{placement:o,strategy:a,onFirstUpdate:m,modifiers:[].concat(h,[{name:"arrow",enabled:B!=null,options:{element:B}}])}},[o,a,m,h,B]),L=iX(f||_,x,I),V=L.state,K=L.styles,Z=L.forceUpdate,Q=L.update,z=ee.useMemo(function(){return{ref:S,style:K.popper,placement:V?V.placement:o,hasPopperEscaped:V&&V.modifiersData.hide?V.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:V&&V.modifiersData.hide?V.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:K.arrow,ref:N},forceUpdate:Z||sX,update:Q||aX}},[S,N,o,V,K,Q,Z]);return LN(v)(z)}var uX=function(){},dX=uX;const hX=Ha(dX);function pX(n){var r=n.children,o=n.innerRef,s=ee.useContext(RN),a=ee.useCallback(function(u){y0(o,u),jN(s,u)},[o,s]);return ee.useEffect(function(){return function(){return y0(o,null)}},[]),ee.useEffect(function(){hX(!!s,"`Reference` should not be used outside of a `Manager` component.")},[s]),LN(r)({ref:a})}function fX(n,r){if(_e(2,arguments),io(r)!=="object"||r===null)throw new RangeError("values parameter must be an object");var o=Te(n);return isNaN(o.getTime())?new Date(NaN):(r.year!=null&&o.setFullYear(r.year),r.month!=null&&(o=rr(o,r.month)),r.date!=null&&o.setDate(Xe(r.date)),r.hours!=null&&o.setHours(Xe(r.hours)),r.minutes!=null&&o.setMinutes(Xe(r.minutes)),r.seconds!=null&&o.setSeconds(Xe(r.seconds)),r.milliseconds!=null&&o.setMilliseconds(Xe(r.milliseconds)),o)}function UI(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),o.push.apply(o,s)}return o}function VI(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?UI(Object(o),!0).forEach(function(s){Y(n,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):UI(Object(o)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(o,s))})}return n}function KN(n){return(KN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function Nn(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function HI(n,r){for(var o=0;o<r.length;o++){var s=r[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,QN(s.key),s)}}function On(n,r,o){return r&&HI(n.prototype,r),o&&HI(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}function Y(n,r,o){return(r=QN(r))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n}function mm(){return(mm=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])}return n}).apply(this,arguments)}function Bn(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&GN(n,r)}function A0(n){return(A0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)})(n)}function GN(n,r){return(GN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,s){return o.__proto__=s,o})(n,r)}function G(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function gX(n,r){if(r&&(typeof r=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G(n)}function Rn(n){var r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,s=A0(n);if(r){var a=A0(this).constructor;o=Reflect.construct(s,arguments,a)}else o=s.apply(this,arguments);return gX(this,o)}}function x0(n){return function(r){if(Array.isArray(r))return zw(r)}(n)||function(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}(n)||function(r,o){if(r){if(typeof r=="string")return zw(r,o);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return zw(r,o)}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zw(n,r){(r==null||r>n.length)&&(r=n.length);for(var o=0,s=new Array(r);o<r;o++)s[o]=n[o];return s}function QN(n){var r=function(o,s){if(typeof o!="object"||o===null)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var u=a.call(o,s||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}(n,"string");return typeof r=="symbol"?r:String(r)}function WI(n,r){switch(n){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}}function $I(n,r){switch(n){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}}var mX={p:$I,P:function(n,r){var o,s=n.match(/(P+)(p+)?/)||[],a=s[1],u=s[2];if(!u)return WI(n,r);switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"})}return o.replace("{{date}}",WI(a,r)).replace("{{time}}",$I(u,r))}},kX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Lt(n){var r=n?typeof n=="string"||n instanceof String?wZ(n):Te(n):new Date;return ws(r)?r:null}function bX(n,r,o,s,a){var u=null,h=Fs(o)||Fs(Ba()),f=!0;return Array.isArray(r)?(r.forEach(function(m){var k=Rw(n,m,new Date,{locale:h});s&&(f=ws(k,a)&&n===gn(k,m,o)),ws(k,a)&&f&&(u=k)}),u):(u=Rw(n,r,new Date,{locale:h}),s?f=ws(u)&&n===gn(u,r,o):ws(u)||(r=r.match(kX).map(function(m){var k=m[0];return k==="p"||k==="P"?h?(0,mX[k])(m,h.formatLong):k:m}).join(""),n.length>0&&(u=Rw(n,r.slice(0,n.length),new Date)),ws(u)||(u=new Date(n))),ws(u)&&f?u:null)}function ws(n,r){return r=r||new Date("1/1/1000"),xg(n)&&!Pi(n,r)}function gn(n,r,o){if(o==="en")return yI(n,r,{awareOfUnicodeTokens:!0});var s=Fs(o);return o&&!s&&console.warn('A locale object was not found for the provided string ["'.concat(o,'"].')),!s&&Ba()&&Fs(Ba())&&(s=Fs(Ba())),yI(n,r,{locale:s||null,awareOfUnicodeTokens:!0})}function Jo(n,r){var o=r.dateFormat,s=r.locale;return n&&gn(n,Array.isArray(o)?o[0]:o,s)||""}function YI(n,r){var o=r.hour,s=o===void 0?0:o,a=r.minute,u=a===void 0?0:a,h=r.second;return kd(md(uQ(n,h===void 0?0:h),u),s)}function wX(n,r){var o=r&&Fs(r)||Ba()&&Fs(Ba());return lQ(n,o?{locale:o}:null)}function vX(n,r){return gn(n,"ddd",r)}function yX(n){return ai(n)}function e_(n,r,o){var s=Fs(r||Ba());return EN(n,{locale:s,weekStartsOn:o})}function zs(n){return SN(n)}function rd(n){return DN(n)}function qI(n){return m0(n)}function KI(){return ai(Lt())}function Ss(n,r){return n&&r?bQ(n,r):!n&&!r}function xo(n,r){return n&&r?kQ(n,r):!n&&!r}function Bg(n,r){return n&&r?wQ(n,r):!n&&!r}function or(n,r){return n&&r?mQ(n,r):!n&&!r}function Ds(n,r){return n&&r?gQ(n,r):!n&&!r}function Lf(n,r,o){var s,a=ai(r),u=k0(o);try{s=Wd(n,{start:a,end:u})}catch{s=!1}return s}function Ba(){return(typeof window<"u"?window:globalThis).__localeId__}function Fs(n){if(typeof n=="string"){var r=typeof window<"u"?window:globalThis;return r.__localeData__?r.__localeData__[n]:null}return n}function t_(n,r){return gn(rr(Lt(),n),"LLLL",r)}function ZN(n,r){return gn(rr(Lt(),n),"LLL",r)}function _X(n,r){return gn(Kc(Lt(),n),"QQQ",r)}function km(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.minDate,s=r.maxDate,a=r.excludeDates,u=r.excludeDateIntervals,h=r.includeDates,f=r.includeDateIntervals,m=r.filterDate;return bm(n,{minDate:o,maxDate:s})||a&&a.some(function(k){return or(n,k)})||u&&u.some(function(k){var v=k.start,_=k.end;return Wd(n,{start:v,end:_})})||h&&!h.some(function(k){return or(n,k)})||f&&!f.some(function(k){var v=k.start,_=k.end;return Wd(n,{start:v,end:_})})||m&&!m(Lt(n))||!1}function n_(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.excludeDates,s=r.excludeDateIntervals;return s&&s.length>0?s.some(function(a){var u=a.start,h=a.end;return Wd(n,{start:u,end:h})}):o&&o.some(function(a){return or(n,a)})||!1}function JN(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.minDate,s=r.maxDate,a=r.excludeDates,u=r.includeDates,h=r.filterDate;return bm(n,{minDate:SN(o),maxDate:pQ(s)})||a&&a.some(function(f){return xo(n,f)})||u&&!u.some(function(f){return xo(n,f)})||h&&!h(Lt(n))||!1}function Fw(n,r,o,s){var a=ot(n),u=Jn(n),h=ot(r),f=Jn(r),m=ot(s);return a===h&&a===m?u<=o&&o<=f:a<h?m===a&&u<=o||m===h&&f>=o||m<h&&m>a:void 0}function CX(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.minDate,s=r.maxDate,a=r.excludeDates,u=r.includeDates,h=r.filterDate;return bm(n,{minDate:o,maxDate:s})||a&&a.some(function(f){return Bg(n,f)})||u&&!u.some(function(f){return Bg(n,f)})||h&&!h(Lt(n))||!1}function Uw(n,r,o){if(!xg(r)||!xg(o))return!1;var s=ot(r),a=ot(o);return s<=n&&a>=n}function XN(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.minDate,s=r.maxDate,a=r.excludeDates,u=r.includeDates,h=r.filterDate,f=new Date(n,0,1);return bm(f,{minDate:DN(o),maxDate:fQ(s)})||a&&a.some(function(m){return Ss(f,m)})||u&&!u.some(function(m){return Ss(f,m)})||h&&!h(Lt(f))||!1}function Vw(n,r,o,s){var a=ot(n),u=al(n),h=ot(r),f=al(r),m=ot(s);return a===h&&a===m?u<=o&&o<=f:a<h?m===a&&u<=o||m===h&&f>=o||m<h&&m>a:void 0}function bm(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.minDate,s=r.maxDate;return o&&Tg(n,o)<0||s&&Tg(n,s)>0}function GI(n,r){return r.some(function(o){return Br(o)===Br(n)&&Or(o)===Or(n)})}function QI(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.excludeTimes,s=r.includeTimes,a=r.filterTime;return o&&GI(n,o)||s&&!GI(n,s)||a&&!a(n)||!1}function ZI(n,r){var o=r.minTime,s=r.maxTime;if(!o||!s)throw new Error("Both minTime and maxTime props required");var a,u=Lt(),h=kd(md(u,Or(n)),Br(n)),f=kd(md(u,Or(o)),Br(o)),m=kd(md(u,Or(s)),Br(s));try{a=!Wd(h,{start:f,end:m})}catch{a=!1}return a}function JI(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.minDate,s=r.includeDates,a=xl(n,1);return o&&Ig(o,a)>0||s&&s.every(function(u){return Ig(u,a)>0})||!1}function XI(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.maxDate,s=r.includeDates,a=Io(n,1);return o&&Ig(a,o)>0||s&&s.every(function(u){return Ig(a,u)>0})||!1}function eM(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.minDate,s=r.includeDates,a=Hd(n,1);return o&&Mg(o,a)>0||s&&s.every(function(u){return Mg(u,a)>0})||!1}function tM(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.maxDate,s=r.includeDates,a=Al(n,1);return o&&Mg(a,o)>0||s&&s.every(function(u){return Mg(a,u)>0})||!1}function eO(n){var r=n.minDate,o=n.includeDates;if(o&&r){var s=o.filter(function(a){return Tg(a,r)>=0});return CI(s)}return o?CI(o):r}function tO(n){var r=n.maxDate,o=n.includeDates;if(o&&r){var s=o.filter(function(a){return Tg(a,r)<=0});return AI(s)}return o?AI(o):r}function nM(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",o=new Map,s=0,a=n.length;s<a;s++){var u=n[s];if(zy(u)){var h=gn(u,"MM.dd.yyyy"),f=o.get(h)||[];f.includes(r)||(f.push(r),o.set(h,f))}else if(KN(u)==="object"){var m=Object.keys(u),k=m[0],v=u[m[0]];if(typeof k=="string"&&v.constructor===Array)for(var _=0,C=v.length;_<C;_++){var x=gn(v[_],"MM.dd.yyyy"),S=o.get(x)||[];S.includes(k)||(S.push(k),o.set(x,S))}}}return o}function AX(n,r,o,s,a){for(var u=a.length,h=[],f=0;f<u;f++){var m=f0(tQ(n,Br(a[f])),Or(a[f])),k=f0(n,(o+1)*s);Hs(m,r)&&Pi(m,k)&&h.push(a[f])}return h}function rM(n){return n<10?"0".concat(n):"".concat(n)}function cl(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:12,o=Math.ceil(ot(n)/r)*r,s=o-(r-1);return{startPeriod:s,endPeriod:o}}function xX(n,r,o,s){for(var a=[],u=0;u<2*r+1;u++){var h=n+r-u,f=!0;o&&(f=ot(o)<=h),s&&f&&(f=ot(s)>=h),f&&a.push(h)}return a}var EX=fm(function(n){Bn(o,re.Component);var r=Rn(o);function o(s){var a;Nn(this,o),Y(G(a=r.call(this,s)),"renderOptions",function(){var m=a.props.year,k=a.state.yearsList.map(function(C){return re.createElement("div",{className:m===C?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:C,onClick:a.onChange.bind(G(a),C),"aria-selected":m===C?"true":void 0},m===C?re.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",C)}),v=a.props.minDate?ot(a.props.minDate):null,_=a.props.maxDate?ot(a.props.maxDate):null;return _&&a.state.yearsList.find(function(C){return C===_})||k.unshift(re.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},re.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),v&&a.state.yearsList.find(function(C){return C===v})||k.push(re.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},re.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),k}),Y(G(a),"onChange",function(m){a.props.onChange(m)}),Y(G(a),"handleClickOutside",function(){a.props.onCancel()}),Y(G(a),"shiftYears",function(m){var k=a.state.yearsList.map(function(v){return v+m});a.setState({yearsList:k})}),Y(G(a),"incrementYears",function(){return a.shiftYears(1)}),Y(G(a),"decrementYears",function(){return a.shiftYears(-1)});var u=s.yearDropdownItemNumber,h=s.scrollableYearDropdown,f=u||(h?10:5);return a.state={yearsList:xX(a.props.year,f,a.props.minDate,a.props.maxDate)},a.dropdownRef=ee.createRef(),a}return On(o,[{key:"componentDidMount",value:function(){var s=this.dropdownRef.current;if(s){var a=s.children?Array.from(s.children):null,u=a?a.find(function(h){return h.ariaSelected}):null;s.scrollTop=u?u.offsetTop+(u.clientHeight-s.clientHeight)/2:(s.scrollHeight-s.clientHeight)/2}}},{key:"render",value:function(){var s=ar({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return re.createElement("div",{className:s,ref:this.dropdownRef},this.renderOptions())}}]),o}()),SX=function(n){Bn(o,re.Component);var r=Rn(o);function o(){var s;Nn(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return Y(G(s=r.call.apply(r,[this].concat(u))),"state",{dropdownVisible:!1}),Y(G(s),"renderSelectOptions",function(){for(var f=s.props.minDate?ot(s.props.minDate):1900,m=s.props.maxDate?ot(s.props.maxDate):2100,k=[],v=f;v<=m;v++)k.push(re.createElement("option",{key:v,value:v},v));return k}),Y(G(s),"onSelectChange",function(f){s.onChange(f.target.value)}),Y(G(s),"renderSelectMode",function(){return re.createElement("select",{value:s.props.year,className:"react-datepicker__year-select",onChange:s.onSelectChange},s.renderSelectOptions())}),Y(G(s),"renderReadView",function(f){return re.createElement("div",{key:"read",style:{visibility:f?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(m){return s.toggleDropdown(m)}},re.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},s.props.year))}),Y(G(s),"renderDropdown",function(){return re.createElement(EX,{key:"dropdown",year:s.props.year,onChange:s.onChange,onCancel:s.toggleDropdown,minDate:s.props.minDate,maxDate:s.props.maxDate,scrollableYearDropdown:s.props.scrollableYearDropdown,yearDropdownItemNumber:s.props.yearDropdownItemNumber})}),Y(G(s),"renderScrollMode",function(){var f=s.state.dropdownVisible,m=[s.renderReadView(!f)];return f&&m.unshift(s.renderDropdown()),m}),Y(G(s),"onChange",function(f){s.toggleDropdown(),f!==s.props.year&&s.props.onChange(f)}),Y(G(s),"toggleDropdown",function(f){s.setState({dropdownVisible:!s.state.dropdownVisible},function(){s.props.adjustDateOnChange&&s.handleYearChange(s.props.date,f)})}),Y(G(s),"handleYearChange",function(f,m){s.onSelect(f,m),s.setOpen()}),Y(G(s),"onSelect",function(f,m){s.props.onSelect&&s.props.onSelect(f,m)}),Y(G(s),"setOpen",function(){s.props.setOpen&&s.props.setOpen(!0)}),s}return On(o,[{key:"render",value:function(){var s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode();break;case"select":s=this.renderSelectMode()}return re.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},s)}}]),o}(),DX=fm(function(n){Bn(o,re.Component);var r=Rn(o);function o(){var s;Nn(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return Y(G(s=r.call.apply(r,[this].concat(u))),"isSelectedMonth",function(f){return s.props.month===f}),Y(G(s),"renderOptions",function(){return s.props.monthNames.map(function(f,m){return re.createElement("div",{className:s.isSelectedMonth(m)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:f,onClick:s.onChange.bind(G(s),m),"aria-selected":s.isSelectedMonth(m)?"true":void 0},s.isSelectedMonth(m)?re.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",f)})}),Y(G(s),"onChange",function(f){return s.props.onChange(f)}),Y(G(s),"handleClickOutside",function(){return s.props.onCancel()}),s}return On(o,[{key:"render",value:function(){return re.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),o}()),TX=function(n){Bn(o,re.Component);var r=Rn(o);function o(){var s;Nn(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return Y(G(s=r.call.apply(r,[this].concat(u))),"state",{dropdownVisible:!1}),Y(G(s),"renderSelectOptions",function(f){return f.map(function(m,k){return re.createElement("option",{key:k,value:k},m)})}),Y(G(s),"renderSelectMode",function(f){return re.createElement("select",{value:s.props.month,className:"react-datepicker__month-select",onChange:function(m){return s.onChange(m.target.value)}},s.renderSelectOptions(f))}),Y(G(s),"renderReadView",function(f,m){return re.createElement("div",{key:"read",style:{visibility:f?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:s.toggleDropdown},re.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},m[s.props.month]))}),Y(G(s),"renderDropdown",function(f){return re.createElement(DX,{key:"dropdown",month:s.props.month,monthNames:f,onChange:s.onChange,onCancel:s.toggleDropdown})}),Y(G(s),"renderScrollMode",function(f){var m=s.state.dropdownVisible,k=[s.renderReadView(!m,f)];return m&&k.unshift(s.renderDropdown(f)),k}),Y(G(s),"onChange",function(f){s.toggleDropdown(),f!==s.props.month&&s.props.onChange(f)}),Y(G(s),"toggleDropdown",function(){return s.setState({dropdownVisible:!s.state.dropdownVisible})}),s}return On(o,[{key:"render",value:function(){var s,a=this,u=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(h){return ZN(h,a.props.locale)}:function(h){return t_(h,a.props.locale)});switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(u);break;case"select":s=this.renderSelectMode(u)}return re.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)}}]),o}();function IX(n,r){for(var o=[],s=zs(n),a=zs(r);!Hs(s,a);)o.push(Lt(s)),s=Io(s,1);return o}var mf,MX=fm(function(n){Bn(o,re.Component);var r=Rn(o);function o(s){var a;return Nn(this,o),Y(G(a=r.call(this,s)),"renderOptions",function(){return a.state.monthYearsList.map(function(u){var h=g0(u),f=Ss(a.props.date,u)&&xo(a.props.date,u);return re.createElement("div",{className:f?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:h,onClick:a.onChange.bind(G(a),h),"aria-selected":f?"true":void 0},f?re.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",gn(u,a.props.dateFormat,a.props.locale))})}),Y(G(a),"onChange",function(u){return a.props.onChange(u)}),Y(G(a),"handleClickOutside",function(){a.props.onCancel()}),a.state={monthYearsList:IX(a.props.minDate,a.props.maxDate)},a}return On(o,[{key:"render",value:function(){var s=ar({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return re.createElement("div",{className:s},this.renderOptions())}}]),o}()),PX=function(n){Bn(o,re.Component);var r=Rn(o);function o(){var s;Nn(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return Y(G(s=r.call.apply(r,[this].concat(u))),"state",{dropdownVisible:!1}),Y(G(s),"renderSelectOptions",function(){for(var f=zs(s.props.minDate),m=zs(s.props.maxDate),k=[];!Hs(f,m);){var v=g0(f);k.push(re.createElement("option",{key:v,value:v},gn(f,s.props.dateFormat,s.props.locale))),f=Io(f,1)}return k}),Y(G(s),"onSelectChange",function(f){s.onChange(f.target.value)}),Y(G(s),"renderSelectMode",function(){return re.createElement("select",{value:g0(zs(s.props.date)),className:"react-datepicker__month-year-select",onChange:s.onSelectChange},s.renderSelectOptions())}),Y(G(s),"renderReadView",function(f){var m=gn(s.props.date,s.props.dateFormat,s.props.locale);return re.createElement("div",{key:"read",style:{visibility:f?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(k){return s.toggleDropdown(k)}},re.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},m))}),Y(G(s),"renderDropdown",function(){return re.createElement(MX,{key:"dropdown",date:s.props.date,dateFormat:s.props.dateFormat,onChange:s.onChange,onCancel:s.toggleDropdown,minDate:s.props.minDate,maxDate:s.props.maxDate,scrollableMonthYearDropdown:s.props.scrollableMonthYearDropdown,locale:s.props.locale})}),Y(G(s),"renderScrollMode",function(){var f=s.state.dropdownVisible,m=[s.renderReadView(!f)];return f&&m.unshift(s.renderDropdown()),m}),Y(G(s),"onChange",function(f){s.toggleDropdown();var m=Lt(parseInt(f));Ss(s.props.date,m)&&xo(s.props.date,m)||s.props.onChange(m)}),Y(G(s),"toggleDropdown",function(){return s.setState({dropdownVisible:!s.state.dropdownVisible})}),s}return On(o,[{key:"render",value:function(){var s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode();break;case"select":s=this.renderSelectMode()}return re.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},s)}}]),o}(),NX=function(n){Bn(o,re.Component);var r=Rn(o);function o(){var s;Nn(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return Y(G(s=r.call.apply(r,[this].concat(u))),"dayEl",re.createRef()),Y(G(s),"handleClick",function(f){!s.isDisabled()&&s.props.onClick&&s.props.onClick(f)}),Y(G(s),"handleMouseEnter",function(f){!s.isDisabled()&&s.props.onMouseEnter&&s.props.onMouseEnter(f)}),Y(G(s),"handleOnKeyDown",function(f){f.key===" "&&(f.preventDefault(),f.key="Enter"),s.props.handleOnKeyDown(f)}),Y(G(s),"isSameDay",function(f){return or(s.props.day,f)}),Y(G(s),"isKeyboardSelected",function(){return!s.props.disabledKeyboardNavigation&&!s.isSameDay(s.props.selected)&&s.isSameDay(s.props.preSelection)}),Y(G(s),"isDisabled",function(){return km(s.props.day,s.props)}),Y(G(s),"isExcluded",function(){return n_(s.props.day,s.props)}),Y(G(s),"getHighLightedClass",function(){var f=s.props,m=f.day,k=f.highlightDates;if(!k)return!1;var v=gn(m,"MM.dd.yyyy");return k.get(v)}),Y(G(s),"isInRange",function(){var f=s.props,m=f.day,k=f.startDate,v=f.endDate;return!(!k||!v)&&Lf(m,k,v)}),Y(G(s),"isInSelectingRange",function(){var f,m=s.props,k=m.day,v=m.selectsStart,_=m.selectsEnd,C=m.selectsRange,x=m.selectsDisabledDaysInRange,S=m.startDate,T=m.endDate,B=(f=s.props.selectingDate)!==null&&f!==void 0?f:s.props.preSelection;return!(!(v||_||C)||!B||!x&&s.isDisabled())&&(v&&T&&(Pi(B,T)||Ds(B,T))?Lf(k,B,T):(_&&S&&(Hs(B,S)||Ds(B,S))||!(!C||!S||T||!Hs(B,S)&&!Ds(B,S)))&&Lf(k,S,B))}),Y(G(s),"isSelectingRangeStart",function(){var f;if(!s.isInSelectingRange())return!1;var m=s.props,k=m.day,v=m.startDate,_=m.selectsStart,C=(f=s.props.selectingDate)!==null&&f!==void 0?f:s.props.preSelection;return or(k,_?C:v)}),Y(G(s),"isSelectingRangeEnd",function(){var f;if(!s.isInSelectingRange())return!1;var m=s.props,k=m.day,v=m.endDate,_=m.selectsEnd,C=m.selectsRange,x=(f=s.props.selectingDate)!==null&&f!==void 0?f:s.props.preSelection;return or(k,_||C?x:v)}),Y(G(s),"isRangeStart",function(){var f=s.props,m=f.day,k=f.startDate,v=f.endDate;return!(!k||!v)&&or(k,m)}),Y(G(s),"isRangeEnd",function(){var f=s.props,m=f.day,k=f.startDate,v=f.endDate;return!(!k||!v)&&or(v,m)}),Y(G(s),"isWeekend",function(){var f=iQ(s.props.day);return f===0||f===6}),Y(G(s),"isAfterMonth",function(){return s.props.month!==void 0&&(s.props.month+1)%12===Jn(s.props.day)}),Y(G(s),"isBeforeMonth",function(){return s.props.month!==void 0&&(Jn(s.props.day)+1)%12===s.props.month}),Y(G(s),"isCurrentDay",function(){return s.isSameDay(Lt())}),Y(G(s),"isSelected",function(){return s.isSameDay(s.props.selected)}),Y(G(s),"getClassNames",function(f){var m=s.props.dayClassName?s.props.dayClassName(f):void 0;return ar("react-datepicker__day",m,"react-datepicker__day--"+vX(s.props.day),{"react-datepicker__day--disabled":s.isDisabled(),"react-datepicker__day--excluded":s.isExcluded(),"react-datepicker__day--selected":s.isSelected(),"react-datepicker__day--keyboard-selected":s.isKeyboardSelected(),"react-datepicker__day--range-start":s.isRangeStart(),"react-datepicker__day--range-end":s.isRangeEnd(),"react-datepicker__day--in-range":s.isInRange(),"react-datepicker__day--in-selecting-range":s.isInSelectingRange(),"react-datepicker__day--selecting-range-start":s.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":s.isSelectingRangeEnd(),"react-datepicker__day--today":s.isCurrentDay(),"react-datepicker__day--weekend":s.isWeekend(),"react-datepicker__day--outside-month":s.isAfterMonth()||s.isBeforeMonth()},s.getHighLightedClass("react-datepicker__day--highlighted"))}),Y(G(s),"getAriaLabel",function(){var f=s.props,m=f.day,k=f.ariaLabelPrefixWhenEnabled,v=k===void 0?"Choose":k,_=f.ariaLabelPrefixWhenDisabled,C=_===void 0?"Not available":_,x=s.isDisabled()||s.isExcluded()?C:v;return"".concat(x," ").concat(gn(m,"PPPP",s.props.locale))}),Y(G(s),"getTabIndex",function(f,m){var k=f||s.props.selected,v=m||s.props.preSelection;return s.isKeyboardSelected()||s.isSameDay(k)&&or(v,k)?0:-1}),Y(G(s),"handleFocusDay",function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=!1;s.getTabIndex()===0&&!f.isInputFocused&&s.isSameDay(s.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(m=!0),s.props.inline&&!s.props.shouldFocusDayInline&&(m=!1),s.props.containerRef&&s.props.containerRef.current&&s.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(m=!0),s.props.monthShowsDuplicateDaysEnd&&s.isAfterMonth()&&(m=!1),s.props.monthShowsDuplicateDaysStart&&s.isBeforeMonth()&&(m=!1)),m&&s.dayEl.current.focus({preventScroll:!0})}),Y(G(s),"renderDayContents",function(){return s.props.monthShowsDuplicateDaysEnd&&s.isAfterMonth()||s.props.monthShowsDuplicateDaysStart&&s.isBeforeMonth()?null:s.props.renderDayContents?s.props.renderDayContents(_I(s.props.day),s.props.day):_I(s.props.day)}),Y(G(s),"render",function(){return re.createElement("div",{ref:s.dayEl,className:s.getClassNames(s.props.day),onKeyDown:s.handleOnKeyDown,onClick:s.handleClick,onMouseEnter:s.handleMouseEnter,tabIndex:s.getTabIndex(),"aria-label":s.getAriaLabel(),role:"option","aria-disabled":s.isDisabled(),"aria-current":s.isCurrentDay()?"date":void 0,"aria-selected":s.isSelected()||s.isInRange()},s.renderDayContents())}),s}return On(o,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(s){this.handleFocusDay(s)}}]),o}(),OX=function(n){Bn(o,re.Component);var r=Rn(o);function o(){var s;Nn(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return Y(G(s=r.call.apply(r,[this].concat(u))),"handleClick",function(f){s.props.onClick&&s.props.onClick(f)}),s}return On(o,[{key:"render",value:function(){var s=this.props,a=s.weekNumber,u=s.ariaLabelPrefix,h=u===void 0?"week ":u,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!s.onClick};return re.createElement("div",{className:ar(f),"aria-label":"".concat(h," ").concat(this.props.weekNumber),onClick:this.handleClick},a)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}]),o}(),BX=function(n){Bn(o,re.Component);var r=Rn(o);function o(){var s;Nn(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return Y(G(s=r.call.apply(r,[this].concat(u))),"handleDayClick",function(f,m){s.props.onDayClick&&s.props.onDayClick(f,m)}),Y(G(s),"handleDayMouseEnter",function(f){s.props.onDayMouseEnter&&s.props.onDayMouseEnter(f)}),Y(G(s),"handleWeekClick",function(f,m,k){typeof s.props.onWeekSelect=="function"&&s.props.onWeekSelect(f,m,k),s.props.shouldCloseOnSelect&&s.props.setOpen(!1)}),Y(G(s),"formatWeekNumber",function(f){return s.props.formatWeekNumber?s.props.formatWeekNumber(f):wX(f)}),Y(G(s),"renderDays",function(){var f=e_(s.props.day,s.props.locale,s.props.calendarStartDay),m=[],k=s.formatWeekNumber(f);if(s.props.showWeekNumber){var v=s.props.onWeekSelect?s.handleWeekClick.bind(G(s),f,k):void 0;m.push(re.createElement(OX,{key:"W",weekNumber:k,onClick:v,ariaLabelPrefix:s.props.ariaLabelPrefix}))}return m.concat([0,1,2,3,4,5,6].map(function(_){var C=jl(f,_);return re.createElement(NX,{ariaLabelPrefixWhenEnabled:s.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:s.props.disabledDayAriaLabelPrefix,key:C.valueOf(),day:C,month:s.props.month,onClick:s.handleDayClick.bind(G(s),C),onMouseEnter:s.handleDayMouseEnter.bind(G(s),C),minDate:s.props.minDate,maxDate:s.props.maxDate,excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals,includeDates:s.props.includeDates,includeDateIntervals:s.props.includeDateIntervals,highlightDates:s.props.highlightDates,selectingDate:s.props.selectingDate,filterDate:s.props.filterDate,preSelection:s.props.preSelection,selected:s.props.selected,selectsStart:s.props.selectsStart,selectsEnd:s.props.selectsEnd,selectsRange:s.props.selectsRange,selectsDisabledDaysInRange:s.props.selectsDisabledDaysInRange,startDate:s.props.startDate,endDate:s.props.endDate,dayClassName:s.props.dayClassName,renderDayContents:s.props.renderDayContents,disabledKeyboardNavigation:s.props.disabledKeyboardNavigation,handleOnKeyDown:s.props.handleOnKeyDown,isInputFocused:s.props.isInputFocused,containerRef:s.props.containerRef,inline:s.props.inline,shouldFocusDayInline:s.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:s.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:s.props.monthShowsDuplicateDaysStart,locale:s.props.locale})}))}),s}return On(o,[{key:"render",value:function(){return re.createElement("div",{className:"react-datepicker__week"},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}]),o}(),nO="two_columns",rO="three_columns",oO="four_columns",Hw=(Y(mf={},nO,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),Y(mf,rO,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),Y(mf,oO,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),mf);function oM(n,r){return n?oO:r?nO:rO}var RX=function(n){Bn(o,re.Component);var r=Rn(o);function o(){var s;Nn(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return Y(G(s=r.call.apply(r,[this].concat(u))),"MONTH_REFS",x0(Array(12)).map(function(){return re.createRef()})),Y(G(s),"QUARTER_REFS",x0(Array(4)).map(function(){return re.createRef()})),Y(G(s),"isDisabled",function(f){return km(f,s.props)}),Y(G(s),"isExcluded",function(f){return n_(f,s.props)}),Y(G(s),"handleDayClick",function(f,m){s.props.onDayClick&&s.props.onDayClick(f,m,s.props.orderInDisplay)}),Y(G(s),"handleDayMouseEnter",function(f){s.props.onDayMouseEnter&&s.props.onDayMouseEnter(f)}),Y(G(s),"handleMouseLeave",function(){s.props.onMouseLeave&&s.props.onMouseLeave()}),Y(G(s),"isRangeStartMonth",function(f){var m=s.props,k=m.day,v=m.startDate,_=m.endDate;return!(!v||!_)&&xo(rr(k,f),v)}),Y(G(s),"isRangeStartQuarter",function(f){var m=s.props,k=m.day,v=m.startDate,_=m.endDate;return!(!v||!_)&&Bg(Kc(k,f),v)}),Y(G(s),"isRangeEndMonth",function(f){var m=s.props,k=m.day,v=m.startDate,_=m.endDate;return!(!v||!_)&&xo(rr(k,f),_)}),Y(G(s),"isRangeEndQuarter",function(f){var m=s.props,k=m.day,v=m.startDate,_=m.endDate;return!(!v||!_)&&Bg(Kc(k,f),_)}),Y(G(s),"isInSelectingRangeMonth",function(f){var m,k=s.props,v=k.day,_=k.selectsStart,C=k.selectsEnd,x=k.selectsRange,S=k.startDate,T=k.endDate,B=(m=s.props.selectingDate)!==null&&m!==void 0?m:s.props.preSelection;return!(!(_||C||x)||!B)&&(_&&T?Fw(B,T,f,v):(C&&S||!(!x||!S||T))&&Fw(S,B,f,v))}),Y(G(s),"isSelectingMonthRangeStart",function(f){var m;if(!s.isInSelectingRangeMonth(f))return!1;var k=s.props,v=k.day,_=k.startDate,C=k.selectsStart,x=rr(v,f),S=(m=s.props.selectingDate)!==null&&m!==void 0?m:s.props.preSelection;return xo(x,C?S:_)}),Y(G(s),"isSelectingMonthRangeEnd",function(f){var m;if(!s.isInSelectingRangeMonth(f))return!1;var k=s.props,v=k.day,_=k.endDate,C=k.selectsEnd,x=k.selectsRange,S=rr(v,f),T=(m=s.props.selectingDate)!==null&&m!==void 0?m:s.props.preSelection;return xo(S,C||x?T:_)}),Y(G(s),"isInSelectingRangeQuarter",function(f){var m,k=s.props,v=k.day,_=k.selectsStart,C=k.selectsEnd,x=k.selectsRange,S=k.startDate,T=k.endDate,B=(m=s.props.selectingDate)!==null&&m!==void 0?m:s.props.preSelection;return!(!(_||C||x)||!B)&&(_&&T?Vw(B,T,f,v):(C&&S||!(!x||!S||T))&&Vw(S,B,f,v))}),Y(G(s),"isWeekInMonth",function(f){var m=s.props.day,k=jl(f,6);return xo(f,m)||xo(k,m)}),Y(G(s),"isCurrentMonth",function(f,m){return ot(f)===ot(Lt())&&m===Jn(Lt())}),Y(G(s),"isCurrentQuarter",function(f,m){return ot(f)===ot(Lt())&&m===al(Lt())}),Y(G(s),"isSelectedMonth",function(f,m,k){return Jn(k)===m&&ot(f)===ot(k)}),Y(G(s),"isSelectedQuarter",function(f,m,k){return al(f)===m&&ot(f)===ot(k)}),Y(G(s),"renderWeeks",function(){for(var f=[],m=s.props.fixedHeight,k=0,v=!1,_=e_(zs(s.props.day),s.props.locale,s.props.calendarStartDay);f.push(re.createElement(BX,{ariaLabelPrefix:s.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:s.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:s.props.disabledDayAriaLabelPrefix,key:k,day:_,month:Jn(s.props.day),onDayClick:s.handleDayClick,onDayMouseEnter:s.handleDayMouseEnter,onWeekSelect:s.props.onWeekSelect,formatWeekNumber:s.props.formatWeekNumber,locale:s.props.locale,minDate:s.props.minDate,maxDate:s.props.maxDate,excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals,includeDates:s.props.includeDates,includeDateIntervals:s.props.includeDateIntervals,inline:s.props.inline,shouldFocusDayInline:s.props.shouldFocusDayInline,highlightDates:s.props.highlightDates,selectingDate:s.props.selectingDate,filterDate:s.props.filterDate,preSelection:s.props.preSelection,selected:s.props.selected,selectsStart:s.props.selectsStart,selectsEnd:s.props.selectsEnd,selectsRange:s.props.selectsRange,selectsDisabledDaysInRange:s.props.selectsDisabledDaysInRange,showWeekNumber:s.props.showWeekNumbers,startDate:s.props.startDate,endDate:s.props.endDate,dayClassName:s.props.dayClassName,setOpen:s.props.setOpen,shouldCloseOnSelect:s.props.shouldCloseOnSelect,disabledKeyboardNavigation:s.props.disabledKeyboardNavigation,renderDayContents:s.props.renderDayContents,handleOnKeyDown:s.props.handleOnKeyDown,isInputFocused:s.props.isInputFocused,containerRef:s.props.containerRef,calendarStartDay:s.props.calendarStartDay,monthShowsDuplicateDaysEnd:s.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:s.props.monthShowsDuplicateDaysStart})),!v;){k++,_=Vy(_,1);var C=m&&k>=6,x=!m&&!s.isWeekInMonth(_);if(C||x){if(!s.props.peekNextMonth)break;v=!0}}return f}),Y(G(s),"onMonthClick",function(f,m){s.handleDayClick(zs(rr(s.props.day,m)),f)}),Y(G(s),"onMonthMouseEnter",function(f){s.handleDayMouseEnter(zs(rr(s.props.day,f)))}),Y(G(s),"handleMonthNavigation",function(f,m){s.isDisabled(m)||s.isExcluded(m)||(s.props.setPreSelection(m),s.MONTH_REFS[f].current&&s.MONTH_REFS[f].current.focus())}),Y(G(s),"onMonthKeyDown",function(f,m){var k=s.props,v=k.selected,_=k.preSelection,C=k.disabledKeyboardNavigation,x=k.showTwoColumnMonthYearPicker,S=k.showFourColumnMonthYearPicker,T=k.setPreSelection,B=f.key;if(B!=="Tab"&&f.preventDefault(),!C){var N=oM(S,x),I=Hw[N].verticalNavigationOffset,L=Hw[N].grid;switch(B){case"Enter":s.onMonthClick(f,m),T(v);break;case"ArrowRight":s.handleMonthNavigation(m===11?0:m+1,Io(_,1));break;case"ArrowLeft":s.handleMonthNavigation(m===0?11:m-1,xl(_,1));break;case"ArrowUp":s.handleMonthNavigation(L[0].includes(m)?m+12-I:m-I,xl(_,I));break;case"ArrowDown":s.handleMonthNavigation(L[L.length-1].includes(m)?m-12+I:m+I,Io(_,I))}}}),Y(G(s),"onQuarterClick",function(f,m){s.handleDayClick(qI(Kc(s.props.day,m)),f)}),Y(G(s),"onQuarterMouseEnter",function(f){s.handleDayMouseEnter(qI(Kc(s.props.day,f)))}),Y(G(s),"handleQuarterNavigation",function(f,m){s.isDisabled(m)||s.isExcluded(m)||(s.props.setPreSelection(m),s.QUARTER_REFS[f-1].current&&s.QUARTER_REFS[f-1].current.focus())}),Y(G(s),"onQuarterKeyDown",function(f,m){var k=f.key;if(!s.props.disabledKeyboardNavigation)switch(k){case"Enter":s.onQuarterClick(f,m),s.props.setPreSelection(s.props.selected);break;case"ArrowRight":s.handleQuarterNavigation(m===4?1:m+1,xN(s.props.preSelection,1));break;case"ArrowLeft":s.handleQuarterNavigation(m===1?4:m-1,oQ(s.props.preSelection,1))}}),Y(G(s),"getMonthClassNames",function(f){var m=s.props,k=m.day,v=m.startDate,_=m.endDate,C=m.selected,x=m.minDate,S=m.maxDate,T=m.preSelection,B=m.monthClassName,N=m.excludeDates,I=m.includeDates,L=B?B(rr(k,f)):void 0,V=rr(k,f);return ar("react-datepicker__month-text","react-datepicker__month-".concat(f),L,{"react-datepicker__month-text--disabled":(x||S||N||I)&&JN(V,s.props),"react-datepicker__month-text--selected":s.isSelectedMonth(k,f,C),"react-datepicker__month-text--keyboard-selected":!s.props.disabledKeyboardNavigation&&Jn(T)===f,"react-datepicker__month-text--in-selecting-range":s.isInSelectingRangeMonth(f),"react-datepicker__month-text--in-range":Fw(v,_,f,k),"react-datepicker__month-text--range-start":s.isRangeStartMonth(f),"react-datepicker__month-text--range-end":s.isRangeEndMonth(f),"react-datepicker__month-text--selecting-range-start":s.isSelectingMonthRangeStart(f),"react-datepicker__month-text--selecting-range-end":s.isSelectingMonthRangeEnd(f),"react-datepicker__month-text--today":s.isCurrentMonth(k,f)})}),Y(G(s),"getTabIndex",function(f){var m=Jn(s.props.preSelection);return s.props.disabledKeyboardNavigation||f!==m?"-1":"0"}),Y(G(s),"getQuarterTabIndex",function(f){var m=al(s.props.preSelection);return s.props.disabledKeyboardNavigation||f!==m?"-1":"0"}),Y(G(s),"getAriaLabel",function(f){var m=s.props,k=m.chooseDayAriaLabelPrefix,v=k===void 0?"Choose":k,_=m.disabledDayAriaLabelPrefix,C=_===void 0?"Not available":_,x=m.day,S=rr(x,f),T=s.isDisabled(S)||s.isExcluded(S)?C:v;return"".concat(T," ").concat(gn(S,"MMMM yyyy"))}),Y(G(s),"getQuarterClassNames",function(f){var m=s.props,k=m.day,v=m.startDate,_=m.endDate,C=m.selected,x=m.minDate,S=m.maxDate,T=m.preSelection;return ar("react-datepicker__quarter-text","react-datepicker__quarter-".concat(f),{"react-datepicker__quarter-text--disabled":(x||S)&&CX(Kc(k,f),s.props),"react-datepicker__quarter-text--selected":s.isSelectedQuarter(k,f,C),"react-datepicker__quarter-text--keyboard-selected":al(T)===f,"react-datepicker__quarter-text--in-selecting-range":s.isInSelectingRangeQuarter(f),"react-datepicker__quarter-text--in-range":Vw(v,_,f,k),"react-datepicker__quarter-text--range-start":s.isRangeStartQuarter(f),"react-datepicker__quarter-text--range-end":s.isRangeEndQuarter(f)})}),Y(G(s),"getMonthContent",function(f){var m=s.props,k=m.showFullMonthYearPicker,v=m.renderMonthContent,_=m.locale,C=ZN(f,_),x=t_(f,_);return v?v(f,C,x):k?x:C}),Y(G(s),"getQuarterContent",function(f){var m=s.props,k=m.renderQuarterContent,v=_X(f,m.locale);return k?k(f,v):v}),Y(G(s),"renderMonths",function(){var f=s.props,m=f.showTwoColumnMonthYearPicker,k=f.showFourColumnMonthYearPicker,v=f.day,_=f.selected;return Hw[oM(k,m)].grid.map(function(C,x){return re.createElement("div",{className:"react-datepicker__month-wrapper",key:x},C.map(function(S,T){return re.createElement("div",{ref:s.MONTH_REFS[S],key:T,onClick:function(B){s.onMonthClick(B,S)},onKeyDown:function(B){s.onMonthKeyDown(B,S)},onMouseEnter:function(){return s.onMonthMouseEnter(S)},tabIndex:s.getTabIndex(S),className:s.getMonthClassNames(S),role:"option","aria-label":s.getAriaLabel(S),"aria-current":s.isCurrentMonth(v,S)?"date":void 0,"aria-selected":s.isSelectedMonth(v,S,_)},s.getMonthContent(S))}))})}),Y(G(s),"renderQuarters",function(){var f=s.props,m=f.day,k=f.selected;return re.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map(function(v,_){return re.createElement("div",{key:_,ref:s.QUARTER_REFS[_],role:"option",onClick:function(C){s.onQuarterClick(C,v)},onKeyDown:function(C){s.onQuarterKeyDown(C,v)},onMouseEnter:function(){return s.onQuarterMouseEnter(v)},className:s.getQuarterClassNames(v),"aria-selected":s.isSelectedQuarter(m,v,k),tabIndex:s.getQuarterTabIndex(v),"aria-current":s.isCurrentQuarter(m,v)?"date":void 0},s.getQuarterContent(v))}))}),Y(G(s),"getClassNames",function(){var f=s.props,m=f.selectingDate,k=f.selectsStart,v=f.selectsEnd,_=f.showMonthYearPicker,C=f.showQuarterYearPicker;return ar("react-datepicker__month",{"react-datepicker__month--selecting-range":m&&(k||v)},{"react-datepicker__monthPicker":_},{"react-datepicker__quarterPicker":C})}),s}return On(o,[{key:"render",value:function(){var s=this.props,a=s.showMonthYearPicker,u=s.showQuarterYearPicker,h=s.day,f=s.ariaLabelPrefix,m=f===void 0?"month ":f;return re.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,"aria-label":"".concat(m," ").concat(gn(h,"yyyy-MM")),role:"listbox"},a?this.renderMonths():u?this.renderQuarters():this.renderWeeks())}}]),o}(),iO=function(n){Bn(o,re.Component);var r=Rn(o);function o(){var s;Nn(this,o);for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];return Y(G(s=r.call.apply(r,[this].concat(u))),"state",{height:null}),Y(G(s),"handleClick",function(f){(s.props.minTime||s.props.maxTime)&&ZI(f,s.props)||(s.props.excludeTimes||s.props.includeTimes||s.props.filterTime)&&QI(f,s.props)||s.props.onChange(f)}),Y(G(s),"isSelectedTime",function(f,m,k){return s.props.selected&&m===Br(f)&&k===Or(f)}),Y(G(s),"liClasses",function(f,m,k){var v=["react-datepicker__time-list-item",s.props.timeClassName?s.props.timeClassName(f,m,k):void 0];return s.isSelectedTime(f,m,k)&&v.push("react-datepicker__time-list-item--selected"),((s.props.minTime||s.props.maxTime)&&ZI(f,s.props)||(s.props.excludeTimes||s.props.includeTimes||s.props.filterTime)&&QI(f,s.props))&&v.push("react-datepicker__time-list-item--disabled"),s.props.injectTimes&&(60*Br(f)+Or(f))%s.props.intervals!=0&&v.push("react-datepicker__time-list-item--injected"),v.join(" ")}),Y(G(s),"handleOnKeyDown",function(f,m){f.key===" "&&(f.preventDefault(),f.key="Enter"),f.key==="Enter"&&s.handleClick(m),s.props.handleOnKeyDown(f)}),Y(G(s),"renderTimes",function(){for(var f=[],m=s.props.format?s.props.format:"p",k=s.props.intervals,v=yX(Lt(s.props.selected)),_=1440/k,C=s.props.injectTimes&&s.props.injectTimes.sort(function(V,K){return V-K}),x=s.props.selected||s.props.openToDate||Lt(),S=Br(x),T=Or(x),B=kd(md(v,T),S),N=0;N<_;N++){var I=f0(v,N*k);if(f.push(I),C){var L=AX(v,I,N,k,C);f=f.concat(L)}}return f.map(function(V,K){return re.createElement("li",{key:K,onClick:s.handleClick.bind(G(s),V),className:s.liClasses(V,S,T),ref:function(Z){(Pi(V,B)||Ds(V,B))&&(s.centerLi=Z)},onKeyDown:function(Z){s.handleOnKeyDown(Z,V)},tabIndex:"0","aria-selected":s.isSelectedTime(V,S,T)?"true":void 0},gn(V,m,s.props.locale))})}),s}return On(o,[{key:"componentDidMount",value:function(){this.list.scrollTop=this.centerLi&&o.calcCenterPosition(this.props.monthRef?this.props.monthRef.clientHeight-this.header.clientHeight:this.list.clientHeight,this.centerLi),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var s=this,a=this.state.height;return re.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},re.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(u){s.header=u}},re.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),re.createElement("div",{className:"react-datepicker__time"},re.createElement("div",{className:"react-datepicker__time-box"},re.createElement("ul",{className:"react-datepicker__time-list",ref:function(u){s.list=u},style:a?{height:a}:{},tabIndex:"0"},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}]),o}();Y(iO,"calcCenterPosition",function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)});var LX=function(n){Bn(o,re.Component);var r=Rn(o);function o(s){var a;return Nn(this,o),Y(G(a=r.call(this,s)),"YEAR_REFS",x0(Array(a.props.yearItemNumber)).map(function(){return re.createRef()})),Y(G(a),"isDisabled",function(u){return km(u,a.props)}),Y(G(a),"isExcluded",function(u){return n_(u,a.props)}),Y(G(a),"selectingDate",function(){var u;return(u=a.props.selectingDate)!==null&&u!==void 0?u:a.props.preSelection}),Y(G(a),"updateFocusOnPaginate",function(u){var h=function(){this.YEAR_REFS[u].current.focus()}.bind(G(a));window.requestAnimationFrame(h)}),Y(G(a),"handleYearClick",function(u,h){a.props.onDayClick&&a.props.onDayClick(u,h)}),Y(G(a),"handleYearNavigation",function(u,h){var f=a.props,m=f.date,k=f.yearItemNumber,v=cl(m,k).startPeriod;a.isDisabled(h)||a.isExcluded(h)||(a.props.setPreSelection(h),u-v==-1?a.updateFocusOnPaginate(k-1):u-v===k?a.updateFocusOnPaginate(0):a.YEAR_REFS[u-v].current.focus())}),Y(G(a),"isSameDay",function(u,h){return or(u,h)}),Y(G(a),"isCurrentYear",function(u){return u===ot(Lt())}),Y(G(a),"isRangeStart",function(u){return a.props.startDate&&a.props.endDate&&Ss(Ti(Lt(),u),a.props.startDate)}),Y(G(a),"isRangeEnd",function(u){return a.props.startDate&&a.props.endDate&&Ss(Ti(Lt(),u),a.props.endDate)}),Y(G(a),"isInRange",function(u){return Uw(u,a.props.startDate,a.props.endDate)}),Y(G(a),"isInSelectingRange",function(u){var h=a.props,f=h.selectsStart,m=h.selectsEnd,k=h.selectsRange,v=h.startDate,_=h.endDate;return!(!(f||m||k)||!a.selectingDate())&&(f&&_?Uw(u,a.selectingDate(),_):(m&&v||!(!k||!v||_))&&Uw(u,v,a.selectingDate()))}),Y(G(a),"isSelectingRangeStart",function(u){if(!a.isInSelectingRange(u))return!1;var h=a.props,f=h.startDate,m=h.selectsStart,k=Ti(Lt(),u);return Ss(k,m?a.selectingDate():f)}),Y(G(a),"isSelectingRangeEnd",function(u){if(!a.isInSelectingRange(u))return!1;var h=a.props,f=h.endDate,m=h.selectsEnd,k=h.selectsRange,v=Ti(Lt(),u);return Ss(v,m||k?a.selectingDate():f)}),Y(G(a),"isKeyboardSelected",function(u){var h=rd(Ti(a.props.date,u));return!a.props.disabledKeyboardNavigation&&!a.props.inline&&!or(h,rd(a.props.selected))&&or(h,rd(a.props.preSelection))}),Y(G(a),"onYearClick",function(u,h){var f=a.props.date;a.handleYearClick(rd(Ti(f,h)),u)}),Y(G(a),"onYearKeyDown",function(u,h){var f=u.key;if(!a.props.disabledKeyboardNavigation)switch(f){case"Enter":a.onYearClick(u,h),a.props.setPreSelection(a.props.selected);break;case"ArrowRight":a.handleYearNavigation(h+1,Al(a.props.preSelection,1));break;case"ArrowLeft":a.handleYearNavigation(h-1,Hd(a.props.preSelection,1))}}),Y(G(a),"getYearClassNames",function(u){var h=a.props,f=h.minDate,m=h.maxDate,k=h.selected,v=h.excludeDates,_=h.includeDates,C=h.filterDate;return ar("react-datepicker__year-text",{"react-datepicker__year-text--selected":u===ot(k),"react-datepicker__year-text--disabled":(f||m||v||_||C)&&XN(u,a.props),"react-datepicker__year-text--keyboard-selected":a.isKeyboardSelected(u),"react-datepicker__year-text--range-start":a.isRangeStart(u),"react-datepicker__year-text--range-end":a.isRangeEnd(u),"react-datepicker__year-text--in-range":a.isInRange(u),"react-datepicker__year-text--in-selecting-range":a.isInSelectingRange(u),"react-datepicker__year-text--selecting-range-start":a.isSelectingRangeStart(u),"react-datepicker__year-text--selecting-range-end":a.isSelectingRangeEnd(u),"react-datepicker__year-text--today":a.isCurrentYear(u)})}),Y(G(a),"getYearTabIndex",function(u){return a.props.disabledKeyboardNavigation?"-1":u===ot(a.props.preSelection)?"0":"-1"}),Y(G(a),"getYearContainerClassNames",function(){var u=a.props,h=u.selectingDate,f=u.selectsStart,m=u.selectsEnd,k=u.selectsRange;return ar("react-datepicker__year",{"react-datepicker__year--selecting-range":h&&(f||m||k)})}),Y(G(a),"getYearContent",function(u){return a.props.renderYearContent?a.props.renderYearContent(u):u}),a}return On(o,[{key:"render",value:function(){for(var s=this,a=[],u=this.props,h=u.date,f=u.yearItemNumber,m=u.onYearMouseEnter,k=u.onYearMouseLeave,v=cl(h,f),_=v.startPeriod,C=v.endPeriod,x=function(T){a.push(re.createElement("div",{ref:s.YEAR_REFS[T-_],onClick:function(B){s.onYearClick(B,T)},onKeyDown:function(B){s.onYearKeyDown(B,T)},tabIndex:s.getYearTabIndex(T),className:s.getYearClassNames(T),onMouseEnter:function(B){return m(B,T)},onMouseLeave:function(B){return k(B,T)},key:T,"aria-current":s.isCurrentYear(T)?"date":void 0},s.getYearContent(T)))},S=_;S<=C;S++)x(S);return re.createElement("div",{className:this.getYearContainerClassNames()},re.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.clearSelectingDate},a))}}]),o}(),jX=function(n){Bn(o,re.Component);var r=Rn(o);function o(s){var a;return Nn(this,o),Y(G(a=r.call(this,s)),"onTimeChange",function(u){a.setState({time:u});var h=new Date;h.setHours(u.split(":")[0]),h.setMinutes(u.split(":")[1]),a.props.onChange(h)}),Y(G(a),"renderTimeInput",function(){var u=a.state.time,h=a.props,f=h.date,m=h.timeString,k=h.customTimeInput;return k?re.cloneElement(k,{date:f,value:u,onChange:a.onTimeChange}):re.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:u,onChange:function(v){a.onTimeChange(v.target.value||m)}})}),a.state={time:a.props.timeString},a}return On(o,[{key:"render",value:function(){return re.createElement("div",{className:"react-datepicker__input-time-container"},re.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),re.createElement("div",{className:"react-datepicker-time__input-container"},re.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.timeString!==a.time?{time:s.timeString}:null}}]),o}();function zX(n){var r=n.className,o=n.children,s=n.showPopperArrow,a=n.arrowProps,u=a===void 0?{}:a;return re.createElement("div",{className:r},s&&re.createElement("div",mm({className:"react-datepicker__triangle"},u)),o)}var FX=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],UX=function(n){Bn(o,re.Component);var r=Rn(o);function o(s){var a;return Nn(this,o),Y(G(a=r.call(this,s)),"handleClickOutside",function(u){a.props.onClickOutside(u)}),Y(G(a),"setClickOutsideRef",function(){return a.containerRef.current}),Y(G(a),"handleDropdownFocus",function(u){(function(){var h=((arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).className||"").split(/\s+/);return FX.some(function(f){return h.indexOf(f)>=0})})(u.target)&&a.props.onDropdownFocus()}),Y(G(a),"getDateInView",function(){var u=a.props,h=u.preSelection,f=u.selected,m=u.openToDate,k=eO(a.props),v=tO(a.props),_=Lt(),C=m||f||h;return C||(k&&Pi(_,k)?k:v&&Hs(_,v)?v:_)}),Y(G(a),"increaseMonth",function(){a.setState(function(u){var h=u.date;return{date:Io(h,1)}},function(){return a.handleMonthChange(a.state.date)})}),Y(G(a),"decreaseMonth",function(){a.setState(function(u){var h=u.date;return{date:xl(h,1)}},function(){return a.handleMonthChange(a.state.date)})}),Y(G(a),"handleDayClick",function(u,h,f){a.props.onSelect(u,h,f),a.props.setPreSelection&&a.props.setPreSelection(u)}),Y(G(a),"handleDayMouseEnter",function(u){a.setState({selectingDate:u}),a.props.onDayMouseEnter&&a.props.onDayMouseEnter(u)}),Y(G(a),"handleMonthMouseLeave",function(){a.setState({selectingDate:null}),a.props.onMonthMouseLeave&&a.props.onMonthMouseLeave()}),Y(G(a),"handleYearMouseEnter",function(u,h){a.setState({selectingDate:Ti(Lt(),h)}),a.props.onYearMouseEnter&&a.props.onYearMouseEnter(u,h)}),Y(G(a),"handleYearMouseLeave",function(u,h){a.props.onYearMouseLeave&&a.props.onYearMouseLeave(u,h)}),Y(G(a),"handleYearChange",function(u){a.props.onYearChange&&(a.props.onYearChange(u),a.setState({isRenderAriaLiveMessage:!0})),a.props.adjustDateOnChange&&(a.props.onSelect&&a.props.onSelect(u),a.props.setOpen&&a.props.setOpen(!0)),a.props.setPreSelection&&a.props.setPreSelection(u)}),Y(G(a),"handleMonthChange",function(u){a.handleCustomMonthChange(u),a.props.adjustDateOnChange&&(a.props.onSelect&&a.props.onSelect(u),a.props.setOpen&&a.props.setOpen(!0)),a.props.setPreSelection&&a.props.setPreSelection(u)}),Y(G(a),"handleCustomMonthChange",function(u){a.props.onMonthChange&&(a.props.onMonthChange(u),a.setState({isRenderAriaLiveMessage:!0}))}),Y(G(a),"handleMonthYearChange",function(u){a.handleYearChange(u),a.handleMonthChange(u)}),Y(G(a),"changeYear",function(u){a.setState(function(h){var f=h.date;return{date:Ti(f,u)}},function(){return a.handleYearChange(a.state.date)})}),Y(G(a),"changeMonth",function(u){a.setState(function(h){var f=h.date;return{date:rr(f,u)}},function(){return a.handleMonthChange(a.state.date)})}),Y(G(a),"changeMonthYear",function(u){a.setState(function(h){var f=h.date;return{date:Ti(rr(f,Jn(u)),ot(u))}},function(){return a.handleMonthYearChange(a.state.date)})}),Y(G(a),"header",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.state.date,h=e_(u,a.props.locale,a.props.calendarStartDay),f=[];return a.props.showWeekNumbers&&f.push(re.createElement("div",{key:"W",className:"react-datepicker__day-name"},a.props.weekLabel||"#")),f.concat([0,1,2,3,4,5,6].map(function(m){var k=jl(h,m),v=a.formatWeekday(k,a.props.locale),_=a.props.weekDayClassName?a.props.weekDayClassName(k):void 0;return re.createElement("div",{key:m,className:ar("react-datepicker__day-name",_)},v)}))}),Y(G(a),"formatWeekday",function(u,h){return a.props.formatWeekDay?function(f,m,k){return m(gn(f,"EEEE",k))}(u,a.props.formatWeekDay,h):a.props.useWeekdaysShort?function(f,m){return gn(f,"EEE",m)}(u,h):function(f,m){return gn(f,"EEEEEE",m)}(u,h)}),Y(G(a),"decreaseYear",function(){a.setState(function(u){var h=u.date;return{date:Hd(h,a.props.showYearPicker?a.props.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})}),Y(G(a),"clearSelectingDate",function(){a.setState({selectingDate:null})}),Y(G(a),"renderPreviousButton",function(){if(!a.props.renderCustomHeader){var u;switch(!0){case a.props.showMonthYearPicker:u=eM(a.state.date,a.props);break;case a.props.showYearPicker:u=function(N){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=I.minDate,V=I.yearItemNumber,K=V===void 0?12:V,Z=cl(rd(Hd(N,K)),K).endPeriod,Q=L&&ot(L);return Q&&Q>Z||!1}(a.state.date,a.props);break;default:u=JI(a.state.date,a.props)}if((a.props.forceShowMonthNavigation||a.props.showDisabledMonthNavigation||!u)&&!a.props.showTimeSelectOnly){var h=["react-datepicker__navigation","react-datepicker__navigation--previous"],f=a.decreaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(f=a.decreaseYear),u&&a.props.showDisabledMonthNavigation&&(h.push("react-datepicker__navigation--previous--disabled"),f=null);var m=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,k=a.props,v=k.previousMonthButtonLabel,_=k.previousYearButtonLabel,C=a.props,x=C.previousMonthAriaLabel,S=x===void 0?typeof v=="string"?v:"Previous Month":x,T=C.previousYearAriaLabel,B=T===void 0?typeof _=="string"?_:"Previous Year":T;return re.createElement("button",{type:"button",className:h.join(" "),onClick:f,onKeyDown:a.props.handleOnKeyDown,"aria-label":m?B:S},re.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},m?a.props.previousYearButtonLabel:a.props.previousMonthButtonLabel))}}}),Y(G(a),"increaseYear",function(){a.setState(function(u){var h=u.date;return{date:Al(h,a.props.showYearPicker?a.props.yearItemNumber:1)}},function(){return a.handleYearChange(a.state.date)})}),Y(G(a),"renderNextButton",function(){if(!a.props.renderCustomHeader){var u;switch(!0){case a.props.showMonthYearPicker:u=tM(a.state.date,a.props);break;case a.props.showYearPicker:u=function(N){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=I.maxDate,V=I.yearItemNumber,K=V===void 0?12:V,Z=cl(Al(N,K),K).startPeriod,Q=L&&ot(L);return Q&&Q<Z||!1}(a.state.date,a.props);break;default:u=XI(a.state.date,a.props)}if((a.props.forceShowMonthNavigation||a.props.showDisabledMonthNavigation||!u)&&!a.props.showTimeSelectOnly){var h=["react-datepicker__navigation","react-datepicker__navigation--next"];a.props.showTimeSelect&&h.push("react-datepicker__navigation--next--with-time"),a.props.todayButton&&h.push("react-datepicker__navigation--next--with-today-button");var f=a.increaseMonth;(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker)&&(f=a.increaseYear),u&&a.props.showDisabledMonthNavigation&&(h.push("react-datepicker__navigation--next--disabled"),f=null);var m=a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker,k=a.props,v=k.nextMonthButtonLabel,_=k.nextYearButtonLabel,C=a.props,x=C.nextMonthAriaLabel,S=x===void 0?typeof v=="string"?v:"Next Month":x,T=C.nextYearAriaLabel,B=T===void 0?typeof _=="string"?_:"Next Year":T;return re.createElement("button",{type:"button",className:h.join(" "),onClick:f,onKeyDown:a.props.handleOnKeyDown,"aria-label":m?B:S},re.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},m?a.props.nextYearButtonLabel:a.props.nextMonthButtonLabel))}}}),Y(G(a),"renderCurrentMonth",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.state.date,h=["react-datepicker__current-month"];return a.props.showYearDropdown&&h.push("react-datepicker__current-month--hasYearDropdown"),a.props.showMonthDropdown&&h.push("react-datepicker__current-month--hasMonthDropdown"),a.props.showMonthYearDropdown&&h.push("react-datepicker__current-month--hasMonthYearDropdown"),re.createElement("div",{className:h.join(" ")},gn(u,a.props.dateFormat,a.props.locale))}),Y(G(a),"renderYearDropdown",function(){var u=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(a.props.showYearDropdown&&!u)return re.createElement(SX,{adjustDateOnChange:a.props.adjustDateOnChange,date:a.state.date,onSelect:a.props.onSelect,setOpen:a.props.setOpen,dropdownMode:a.props.dropdownMode,onChange:a.changeYear,minDate:a.props.minDate,maxDate:a.props.maxDate,year:ot(a.state.date),scrollableYearDropdown:a.props.scrollableYearDropdown,yearDropdownItemNumber:a.props.yearDropdownItemNumber})}),Y(G(a),"renderMonthDropdown",function(){var u=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(a.props.showMonthDropdown&&!u)return re.createElement(TX,{dropdownMode:a.props.dropdownMode,locale:a.props.locale,onChange:a.changeMonth,month:Jn(a.state.date),useShortMonthInDropdown:a.props.useShortMonthInDropdown})}),Y(G(a),"renderMonthYearDropdown",function(){var u=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(a.props.showMonthYearDropdown&&!u)return re.createElement(PX,{dropdownMode:a.props.dropdownMode,locale:a.props.locale,dateFormat:a.props.dateFormat,onChange:a.changeMonthYear,minDate:a.props.minDate,maxDate:a.props.maxDate,date:a.state.date,scrollableMonthYearDropdown:a.props.scrollableMonthYearDropdown})}),Y(G(a),"handleTodayButtonClick",function(u){a.props.onSelect(KI(),u),a.props.setPreSelection&&a.props.setPreSelection(KI())}),Y(G(a),"renderTodayButton",function(){if(a.props.todayButton&&!a.props.showTimeSelectOnly)return re.createElement("div",{className:"react-datepicker__today-button",onClick:function(u){return a.handleTodayButtonClick(u)}},a.props.todayButton)}),Y(G(a),"renderDefaultHeader",function(u){var h=u.monthDate,f=u.i;return re.createElement("div",{className:"react-datepicker__header ".concat(a.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},a.renderCurrentMonth(h),re.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(a.props.dropdownMode),onFocus:a.handleDropdownFocus},a.renderMonthDropdown(f!==0),a.renderMonthYearDropdown(f!==0),a.renderYearDropdown(f!==0)),re.createElement("div",{className:"react-datepicker__day-names"},a.header(h)))}),Y(G(a),"renderCustomHeader",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=u.monthDate,f=u.i;if(a.props.showTimeSelect&&!a.state.monthContainer||a.props.showTimeSelectOnly)return null;var m=JI(a.state.date,a.props),k=XI(a.state.date,a.props),v=eM(a.state.date,a.props),_=tM(a.state.date,a.props),C=!a.props.showMonthYearPicker&&!a.props.showQuarterYearPicker&&!a.props.showYearPicker;return re.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:a.props.onDropdownFocus},a.props.renderCustomHeader(VI(VI({},a.state),{},{customHeaderCount:f,monthDate:h,changeMonth:a.changeMonth,changeYear:a.changeYear,decreaseMonth:a.decreaseMonth,increaseMonth:a.increaseMonth,decreaseYear:a.decreaseYear,increaseYear:a.increaseYear,prevMonthButtonDisabled:m,nextMonthButtonDisabled:k,prevYearButtonDisabled:v,nextYearButtonDisabled:_})),C&&re.createElement("div",{className:"react-datepicker__day-names"},a.header(h)))}),Y(G(a),"renderYearHeader",function(){var u=a.state.date,h=a.props,f=h.showYearPicker,m=cl(u,h.yearItemNumber),k=m.startPeriod,v=m.endPeriod;return re.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},f?"".concat(k," - ").concat(v):ot(u))}),Y(G(a),"renderHeader",function(u){switch(!0){case a.props.renderCustomHeader!==void 0:return a.renderCustomHeader(u);case(a.props.showMonthYearPicker||a.props.showQuarterYearPicker||a.props.showYearPicker):return a.renderYearHeader(u);default:return a.renderDefaultHeader(u)}}),Y(G(a),"renderMonths",function(){if(!a.props.showTimeSelectOnly&&!a.props.showYearPicker){for(var u=[],h=a.props.showPreviousMonths?a.props.monthsShown-1:0,f=xl(a.state.date,h),m=0;m<a.props.monthsShown;++m){var k=m-a.props.monthSelectedIn,v=Io(f,k),_="month-".concat(m),C=m<a.props.monthsShown-1,x=m>0;u.push(re.createElement("div",{key:_,ref:function(S){a.monthContainer=S},className:"react-datepicker__month-container"},a.renderHeader({monthDate:v,i:m}),re.createElement(RX,{chooseDayAriaLabelPrefix:a.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:a.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:a.props.weekAriaLabelPrefix,ariaLabelPrefix:a.props.monthAriaLabelPrefix,onChange:a.changeMonthYear,day:v,dayClassName:a.props.dayClassName,calendarStartDay:a.props.calendarStartDay,monthClassName:a.props.monthClassName,onDayClick:a.handleDayClick,handleOnKeyDown:a.props.handleOnDayKeyDown,onDayMouseEnter:a.handleDayMouseEnter,onMouseLeave:a.handleMonthMouseLeave,onWeekSelect:a.props.onWeekSelect,orderInDisplay:m,formatWeekNumber:a.props.formatWeekNumber,locale:a.props.locale,minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,excludeDateIntervals:a.props.excludeDateIntervals,highlightDates:a.props.highlightDates,selectingDate:a.state.selectingDate,includeDates:a.props.includeDates,includeDateIntervals:a.props.includeDateIntervals,inline:a.props.inline,shouldFocusDayInline:a.props.shouldFocusDayInline,fixedHeight:a.props.fixedHeight,filterDate:a.props.filterDate,preSelection:a.props.preSelection,setPreSelection:a.props.setPreSelection,selected:a.props.selected,selectsStart:a.props.selectsStart,selectsEnd:a.props.selectsEnd,selectsRange:a.props.selectsRange,selectsDisabledDaysInRange:a.props.selectsDisabledDaysInRange,showWeekNumbers:a.props.showWeekNumbers,startDate:a.props.startDate,endDate:a.props.endDate,peekNextMonth:a.props.peekNextMonth,setOpen:a.props.setOpen,shouldCloseOnSelect:a.props.shouldCloseOnSelect,renderDayContents:a.props.renderDayContents,renderMonthContent:a.props.renderMonthContent,renderQuarterContent:a.props.renderQuarterContent,renderYearContent:a.props.renderYearContent,disabledKeyboardNavigation:a.props.disabledKeyboardNavigation,showMonthYearPicker:a.props.showMonthYearPicker,showFullMonthYearPicker:a.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:a.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:a.props.showFourColumnMonthYearPicker,showYearPicker:a.props.showYearPicker,showQuarterYearPicker:a.props.showQuarterYearPicker,isInputFocused:a.props.isInputFocused,containerRef:a.containerRef,monthShowsDuplicateDaysEnd:C,monthShowsDuplicateDaysStart:x})))}return u}}),Y(G(a),"renderYears",function(){if(!a.props.showTimeSelectOnly)return a.props.showYearPicker?re.createElement("div",{className:"react-datepicker__year--container"},a.renderHeader(),re.createElement(LX,mm({onDayClick:a.handleDayClick,selectingDate:a.state.selectingDate,clearSelectingDate:a.clearSelectingDate,date:a.state.date},a.props,{onYearMouseEnter:a.handleYearMouseEnter,onYearMouseLeave:a.handleYearMouseLeave}))):void 0}),Y(G(a),"renderTimeSection",function(){if(a.props.showTimeSelect&&(a.state.monthContainer||a.props.showTimeSelectOnly))return re.createElement(iO,{selected:a.props.selected,openToDate:a.props.openToDate,onChange:a.props.onTimeChange,timeClassName:a.props.timeClassName,format:a.props.timeFormat,includeTimes:a.props.includeTimes,intervals:a.props.timeIntervals,minTime:a.props.minTime,maxTime:a.props.maxTime,excludeTimes:a.props.excludeTimes,filterTime:a.props.filterTime,timeCaption:a.props.timeCaption,todayButton:a.props.todayButton,showMonthDropdown:a.props.showMonthDropdown,showMonthYearDropdown:a.props.showMonthYearDropdown,showYearDropdown:a.props.showYearDropdown,withPortal:a.props.withPortal,monthRef:a.state.monthContainer,injectTimes:a.props.injectTimes,locale:a.props.locale,handleOnKeyDown:a.props.handleOnKeyDown,showTimeSelectOnly:a.props.showTimeSelectOnly})}),Y(G(a),"renderInputTimeSection",function(){var u=new Date(a.props.selected),h=ws(u)&&a.props.selected?"".concat(rM(u.getHours()),":").concat(rM(u.getMinutes())):"";if(a.props.showTimeInput)return re.createElement(jX,{date:u,timeString:h,timeInputLabel:a.props.timeInputLabel,onChange:a.props.onTimeChange,customTimeInput:a.props.customTimeInput})}),Y(G(a),"renderAriaLiveRegion",function(){var u,h=cl(a.state.date,a.props.yearItemNumber),f=h.startPeriod,m=h.endPeriod;return u=a.props.showYearPicker?"".concat(f," - ").concat(m):a.props.showMonthYearPicker||a.props.showQuarterYearPicker?ot(a.state.date):"".concat(t_(Jn(a.state.date),a.props.locale)," ").concat(ot(a.state.date)),re.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&u)}),Y(G(a),"renderChildren",function(){if(a.props.children)return re.createElement("div",{className:"react-datepicker__children-container"},a.props.children)}),a.containerRef=re.createRef(),a.state={date:a.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},a}return On(o,[{key:"componentDidMount",value:function(){var s=this;this.props.showTimeSelect&&(this.assignMonthContainer=void s.setState({monthContainer:s.monthContainer}))}},{key:"componentDidUpdate",value:function(s){var a=this;if(!this.props.preSelection||or(this.props.preSelection,s.preSelection)&&this.props.monthSelectedIn===s.monthSelectedIn)this.props.openToDate&&!or(this.props.openToDate,s.openToDate)&&this.setState({date:this.props.openToDate});else{var u=!xo(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return u&&a.handleCustomMonthChange(a.state.date)})}}},{key:"render",value:function(){var s=this.props.container||zX;return re.createElement("div",{ref:this.containerRef},re.createElement(s,{className:ar("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showPopperArrow:this.props.showPopperArrow,arrowProps:this.props.arrowProps},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,monthSelectedIn:0,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:12}}}]),o}(),sO=function(n){Bn(o,re.Component);var r=Rn(o);function o(s){var a;return Nn(this,o),(a=r.call(this,s)).el=document.createElement("div"),a}return On(o,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return V8.createPortal(this.props.children,this.el)}}]),o}(),VX=function(n){return!n.disabled&&n.tabIndex!==-1},aO=function(n){Bn(o,re.Component);var r=Rn(o);function o(s){var a;return Nn(this,o),Y(G(a=r.call(this,s)),"getTabChildren",function(){return Array.prototype.slice.call(a.tabLoopRef.current.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(VX)}),Y(G(a),"handleFocusStart",function(){var u=a.getTabChildren();u&&u.length>1&&u[u.length-1].focus()}),Y(G(a),"handleFocusEnd",function(){var u=a.getTabChildren();u&&u.length>1&&u[0].focus()}),a.tabLoopRef=re.createRef(),a}return On(o,[{key:"render",value:function(){return this.props.enableTabLoop?re.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},re.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,re.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}]),o}(),HX=function(n){Bn(o,re.Component);var r=Rn(o);function o(){return Nn(this,o),r.apply(this,arguments)}return On(o,[{key:"render",value:function(){var s,a=this.props,u=a.className,h=a.wrapperClassName,f=a.hidePopper,m=a.popperComponent,k=a.popperModifiers,v=a.popperPlacement,_=a.popperProps,C=a.targetComponent,x=a.enableTabLoop,S=a.popperOnKeyDown,T=a.portalId,B=a.portalHost;if(!f){var N=ar("react-datepicker-popper",u);s=re.createElement(lX,mm({modifiers:k,placement:v},_),function(L){var V=L.ref,K=L.style,Z=L.placement,Q=L.arrowProps;return re.createElement(aO,{enableTabLoop:x},re.createElement("div",{ref:V,style:K,className:N,"data-placement":Z,onKeyDown:S},re.cloneElement(m,{arrowProps:Q})))})}this.props.popperContainer&&(s=re.createElement(this.props.popperContainer,{},s)),T&&!f&&(s=re.createElement(sO,{portalId:T,portalHost:B},s));var I=ar("react-datepicker-wrapper",h);return re.createElement($Z,{className:"react-datepicker-manager"},re.createElement(pX,null,function(L){var V=L.ref;return re.createElement("div",{ref:V,className:I},C)}),s)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:[],popperProps:{},popperPlacement:"bottom-start"}}}]),o}(),WX=fm(UX),$X=function(n){Bn(o,re.Component);var r=Rn(o);function o(s){var a;return Nn(this,o),Y(G(a=r.call(this,s)),"getPreSelection",function(){return a.props.openToDate?a.props.openToDate:a.props.selectsEnd&&a.props.startDate?a.props.startDate:a.props.selectsStart&&a.props.endDate?a.props.endDate:Lt()}),Y(G(a),"calcInitialState",function(){var u,h=a.getPreSelection(),f=eO(a.props),m=tO(a.props),k=f&&Pi(h,ai(f))?f:m&&Hs(h,k0(m))?m:h;return{open:a.props.startOpen||!1,preventFocus:!1,preSelection:(u=a.props.selectsRange?a.props.startDate:a.props.selected)!==null&&u!==void 0?u:k,highlightDates:nM(a.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),Y(G(a),"clearPreventFocusTimeout",function(){a.preventFocusTimeout&&clearTimeout(a.preventFocusTimeout)}),Y(G(a),"setFocus",function(){a.input&&a.input.focus&&a.input.focus({preventScroll:!0})}),Y(G(a),"setBlur",function(){a.input&&a.input.blur&&a.input.blur(),a.cancelFocusInput()}),Y(G(a),"setOpen",function(u){var h=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a.setState({open:u,preSelection:u&&a.state.open?a.state.preSelection:a.calcInitialState().preSelection,lastPreSelectChange:Ww},function(){u||a.setState(function(f){return{focused:!!h&&f.focused}},function(){!h&&a.setBlur(),a.setState({inputValue:null})})})}),Y(G(a),"inputOk",function(){return zy(a.state.preSelection)}),Y(G(a),"isCalendarOpen",function(){return a.props.open===void 0?a.state.open&&!a.props.disabled&&!a.props.readOnly:a.props.open}),Y(G(a),"handleFocus",function(u){a.state.preventFocus||(a.props.onFocus(u),a.props.preventOpenOnFocus||a.props.readOnly||a.setOpen(!0)),a.setState({focused:!0})}),Y(G(a),"cancelFocusInput",function(){clearTimeout(a.inputFocusTimeout),a.inputFocusTimeout=null}),Y(G(a),"deferFocusInput",function(){a.cancelFocusInput(),a.inputFocusTimeout=setTimeout(function(){return a.setFocus()},1)}),Y(G(a),"handleDropdownFocus",function(){a.cancelFocusInput()}),Y(G(a),"handleBlur",function(u){(!a.state.open||a.props.withPortal||a.props.showTimeInput)&&a.props.onBlur(u),a.setState({focused:!1})}),Y(G(a),"handleCalendarClickOutside",function(u){a.props.inline||a.setOpen(!1),a.props.onClickOutside(u),a.props.withPortal&&u.preventDefault()}),Y(G(a),"handleChange",function(){for(var u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];var m=h[0];if(!a.props.onChangeRaw||(a.props.onChangeRaw.apply(G(a),h),typeof m.isDefaultPrevented=="function"&&!m.isDefaultPrevented())){a.setState({inputValue:m.target.value,lastPreSelectChange:YX});var k=bX(m.target.value,a.props.dateFormat,a.props.locale,a.props.strictParsing,a.props.minDate);a.props.showTimeSelectOnly&&a.props.selected&&!or(k,a.props.selected)&&(k=fX(a.props.selected,k==null?{hours:Br(a.props.selected),minutes:Or(a.props.selected),seconds:Bw(a.props.selected)}:{hours:Br(k),minutes:Or(k),seconds:Bw(k)})),!k&&m.target.value||a.setSelected(k,m,!0)}}),Y(G(a),"handleSelect",function(u,h,f){if(a.setState({preventFocus:!0},function(){return a.preventFocusTimeout=setTimeout(function(){return a.setState({preventFocus:!1})},50),a.preventFocusTimeout}),a.props.onChangeRaw&&a.props.onChangeRaw(h),a.setSelected(u,h,!1,f),a.setState({isRenderAriaLiveMessage:!0}),!a.props.shouldCloseOnSelect||a.props.showTimeSelect)a.setPreSelection(u);else if(!a.props.inline){a.props.selectsRange||a.setOpen(!1);var m=a.props,k=m.startDate,v=m.endDate;!k||v||Pi(u,k)||a.setOpen(!1)}}),Y(G(a),"setSelected",function(u,h,f,m){var k=u;if(a.props.showYearPicker){if(k!==null&&XN(ot(k),a.props))return}else if(a.props.showMonthYearPicker){if(k!==null&&JN(k,a.props))return}else if(k!==null&&km(k,a.props))return;var v=a.props,_=v.onChange,C=v.selectsRange,x=v.startDate,S=v.endDate;if(!Ds(a.props.selected,k)||a.props.allowSameDay||C)if(k!==null&&(!a.props.selected||f&&(a.props.showTimeSelect||a.props.showTimeSelectOnly||a.props.showTimeInput)||(k=YI(k,{hour:Br(a.props.selected),minute:Or(a.props.selected),second:Bw(a.props.selected)})),a.props.inline||a.setState({preSelection:k}),a.props.focusSelectedMonth||a.setState({monthSelectedIn:m})),C){var T=x&&!S,B=x&&S;!x&&!S?_([k,null],h):T&&(Pi(k,x)?_([k,null],h):_([x,k],h)),B&&_([k,null],h)}else _(k,h);f||(a.props.onSelect(k,h),a.setState({inputValue:null}))}),Y(G(a),"setPreSelection",function(u){var h=a.props.minDate!==void 0,f=a.props.maxDate!==void 0,m=!0;if(u){var k=ai(u);if(h&&f)m=Lf(u,a.props.minDate,a.props.maxDate);else if(h){var v=ai(a.props.minDate);m=Hs(u,v)||Ds(k,v)}else if(f){var _=k0(a.props.maxDate);m=Pi(u,_)||Ds(k,_)}}m&&a.setState({preSelection:u})}),Y(G(a),"handleTimeChange",function(u){var h=YI(a.props.selected?a.props.selected:a.getPreSelection(),{hour:Br(u),minute:Or(u)});a.setState({preSelection:h}),a.props.onChange(h),a.props.shouldCloseOnSelect&&a.setOpen(!1),a.props.showTimeInput&&a.setOpen(!0),(a.props.showTimeSelectOnly||a.props.showTimeSelect)&&a.setState({isRenderAriaLiveMessage:!0}),a.setState({inputValue:null})}),Y(G(a),"onInputClick",function(){a.props.disabled||a.props.readOnly||a.setOpen(!0),a.props.onInputClick()}),Y(G(a),"onInputKeyDown",function(u){a.props.onKeyDown(u);var h=u.key;if(a.state.open||a.props.inline||a.props.preventOpenOnFocus){if(a.state.open){if(h==="ArrowDown"||h==="ArrowUp"){u.preventDefault();var f=a.calendar.componentNode&&a.calendar.componentNode.querySelector('.react-datepicker__day[tabindex="0"]');return void(f&&f.focus({preventScroll:!0}))}var m=Lt(a.state.preSelection);h==="Enter"?(u.preventDefault(),a.inputOk()&&a.state.lastPreSelectChange===Ww?(a.handleSelect(m,u),!a.props.shouldCloseOnSelect&&a.setPreSelection(m)):a.setOpen(!1)):h==="Escape"?(u.preventDefault(),a.setOpen(!1)):h==="Tab"&&u.shiftKey&&a.setOpen(!1),a.inputOk()||a.props.onInputError({code:1,msg:"Date input not valid."})}}else h!=="ArrowDown"&&h!=="ArrowUp"&&h!=="Enter"||a.onInputClick()}),Y(G(a),"onPortalKeyDown",function(u){u.key==="Escape"&&(u.preventDefault(),a.setState({preventFocus:!0},function(){a.setOpen(!1),setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})}))}),Y(G(a),"onDayKeyDown",function(u){a.props.onKeyDown(u);var h=u.key,f=Lt(a.state.preSelection);if(h==="Enter")u.preventDefault(),a.handleSelect(f,u),!a.props.shouldCloseOnSelect&&a.setPreSelection(f);else if(h==="Escape")u.preventDefault(),a.setOpen(!1),a.inputOk()||a.props.onInputError({code:1,msg:"Date input not valid."});else if(!a.props.disabledKeyboardNavigation){var m;switch(h){case"ArrowLeft":m=nQ(f,1);break;case"ArrowRight":m=jl(f,1);break;case"ArrowUp":m=rQ(f,1);break;case"ArrowDown":m=Vy(f,1);break;case"PageUp":m=xl(f,1);break;case"PageDown":m=Io(f,1);break;case"Home":m=Hd(f,1);break;case"End":m=Al(f,1)}if(!m)return void(a.props.onInputError&&a.props.onInputError({code:1,msg:"Date input not valid."}));if(u.preventDefault(),a.setState({lastPreSelectChange:Ww}),a.props.adjustDateOnChange&&a.setSelected(m),a.setPreSelection(m),a.props.inline){var k=Jn(f),v=Jn(m),_=ot(f),C=ot(m);k!==v||_!==C?a.setState({shouldFocusDayInline:!0}):a.setState({shouldFocusDayInline:!1})}}}),Y(G(a),"onPopperKeyDown",function(u){u.key==="Escape"&&(u.preventDefault(),a.setState({preventFocus:!0},function(){a.setOpen(!1),setTimeout(function(){a.setFocus(),a.setState({preventFocus:!1})})}))}),Y(G(a),"onClearClick",function(u){u&&u.preventDefault&&u.preventDefault(),a.props.selectsRange?a.props.onChange([null,null],u):a.props.onChange(null,u),a.setState({inputValue:null})}),Y(G(a),"clear",function(){a.onClearClick()}),Y(G(a),"onScroll",function(u){typeof a.props.closeOnScroll=="boolean"&&a.props.closeOnScroll?u.target!==document&&u.target!==document.documentElement&&u.target!==document.body||a.setOpen(!1):typeof a.props.closeOnScroll=="function"&&a.props.closeOnScroll(u)&&a.setOpen(!1)}),Y(G(a),"renderCalendar",function(){return a.props.inline||a.isCalendarOpen()?re.createElement(WX,{ref:function(u){a.calendar=u},locale:a.props.locale,calendarStartDay:a.props.calendarStartDay,chooseDayAriaLabelPrefix:a.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:a.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:a.props.weekAriaLabelPrefix,monthAriaLabelPrefix:a.props.monthAriaLabelPrefix,adjustDateOnChange:a.props.adjustDateOnChange,setOpen:a.setOpen,shouldCloseOnSelect:a.props.shouldCloseOnSelect,dateFormat:a.props.dateFormatCalendar,useWeekdaysShort:a.props.useWeekdaysShort,formatWeekDay:a.props.formatWeekDay,dropdownMode:a.props.dropdownMode,selected:a.props.selected,preSelection:a.state.preSelection,onSelect:a.handleSelect,onWeekSelect:a.props.onWeekSelect,openToDate:a.props.openToDate,minDate:a.props.minDate,maxDate:a.props.maxDate,selectsStart:a.props.selectsStart,selectsEnd:a.props.selectsEnd,selectsRange:a.props.selectsRange,startDate:a.props.startDate,endDate:a.props.endDate,excludeDates:a.props.excludeDates,excludeDateIntervals:a.props.excludeDateIntervals,filterDate:a.props.filterDate,onClickOutside:a.handleCalendarClickOutside,formatWeekNumber:a.props.formatWeekNumber,highlightDates:a.state.highlightDates,includeDates:a.props.includeDates,includeDateIntervals:a.props.includeDateIntervals,includeTimes:a.props.includeTimes,injectTimes:a.props.injectTimes,inline:a.props.inline,shouldFocusDayInline:a.state.shouldFocusDayInline,peekNextMonth:a.props.peekNextMonth,showMonthDropdown:a.props.showMonthDropdown,showPreviousMonths:a.props.showPreviousMonths,useShortMonthInDropdown:a.props.useShortMonthInDropdown,showMonthYearDropdown:a.props.showMonthYearDropdown,showWeekNumbers:a.props.showWeekNumbers,showYearDropdown:a.props.showYearDropdown,withPortal:a.props.withPortal,forceShowMonthNavigation:a.props.forceShowMonthNavigation,showDisabledMonthNavigation:a.props.showDisabledMonthNavigation,scrollableYearDropdown:a.props.scrollableYearDropdown,scrollableMonthYearDropdown:a.props.scrollableMonthYearDropdown,todayButton:a.props.todayButton,weekLabel:a.props.weekLabel,outsideClickIgnoreClass:"react-datepicker-ignore-onclickoutside",fixedHeight:a.props.fixedHeight,monthsShown:a.props.monthsShown,monthSelectedIn:a.state.monthSelectedIn,onDropdownFocus:a.handleDropdownFocus,onMonthChange:a.props.onMonthChange,onYearChange:a.props.onYearChange,dayClassName:a.props.dayClassName,weekDayClassName:a.props.weekDayClassName,monthClassName:a.props.monthClassName,timeClassName:a.props.timeClassName,showTimeSelect:a.props.showTimeSelect,showTimeSelectOnly:a.props.showTimeSelectOnly,onTimeChange:a.handleTimeChange,timeFormat:a.props.timeFormat,timeIntervals:a.props.timeIntervals,minTime:a.props.minTime,maxTime:a.props.maxTime,excludeTimes:a.props.excludeTimes,filterTime:a.props.filterTime,timeCaption:a.props.timeCaption,className:a.props.calendarClassName,container:a.props.calendarContainer,yearItemNumber:a.props.yearItemNumber,yearDropdownItemNumber:a.props.yearDropdownItemNumber,previousMonthAriaLabel:a.props.previousMonthAriaLabel,previousMonthButtonLabel:a.props.previousMonthButtonLabel,nextMonthAriaLabel:a.props.nextMonthAriaLabel,nextMonthButtonLabel:a.props.nextMonthButtonLabel,previousYearAriaLabel:a.props.previousYearAriaLabel,previousYearButtonLabel:a.props.previousYearButtonLabel,nextYearAriaLabel:a.props.nextYearAriaLabel,nextYearButtonLabel:a.props.nextYearButtonLabel,timeInputLabel:a.props.timeInputLabel,disabledKeyboardNavigation:a.props.disabledKeyboardNavigation,renderCustomHeader:a.props.renderCustomHeader,popperProps:a.props.popperProps,renderDayContents:a.props.renderDayContents,renderMonthContent:a.props.renderMonthContent,renderQuarterContent:a.props.renderQuarterContent,renderYearContent:a.props.renderYearContent,onDayMouseEnter:a.props.onDayMouseEnter,onMonthMouseLeave:a.props.onMonthMouseLeave,onYearMouseEnter:a.props.onYearMouseEnter,onYearMouseLeave:a.props.onYearMouseLeave,selectsDisabledDaysInRange:a.props.selectsDisabledDaysInRange,showTimeInput:a.props.showTimeInput,showMonthYearPicker:a.props.showMonthYearPicker,showFullMonthYearPicker:a.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:a.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:a.props.showFourColumnMonthYearPicker,showYearPicker:a.props.showYearPicker,showQuarterYearPicker:a.props.showQuarterYearPicker,showPopperArrow:a.props.showPopperArrow,excludeScrollbar:a.props.excludeScrollbar,handleOnKeyDown:a.props.onKeyDown,handleOnDayKeyDown:a.onDayKeyDown,isInputFocused:a.state.focused,customTimeInput:a.props.customTimeInput,setPreSelection:a.setPreSelection},a.props.children):null}),Y(G(a),"renderAriaLiveRegion",function(){var u,h=a.props,f=h.dateFormat,m=h.locale,k=a.props.showTimeInput||a.props.showTimeSelect?"PPPPp":"PPPP";return u=a.props.selectsRange?"Selected start date: ".concat(Jo(a.props.startDate,{dateFormat:k,locale:m}),". ").concat(a.props.endDate?"End date: "+Jo(a.props.endDate,{dateFormat:k,locale:m}):""):a.props.showTimeSelectOnly?"Selected time: ".concat(Jo(a.props.selected,{dateFormat:f,locale:m})):a.props.showYearPicker?"Selected year: ".concat(Jo(a.props.selected,{dateFormat:"yyyy",locale:m})):a.props.showMonthYearPicker?"Selected month: ".concat(Jo(a.props.selected,{dateFormat:"MMMM yyyy",locale:m})):a.props.showQuarterYearPicker?"Selected quarter: ".concat(Jo(a.props.selected,{dateFormat:"yyyy, QQQ",locale:m})):"Selected date: ".concat(Jo(a.props.selected,{dateFormat:k,locale:m})),re.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a.state.isRenderAriaLiveMessage&&u)}),Y(G(a),"renderDateInput",function(){var u,h=ar(a.props.className,Y({},"react-datepicker-ignore-onclickoutside",a.state.open)),f=a.props.customInput||re.createElement("input",{type:"text"}),m=a.props.customInputRef||"ref",k=typeof a.props.value=="string"?a.props.value:typeof a.state.inputValue=="string"?a.state.inputValue:a.props.selectsRange?function(v,_,C){if(!v)return"";var x=Jo(v,C),S=_?Jo(_,C):"";return"".concat(x," - ").concat(S)}(a.props.startDate,a.props.endDate,a.props):Jo(a.props.selected,a.props);return re.cloneElement(f,(Y(u={},m,function(v){a.input=v}),Y(u,"value",k),Y(u,"onBlur",a.handleBlur),Y(u,"onChange",a.handleChange),Y(u,"onClick",a.onInputClick),Y(u,"onFocus",a.handleFocus),Y(u,"onKeyDown",a.onInputKeyDown),Y(u,"id",a.props.id),Y(u,"name",a.props.name),Y(u,"form",a.props.form),Y(u,"autoFocus",a.props.autoFocus),Y(u,"placeholder",a.props.placeholderText),Y(u,"disabled",a.props.disabled),Y(u,"autoComplete",a.props.autoComplete),Y(u,"className",ar(f.props.className,h)),Y(u,"title",a.props.title),Y(u,"readOnly",a.props.readOnly),Y(u,"required",a.props.required),Y(u,"tabIndex",a.props.tabIndex),Y(u,"aria-describedby",a.props.ariaDescribedBy),Y(u,"aria-invalid",a.props.ariaInvalid),Y(u,"aria-labelledby",a.props.ariaLabelledBy),Y(u,"aria-required",a.props.ariaRequired),u))}),Y(G(a),"renderClearButton",function(){var u=a.props,h=u.isClearable,f=u.selected,m=u.startDate,k=u.endDate,v=u.clearButtonTitle,_=u.clearButtonClassName,C=_===void 0?"":_,x=u.ariaLabelClose,S=x===void 0?"Close":x;return!h||f==null&&m==null&&k==null?null:re.createElement("button",{type:"button",className:"react-datepicker__close-icon ".concat(C).trim(),"aria-label":S,onClick:a.onClearClick,title:v,tabIndex:-1})}),a.state=a.calcInitialState(),a}return On(o,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(s,a){var u,h;s.inline&&(u=s.selected,h=this.props.selected,u&&h?Jn(u)!==Jn(h)||ot(u)!==ot(h):u!==h)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&s.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),s.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:nM(this.props.highlightDates)}),a.focused||Ds(s.selected,this.props.selected)||this.setState({inputValue:null}),a.open!==this.state.open&&(a.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),a.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var s=this.props.showIcon;return re.createElement("div",{className:"react-datepicker__input-container ".concat(s?"react-datepicker__view-calendar-icon":"")},s&&re.createElement("svg",{className:"react-datepicker__calendar-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},re.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"})),this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var s=this.renderCalendar();if(this.props.inline)return s;if(this.props.withPortal){var a=this.state.open?re.createElement(aO,{enableTabLoop:this.props.enableTabLoop},re.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},s)):null;return this.state.open&&this.props.portalId&&(a=re.createElement(sO,{portalId:this.props.portalId,portalHost:this.props.portalHost},a)),re.createElement("div",null,this.renderInputContainer(),a)}return re.createElement(HX,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:s,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:12,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0}}}]),o}(),YX="input",Ww="navigate",Rg={exports:{}};Rg.exports;(function(n,r){(function(o){const s=o.en=o.en||{};s.dictionary=Object.assign(s.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Inset:"Inset",Italic:"Italic","Justify cell text":"Justify cell text","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lower–roman":"Lower–roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Style:"Style",Subscript:"Subscript",Superscript:"Superscript","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower–latin list style":"Toggle the lower–latin list style","Toggle the lower–roman list style":"Toggle the lower–roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper–latin list style":"Toggle the upper–latin list style","Toggle the upper–roman list style":"Toggle the upper–roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(o,s){n.exports=s()}(self,()=>(()=>{var o={4959:(h,f,m)=>{const k=m(1103),v={};for(const C of Object.keys(k))v[k[C]]=C;const _={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};h.exports=_;for(const C of Object.keys(_)){if(!("channels"in _[C]))throw new Error("missing channels property: "+C);if(!("labels"in _[C]))throw new Error("missing channel labels property: "+C);if(_[C].labels.length!==_[C].channels)throw new Error("channel and label counts mismatch: "+C);const{channels:x,labels:S}=_[C];delete _[C].channels,delete _[C].labels,Object.defineProperty(_[C],"channels",{value:x}),Object.defineProperty(_[C],"labels",{value:S})}_.rgb.hsl=function(C){const x=C[0]/255,S=C[1]/255,T=C[2]/255,B=Math.min(x,S,T),N=Math.max(x,S,T),I=N-B;let L,V;N===B?L=0:x===N?L=(S-T)/I:S===N?L=2+(T-x)/I:T===N&&(L=4+(x-S)/I),L=Math.min(60*L,360),L<0&&(L+=360);const K=(B+N)/2;return V=N===B?0:K<=.5?I/(N+B):I/(2-N-B),[L,100*V,100*K]},_.rgb.hsv=function(C){let x,S,T,B,N;const I=C[0]/255,L=C[1]/255,V=C[2]/255,K=Math.max(I,L,V),Z=K-Math.min(I,L,V),Q=function(z){return(K-z)/6/Z+.5};return Z===0?(B=0,N=0):(N=Z/K,x=Q(I),S=Q(L),T=Q(V),I===K?B=T-S:L===K?B=.3333333333333333+x-T:V===K&&(B=.6666666666666666+S-x),B<0?B+=1:B>1&&(B-=1)),[360*B,100*N,100*K]},_.rgb.hwb=function(C){const x=C[0],S=C[1];let T=C[2];const B=_.rgb.hsl(C)[0],N=1/255*Math.min(x,Math.min(S,T));return T=1-.00392156862745098*Math.max(x,Math.max(S,T)),[B,100*N,100*T]},_.rgb.cmyk=function(C){const x=C[0]/255,S=C[1]/255,T=C[2]/255,B=Math.min(1-x,1-S,1-T);return[100*((1-x-B)/(1-B)||0),100*((1-S-B)/(1-B)||0),100*((1-T-B)/(1-B)||0),100*B]},_.rgb.keyword=function(C){const x=v[C];if(x)return x;let S,T=1/0;for(const I of Object.keys(k)){const L=k[I],V=(N=L,((B=C)[0]-N[0])**2+(B[1]-N[1])**2+(B[2]-N[2])**2);V<T&&(T=V,S=I)}var B,N;return S},_.keyword.rgb=function(C){return k[C]},_.rgb.xyz=function(C){let x=C[0]/255,S=C[1]/255,T=C[2]/255;return x=x>.04045?((x+.055)/1.055)**2.4:x/12.92,S=S>.04045?((S+.055)/1.055)**2.4:S/12.92,T=T>.04045?((T+.055)/1.055)**2.4:T/12.92,[100*(.4124*x+.3576*S+.1805*T),100*(.2126*x+.7152*S+.0722*T),100*(.0193*x+.1192*S+.9505*T)]},_.rgb.lab=function(C){const x=_.rgb.xyz(C);let S=x[0],T=x[1],B=x[2];return S/=95.047,T/=100,B/=108.883,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,B=B>.008856?B**.3333333333333333:7.787*B+.13793103448275862,[116*T-16,500*(S-T),200*(T-B)]},_.hsl.rgb=function(C){const x=C[0]/360,S=C[1]/100,T=C[2]/100;let B,N,I;if(S===0)return I=255*T,[I,I,I];B=T<.5?T*(1+S):T+S-T*S;const L=2*T-B,V=[0,0,0];for(let K=0;K<3;K++)N=x+.3333333333333333*-(K-1),N<0&&N++,N>1&&N--,I=6*N<1?L+6*(B-L)*N:2*N<1?B:3*N<2?L+(B-L)*(.6666666666666666-N)*6:L,V[K]=255*I;return V},_.hsl.hsv=function(C){const x=C[0];let S=C[1]/100,T=C[2]/100,B=S;const N=Math.max(T,.01);return T*=2,S*=T<=1?T:2-T,B*=N<=1?N:2-N,[x,100*(T===0?2*B/(N+B):2*S/(T+S)),100*((T+S)/2)]},_.hsv.rgb=function(C){const x=C[0]/60,S=C[1]/100;let T=C[2]/100;const B=Math.floor(x)%6,N=x-Math.floor(x),I=255*T*(1-S),L=255*T*(1-S*N),V=255*T*(1-S*(1-N));switch(T*=255,B){case 0:return[T,V,I];case 1:return[L,T,I];case 2:return[I,T,V];case 3:return[I,L,T];case 4:return[V,I,T];case 5:return[T,I,L]}},_.hsv.hsl=function(C){const x=C[0],S=C[1]/100,T=C[2]/100,B=Math.max(T,.01);let N,I;I=(2-S)*T;const L=(2-S)*B;return N=S*B,N/=L<=1?L:2-L,N=N||0,I/=2,[x,100*N,100*I]},_.hwb.rgb=function(C){const x=C[0]/360;let S=C[1]/100,T=C[2]/100;const B=S+T;let N;B>1&&(S/=B,T/=B);const I=Math.floor(6*x),L=1-T;N=6*x-I,1&I&&(N=1-N);const V=S+N*(L-S);let K,Z,Q;switch(I){default:case 6:case 0:K=L,Z=V,Q=S;break;case 1:K=V,Z=L,Q=S;break;case 2:K=S,Z=L,Q=V;break;case 3:K=S,Z=V,Q=L;break;case 4:K=V,Z=S,Q=L;break;case 5:K=L,Z=S,Q=V}return[255*K,255*Z,255*Q]},_.cmyk.rgb=function(C){const x=C[0]/100,S=C[1]/100,T=C[2]/100,B=C[3]/100;return[255*(1-Math.min(1,x*(1-B)+B)),255*(1-Math.min(1,S*(1-B)+B)),255*(1-Math.min(1,T*(1-B)+B))]},_.xyz.rgb=function(C){const x=C[0]/100,S=C[1]/100,T=C[2]/100;let B,N,I;return B=3.2406*x+-1.5372*S+-.4986*T,N=-.9689*x+1.8758*S+.0415*T,I=.0557*x+-.204*S+1.057*T,B=B>.0031308?1.055*B**.4166666666666667-.055:12.92*B,N=N>.0031308?1.055*N**.4166666666666667-.055:12.92*N,I=I>.0031308?1.055*I**.4166666666666667-.055:12.92*I,B=Math.min(Math.max(0,B),1),N=Math.min(Math.max(0,N),1),I=Math.min(Math.max(0,I),1),[255*B,255*N,255*I]},_.xyz.lab=function(C){let x=C[0],S=C[1],T=C[2];return x/=95.047,S/=100,T/=108.883,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,S=S>.008856?S**.3333333333333333:7.787*S+.13793103448275862,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,[116*S-16,500*(x-S),200*(S-T)]},_.lab.xyz=function(C){let x,S,T;S=(C[0]+16)/116,x=C[1]/500+S,T=S-C[2]/200;const B=S**3,N=x**3,I=T**3;return S=B>.008856?B:(S-.13793103448275862)/7.787,x=N>.008856?N:(x-.13793103448275862)/7.787,T=I>.008856?I:(T-.13793103448275862)/7.787,x*=95.047,S*=100,T*=108.883,[x,S,T]},_.lab.lch=function(C){const x=C[0],S=C[1],T=C[2];let B;return B=360*Math.atan2(T,S)/2/Math.PI,B<0&&(B+=360),[x,Math.sqrt(S*S+T*T),B]},_.lch.lab=function(C){const x=C[0],S=C[1],T=C[2]/360*2*Math.PI;return[x,S*Math.cos(T),S*Math.sin(T)]},_.rgb.ansi16=function(C,x=null){const[S,T,B]=C;let N=x===null?_.rgb.hsv(C)[2]:x;if(N=Math.round(N/50),N===0)return 30;let I=30+(Math.round(B/255)<<2|Math.round(T/255)<<1|Math.round(S/255));return N===2&&(I+=60),I},_.hsv.ansi16=function(C){return _.rgb.ansi16(_.hsv.rgb(C),C[2])},_.rgb.ansi256=function(C){const x=C[0],S=C[1],T=C[2];return x===S&&S===T?x<8?16:x>248?231:Math.round((x-8)/247*24)+232:16+36*Math.round(x/255*5)+6*Math.round(S/255*5)+Math.round(T/255*5)},_.ansi16.rgb=function(C){let x=C%10;if(x===0||x===7)return C>50&&(x+=3.5),x=x/10.5*255,[x,x,x];const S=.5*(1+~~(C>50));return[(1&x)*S*255,(x>>1&1)*S*255,(x>>2&1)*S*255]},_.ansi256.rgb=function(C){if(C>=232){const S=10*(C-232)+8;return[S,S,S]}let x;return C-=16,[Math.floor(C/36)/5*255,Math.floor((x=C%36)/6)/5*255,x%6/5*255]},_.rgb.hex=function(C){const x=(((255&Math.round(C[0]))<<16)+((255&Math.round(C[1]))<<8)+(255&Math.round(C[2]))).toString(16).toUpperCase();return"000000".substring(x.length)+x},_.hex.rgb=function(C){const x=C.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!x)return[0,0,0];let S=x[0];x[0].length===3&&(S=S.split("").map(B=>B+B).join(""));const T=parseInt(S,16);return[T>>16&255,T>>8&255,255&T]},_.rgb.hcg=function(C){const x=C[0]/255,S=C[1]/255,T=C[2]/255,B=Math.max(Math.max(x,S),T),N=Math.min(Math.min(x,S),T),I=B-N;let L,V;return L=I<1?N/(1-I):0,V=I<=0?0:B===x?(S-T)/I%6:B===S?2+(T-x)/I:4+(x-S)/I,V/=6,V%=1,[360*V,100*I,100*L]},_.hsl.hcg=function(C){const x=C[1]/100,S=C[2]/100,T=S<.5?2*x*S:2*x*(1-S);let B=0;return T<1&&(B=(S-.5*T)/(1-T)),[C[0],100*T,100*B]},_.hsv.hcg=function(C){const x=C[1]/100,S=C[2]/100,T=x*S;let B=0;return T<1&&(B=(S-T)/(1-T)),[C[0],100*T,100*B]},_.hcg.rgb=function(C){const x=C[0]/360,S=C[1]/100,T=C[2]/100;if(S===0)return[255*T,255*T,255*T];const B=[0,0,0],N=x%1*6,I=N%1,L=1-I;let V=0;switch(Math.floor(N)){case 0:B[0]=1,B[1]=I,B[2]=0;break;case 1:B[0]=L,B[1]=1,B[2]=0;break;case 2:B[0]=0,B[1]=1,B[2]=I;break;case 3:B[0]=0,B[1]=L,B[2]=1;break;case 4:B[0]=I,B[1]=0,B[2]=1;break;default:B[0]=1,B[1]=0,B[2]=L}return V=(1-S)*T,[255*(S*B[0]+V),255*(S*B[1]+V),255*(S*B[2]+V)]},_.hcg.hsv=function(C){const x=C[1]/100,S=x+C[2]/100*(1-x);let T=0;return S>0&&(T=x/S),[C[0],100*T,100*S]},_.hcg.hsl=function(C){const x=C[1]/100,S=C[2]/100*(1-x)+.5*x;let T=0;return S>0&&S<.5?T=x/(2*S):S>=.5&&S<1&&(T=x/(2*(1-S))),[C[0],100*T,100*S]},_.hcg.hwb=function(C){const x=C[1]/100,S=x+C[2]/100*(1-x);return[C[0],100*(S-x),100*(1-S)]},_.hwb.hcg=function(C){const x=C[1]/100,S=1-C[2]/100,T=S-x;let B=0;return T<1&&(B=(S-T)/(1-T)),[C[0],100*T,100*B]},_.apple.rgb=function(C){return[C[0]/65535*255,C[1]/65535*255,C[2]/65535*255]},_.rgb.apple=function(C){return[C[0]/255*65535,C[1]/255*65535,C[2]/255*65535]},_.gray.rgb=function(C){return[C[0]/100*255,C[0]/100*255,C[0]/100*255]},_.gray.hsl=function(C){return[0,0,C[0]]},_.gray.hsv=_.gray.hsl,_.gray.hwb=function(C){return[0,100,C[0]]},_.gray.cmyk=function(C){return[0,0,0,C[0]]},_.gray.lab=function(C){return[C[0],0,0]},_.gray.hex=function(C){const x=255&Math.round(C[0]/100*255),S=((x<<16)+(x<<8)+x).toString(16).toUpperCase();return"000000".substring(S.length)+S},_.rgb.gray=function(C){return[(C[0]+C[1]+C[2])/3/255*100]}},841:(h,f,m)=>{const k=m(4959),v=m(9325),_={};Object.keys(k).forEach(C=>{_[C]={},Object.defineProperty(_[C],"channels",{value:k[C].channels}),Object.defineProperty(_[C],"labels",{value:k[C].labels});const x=v(C);Object.keys(x).forEach(S=>{const T=x[S];_[C][S]=function(B){const N=function(...I){const L=I[0];if(L==null)return L;L.length>1&&(I=L);const V=B(I);if(typeof V=="object")for(let K=V.length,Z=0;Z<K;Z++)V[Z]=Math.round(V[Z]);return V};return"conversion"in B&&(N.conversion=B.conversion),N}(T),_[C][S].raw=function(B){const N=function(...I){const L=I[0];return L==null?L:(L.length>1&&(I=L),B(I))};return"conversion"in B&&(N.conversion=B.conversion),N}(T)})}),h.exports=_},9325:(h,f,m)=>{const k=m(4959);function v(x){const S=function(){const B={},N=Object.keys(k);for(let I=N.length,L=0;L<I;L++)B[N[L]]={distance:-1,parent:null};return B}(),T=[x];for(S[x].distance=0;T.length;){const B=T.pop(),N=Object.keys(k[B]);for(let I=N.length,L=0;L<I;L++){const V=N[L],K=S[V];K.distance===-1&&(K.distance=S[B].distance+1,K.parent=B,T.unshift(V))}}return S}function _(x,S){return function(T){return S(x(T))}}function C(x,S){const T=[S[x].parent,x];let B=k[S[x].parent][x],N=S[x].parent;for(;S[N].parent;)T.unshift(S[N].parent),B=_(k[S[N].parent][N],B),N=S[N].parent;return B.conversion=T,B}h.exports=function(x){const S=v(x),T={},B=Object.keys(S);for(let N=B.length,I=0;I<N;I++){const L=B[I];S[L].parent!==null&&(T[L]=C(L,S))}return T}},1103:h=>{h.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8603:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const x=C},3062:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const x=C},903:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const x=C},3143:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=C},4717:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const x=C},9315:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const x=C},8733:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const x=C},3508:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const x=C},2640:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const x=C},3535:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const x=C},1568:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const x=C},6270:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const x=C},5083:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const x=C},4036:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const x=C},3773:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const x=C},3689:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const x=C},1905:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=C},9773:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const x=C},2347:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const x=C},7754:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const x=C},111:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const x=C},4721:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: 0 var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const x=C},5730:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const x=C},4564:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const x=C},6082:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const x=C},2417:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const x=C},1199:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAwEA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAlFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAiFC,CAFA,wDAhEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAgEA,CA5DD,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FApHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAmHA,CAFA,wGAlGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAkGD,CA9FA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const x=C},4652:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const x=C},7442:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read–only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const x=C},9292:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=C},7368:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=C},4070:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const x=C},9247:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const x=C},1613:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const x=C},6306:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const x=C},2128:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`],sourceRoot:""}]);const x=C},5087:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const x=C},4101:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const x=C},3881:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const x=C},6237:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=C},7341:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const x=C},6945:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const x=C},8157:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-modal)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-modal);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=C},4906:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const x=C},5332:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating–point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const x=C},6781:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using {} colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const x=C},3398:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const x=C},4157:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const x=C},5485:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=C},3949:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=C},7686:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=C},7339:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const x=C},9688:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=C},8847:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header .ck-icon{margin-right:var(--ck-spacing-medium)}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BASD,CAPC,6BACC,qCACD,CAEA,8CACC,WACD,CCbD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& .ck-icon {
		margin-right: var(--ck-spacing-medium);
	}

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const x=C},8960:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const x=C},6574:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const x=C},4879:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=C},3662:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const x=C},2577:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=C},1046:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>span{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,8BACC,cAAe,CACf,eAAiB,CACjB,gCACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > span {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=C},8793:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=C},4650:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const x=C},7676:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=C},5868:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=C},6764:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const x=C},6770:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const x=C},498:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCACD,CAEA,wCAJC,qCAAsC,CADtC,oCAWD,CANA,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCACD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}

`],sourceRoot:""}]);const x=C},8182:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const x=C},9695:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const x=C},5542:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=C},3332:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDRnC,mBAAoB,CAEpB,qCACD,CCOC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CACrB,wCAAyC,CAFzC,wBAGD,CApBD,gCAuBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const x=C},4793:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const x=C},3488:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=C},8506:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const x=C},4921:(h,f,m)=>{m.d(f,{Z:()=>x});var k=m(1799),v=m.n(k),_=m(2609),C=m.n(_)()(v());C.push([h.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const x=C},2609:h=>{h.exports=function(f){var m=[];return m.toString=function(){return this.map(function(k){var v=f(k);return k[2]?"@media ".concat(k[2]," {").concat(v,"}"):v}).join("")},m.i=function(k,v,_){typeof k=="string"&&(k=[[null,k,""]]);var C={};if(_)for(var x=0;x<this.length;x++){var S=this[x][0];S!=null&&(C[S]=!0)}for(var T=0;T<k.length;T++){var B=[].concat(k[T]);_&&C[B[0]]||(v&&(B[2]?B[2]="".concat(v," and ").concat(B[2]):B[2]=v),m.push(B))}},m}},1799:h=>{function f(k,v){return function(_){if(Array.isArray(_))return _}(k)||function(_,C){var x=_&&(typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"]);if(x!=null){var S,T,B=[],N=!0,I=!1;try{for(x=x.call(_);!(N=(S=x.next()).done)&&(B.push(S.value),!C||B.length!==C);N=!0);}catch(L){I=!0,T=L}finally{try{N||x.return==null||x.return()}finally{if(I)throw T}}return B}}(k,v)||function(_,C){if(_){if(typeof _=="string")return m(_,C);var x=Object.prototype.toString.call(_).slice(8,-1);if(x==="Object"&&_.constructor&&(x=_.constructor.name),x==="Map"||x==="Set")return Array.from(_);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return m(_,C)}}(k,v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function m(k,v){(v==null||v>k.length)&&(v=k.length);for(var _=0,C=new Array(v);_<v;_++)C[_]=k[_];return C}h.exports=function(k){var v=f(k,4),_=v[1],C=v[3];if(!C)return _;if(typeof btoa=="function"){var x=btoa(unescape(encodeURIComponent(JSON.stringify(C)))),S="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(x),T="/*# ".concat(S," */"),B=C.sources.map(function(N){return"/*# sourceURL=".concat(C.sourceRoot||"").concat(N," */")});return[_].concat(B).concat([T]).join(`
`)}return[_].join(`
`)}},6062:(h,f,m)=>{var k,v=function(){return k===void 0&&(k=!!(window&&document&&document.all&&!window.atob)),k},_=function(){var Q={};return function(z){if(Q[z]===void 0){var te=document.querySelector(z);if(window.HTMLIFrameElement&&te instanceof window.HTMLIFrameElement)try{te=te.contentDocument.head}catch{te=null}Q[z]=te}return Q[z]}}(),C=[];function x(Q){for(var z=-1,te=0;te<C.length;te++)if(C[te].identifier===Q){z=te;break}return z}function S(Q,z){for(var te={},ae=[],Ce=0;Ce<Q.length;Ce++){var Me=Q[Ce],Ae=z.base?Me[0]+z.base:Me[0],et=te[Ae]||0,Pe="".concat(Ae," ").concat(et);te[Ae]=et+1;var Re=x(Pe),He={css:Me[1],media:Me[2],sourceMap:Me[3]};Re!==-1?(C[Re].references++,C[Re].updater(He)):C.push({identifier:Pe,updater:Z(He,z),references:1}),ae.push(Pe)}return ae}function T(Q){var z=document.createElement("style"),te=Q.attributes||{};if(te.nonce===void 0){var ae=m.nc;ae&&(te.nonce=ae)}if(Object.keys(te).forEach(function(Me){z.setAttribute(Me,te[Me])}),typeof Q.insert=="function")Q.insert(z);else{var Ce=_(Q.insert||"head");if(!Ce)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Ce.appendChild(z)}return z}var B,N=(B=[],function(Q,z){return B[Q]=z,B.filter(Boolean).join(`
`)});function I(Q,z,te,ae){var Ce=te?"":ae.media?"@media ".concat(ae.media," {").concat(ae.css,"}"):ae.css;if(Q.styleSheet)Q.styleSheet.cssText=N(z,Ce);else{var Me=document.createTextNode(Ce),Ae=Q.childNodes;Ae[z]&&Q.removeChild(Ae[z]),Ae.length?Q.insertBefore(Me,Ae[z]):Q.appendChild(Me)}}function L(Q,z,te){var ae=te.css,Ce=te.media,Me=te.sourceMap;if(Ce?Q.setAttribute("media",Ce):Q.removeAttribute("media"),Me&&typeof btoa<"u"&&(ae+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Me))))," */")),Q.styleSheet)Q.styleSheet.cssText=ae;else{for(;Q.firstChild;)Q.removeChild(Q.firstChild);Q.appendChild(document.createTextNode(ae))}}var V=null,K=0;function Z(Q,z){var te,ae,Ce;if(z.singleton){var Me=K++;te=V||(V=T(z)),ae=I.bind(null,te,Me,!1),Ce=I.bind(null,te,Me,!0)}else te=T(z),ae=L.bind(null,te,z),Ce=function(){(function(Ae){if(Ae.parentNode===null)return!1;Ae.parentNode.removeChild(Ae)})(te)};return ae(Q),function(Ae){if(Ae){if(Ae.css===Q.css&&Ae.media===Q.media&&Ae.sourceMap===Q.sourceMap)return;ae(Q=Ae)}else Ce()}}h.exports=function(Q,z){(z=z||{}).singleton||typeof z.singleton=="boolean"||(z.singleton=v());var te=S(Q=Q||[],z);return function(ae){if(ae=ae||[],Object.prototype.toString.call(ae)==="[object Array]"){for(var Ce=0;Ce<te.length;Ce++){var Me=x(te[Ce]);C[Me].references--}for(var Ae=S(ae,z),et=0;et<te.length;et++){var Pe=x(te[et]);C[Pe].references===0&&(C[Pe].updater(),C.splice(Pe,1))}te=Ae}}}}},s={};function a(h){var f=s[h];if(f!==void 0)return f.exports;var m=s[h]={id:h,exports:{}};return o[h](m,m.exports,a),m.exports}a.n=h=>{var f=h&&h.__esModule?()=>h.default:()=>h;return a.d(f,{a:f}),f},a.d=(h,f)=>{for(var m in f)a.o(f,m)&&!a.o(h,m)&&Object.defineProperty(h,m,{enumerable:!0,get:f[m]})},a.o=(h,f)=>Object.prototype.hasOwnProperty.call(h,f),a.nc=void 0;var u={};return(()=>{function h({emitter:c,activator:e,callback:t,contextElements:i}){c.listenTo(document,"mousedown",(l,d)=>{if(!e())return;const p=typeof d.composedPath=="function"?d.composedPath():[],g=typeof i=="function"?i():i;for(const b of g)if(b.contains(d.target)||p.includes(b))return;t()})}function f(c){return class extends c{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function m({view:c}){c.listenTo(c.element,"submit",(e,t)=>{t.preventDefault(),c.fire("submit")},{useCapture:!0})}a.d(u,{default:()=>Kb});const k=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var v;const _={isMac:C(k),isWindows:(v=k,v.indexOf("windows")>-1),isGecko:function(c){return!!c.match(/gecko\/\d+/)}(k),isSafari:function(c){return c.indexOf(" applewebkit/")>-1&&c.indexOf("chrome")===-1}(k),isiOS:function(c){return!!c.match(/iphone|ipad/i)||C(c)&&navigator.maxTouchPoints>0}(k),isAndroid:function(c){return c.indexOf("android")>-1}(k),isBlink:function(c){return c.indexOf("chrome/")>-1&&c.indexOf("edge/")<0}(k),features:{isRegExpUnicodePropertySupported:function(){let c=!1;try{c="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return c}()}};function C(c){return c.indexOf("macintosh")>-1}function x(c,e,t,i){t=t||function(b,w){return b===w};const l=Array.isArray(c)?c:Array.prototype.slice.call(c),d=Array.isArray(e)?e:Array.prototype.slice.call(e),p=function(b,w,y){const A=S(b,w,y);if(A===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const E=T(b,A),D=T(w,A),M=S(E,D,y),R=b.length-M,U=w.length-M;return{firstIndex:A,lastIndexOld:R,lastIndexNew:U}}(l,d,t);return i?function(b,w){const{firstIndex:y,lastIndexOld:A,lastIndexNew:E}=b;if(y===-1)return Array(w).fill("equal");let D=[];return y>0&&(D=D.concat(Array(y).fill("equal"))),E-y>0&&(D=D.concat(Array(E-y).fill("insert"))),A-y>0&&(D=D.concat(Array(A-y).fill("delete"))),E<w&&(D=D.concat(Array(w-E).fill("equal"))),D}(p,d.length):function(b,w){const y=[],{firstIndex:A,lastIndexOld:E,lastIndexNew:D}=w;return D-A>0&&y.push({index:A,type:"insert",values:b.slice(A,D)}),E-A>0&&y.push({index:A+(D-A),type:"delete",howMany:E-A}),y}(d,p)}function S(c,e,t){for(let i=0;i<Math.max(c.length,e.length);i++)if(c[i]===void 0||e[i]===void 0||!t(c[i],e[i]))return i;return-1}function T(c,e){return c.slice(e).reverse()}function B(c,e,t){t=t||function(R,U){return R===U};const i=c.length,l=e.length;if(i>200||l>200||i+l>300)return B.fastDiff(c,e,t,!0);let d,p;if(l<i){const R=c;c=e,e=R,d="delete",p="insert"}else d="insert",p="delete";const g=c.length,b=e.length,w=b-g,y={},A={};function E(R){const U=(A[R-1]!==void 0?A[R-1]:-1)+1,W=A[R+1]!==void 0?A[R+1]:-1,J=U>W?-1:1;y[R+J]&&(y[R]=y[R+J].slice(0)),y[R]||(y[R]=[]),y[R].push(U>W?d:p);let ie=Math.max(U,W),ve=ie-R;for(;ve<g&&ie<b&&t(c[ve],e[ie]);)ve++,ie++,y[R].push("equal");return ie}let D,M=0;do{for(D=-M;D<w;D++)A[D]=E(D);for(D=w+M;D>w;D--)A[D]=E(D);A[w]=E(w),M++}while(A[w]!==b);return y[w].slice(1)}B.fastDiff=x;const N=function(){return function c(){c.called=!0}};class I{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=N(),this.off=N()}}const L=new Array(256).fill("").map((c,e)=>("0"+e.toString(16)).slice(-2));function V(){const c=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0;return"e"+L[c>>0&255]+L[c>>8&255]+L[c>>16&255]+L[c>>24&255]+L[e>>0&255]+L[e>>8&255]+L[e>>16&255]+L[e>>24&255]+L[t>>0&255]+L[t>>8&255]+L[t>>16&255]+L[t>>24&255]+L[i>>0&255]+L[i>>8&255]+L[i>>16&255]+L[i>>24&255]}const K={get(c="normal"){return typeof c!="number"?this[c]||this.normal:c},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function Z(c,e){const t=K.get(e.priority);for(let i=0;i<c.length;i++)if(K.get(c[i].priority)<t)return void c.splice(i,0,e);c.push(e)}const Q="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class z extends Error{constructor(e,t,i){super(function(l,d){const p=new WeakSet,g=(y,A)=>{if(typeof A=="object"&&A!==null){if(p.has(A))return`[object ${A.constructor.name}]`;p.add(A)}return A},b=d?` ${JSON.stringify(d,g)}`:"",w=Ce(l);return l+b+w}(e,i)),this.name="CKEditorError",this.context=t,this.data=i}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const i=new z(e.message,t);throw i.stack=e.stack,i}}function te(c,e){console.warn(...Me(c,e))}function ae(c,e){console.error(...Me(c,e))}function Ce(c){return`
Read more: ${Q}#error-${c}`}function Me(c,e){const t=Ce(c);return e?[c,e,t]:[c,t]}const Ae="40.0.0",et=new Date(2023,9,4);if(globalThis.CKEDITOR_VERSION)throw new z("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=Ae;const Pe=Symbol("listeningTo"),Re=Symbol("emitterId"),He=Symbol("delegations"),ke=ge(Object);function ge(c){return c?class extends c{on(e,t,i){this.listenTo(this,e,t,i)}once(e,t,i){let l=!1;this.listenTo(this,e,(d,...p)=>{l||(l=!0,d.off(),t.call(this,d,...p))},i)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,i,l={}){let d,p;this[Pe]||(this[Pe]={});const g=this[Pe];fe(e)||le(e);const b=fe(e);(d=g[b])||(d=g[b]={emitter:e,callbacks:{}}),(p=d.callbacks[t])||(p=d.callbacks[t]=[]),p.push(i),function(w,y,A,E,D){y._addEventListener?y._addEventListener(A,E,D):w._addEventListener.call(y,A,E,D)}(this,e,t,i,l)}stopListening(e,t,i){const l=this[Pe];let d=e&&fe(e);const p=l&&d?l[d]:void 0,g=p&&t?p.callbacks[t]:void 0;if(!(!l||e&&!p||t&&!g))if(i)Ye(this,e,t,i),g.indexOf(i)!==-1&&(g.length===1?delete p.callbacks[t]:Ye(this,e,t,i));else if(g){for(;i=g.pop();)Ye(this,e,t,i);delete p.callbacks[t]}else if(p){for(t in p.callbacks)this.stopListening(e,t);delete l[d]}else{for(d in l)this.stopListening(l[d].emitter);delete this[Pe]}}fire(e,...t){try{const i=e instanceof I?e:new I(this,e),l=i.name;let d=Le(this,l);if(i.path.push(this),d){const g=[i,...t];d=Array.from(d);for(let b=0;b<d.length&&(d[b].callback.apply(this,g),i.off.called&&(delete i.off.called,this._removeEventListener(l,d[b].callback)),!i.stop.called);b++);}const p=this[He];if(p){const g=p.get(l),b=p.get("*");g&&Ze(g,i,t),b&&Ze(b,i,t)}return i.return}catch(i){z.rethrowUnexpectedError(i,this)}}delegate(...e){return{to:(t,i)=>{this[He]||(this[He]=new Map),e.forEach(l=>{const d=this[He].get(l);d?d.set(t,i):this[He].set(l,new Map([[t,i]]))})}}}stopDelegating(e,t){if(this[He])if(e)if(t){const i=this[He].get(e);i&&i.delete(t)}else this[He].delete(e);else this[He].clear()}_addEventListener(e,t,i){(function(p,g){const b=we(p);if(b[g])return;let w=g,y=null;const A=[];for(;w!==""&&!b[w];)b[w]={callbacks:[],childEvents:[]},A.push(b[w]),y&&b[w].childEvents.push(y),y=w,w=w.substr(0,w.lastIndexOf(":"));if(w!==""){for(const E of A)E.callbacks=b[w].callbacks.slice();b[w].childEvents.push(y)}})(this,e);const l=Fe(this,e),d={callback:t,priority:K.get(i.priority)};for(const p of l)Z(p,d)}_removeEventListener(e,t){const i=Fe(this,e);for(const l of i)for(let d=0;d<l.length;d++)l[d].callback==t&&(l.splice(d,1),d--)}}:ke}function le(c,e){c[Re]||(c[Re]=e||V())}function fe(c){return c[Re]}function we(c){return c._events||Object.defineProperty(c,"_events",{value:{}}),c._events}function Fe(c,e){const t=we(c)[e];if(!t)return[];let i=[t.callbacks];for(let l=0;l<t.childEvents.length;l++){const d=Fe(c,t.childEvents[l]);i=i.concat(d)}return i}function Le(c,e){let t;return c._events&&(t=c._events[e])&&t.callbacks.length?t.callbacks:e.indexOf(":")>-1?Le(c,e.substr(0,e.lastIndexOf(":"))):null}function Ze(c,e,t){for(let[i,l]of c){l?typeof l=="function"&&(l=l(e.name)):l=e.name;const d=new I(e.source,l);d.path=[...e.path],i.fire(d,...t)}}function Ye(c,e,t,i){e._removeEventListener?e._removeEventListener(t,i):c._removeEventListener.call(e,t,i)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{ge[c]=ke.prototype[c]});const Ne=function(c){var e=typeof c;return c!=null&&(e=="object"||e=="function")},Ue=Symbol("observableProperties"),je=Symbol("boundObservables"),pt=Symbol("boundProperties"),it=Symbol("decoratedMethods"),Et=Symbol("decoratedOriginal"),qt=Ve(ge());function Ve(c){return c?class extends c{set(e,t){if(Ne(e))return void Object.keys(e).forEach(l=>{this.set(l,e[l])},this);ln(this);const i=this[Ue];if(e in this&&!i.has(e))throw new z("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>i.get(e),set(l){const d=i.get(e);let p=this.fire(`set:${e}`,e,l,d);p===void 0&&(p=l),d===p&&i.has(e)||(i.set(e,p),this.fire(`change:${e}`,e,p,d))}}),this[e]=t}bind(...e){if(!e.length||!H(e))throw new z("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new z("observable-bind-duplicate-properties",this);ln(this);const t=this[pt];e.forEach(l=>{if(t.has(l))throw new z("observable-bind-rebind",this)});const i=new Map;return e.forEach(l=>{const d={property:l,to:[]};t.set(l,d),i.set(l,d)}),{to:er,toMany:Wi,_observable:this,_bindProperties:e,_to:[],_bindings:i}}unbind(...e){if(!this[Ue])return;const t=this[pt],i=this[je];if(e.length){if(!H(e))throw new z("observable-unbind-wrong-properties",this);e.forEach(l=>{const d=t.get(l);d&&(d.to.forEach(([p,g])=>{const b=i.get(p),w=b[g];w.delete(d),w.size||delete b[g],Object.keys(b).length||(i.delete(p),this.stopListening(p,"change"))}),t.delete(l))})}else i.forEach((l,d)=>{this.stopListening(d,"change")}),i.clear(),t.clear()}decorate(e){ln(this);const t=this[e];if(!t)throw new z("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(i,l)=>{i.return=t.apply(this,l)}),this[e]=function(...i){return this.fire(e,i)},this[e][Et]=t,this[it]||(this[it]=[]),this[it].push(e)}stopListening(e,t,i){if(!e&&this[it]){for(const l of this[it])this[l]=this[l][Et];delete this[it]}super.stopListening(e,t,i)}}:qt}function ln(c){c[Ue]||(Object.defineProperty(c,Ue,{value:new Map}),Object.defineProperty(c,je,{value:new Map}),Object.defineProperty(c,pt,{value:new Map}))}function er(...c){const e=function(...d){if(!d.length)throw new z("observable-bind-to-parse-error",null);const p={to:[]};let g;return typeof d[d.length-1]=="function"&&(p.callback=d.pop()),d.forEach(b=>{if(typeof b=="string")g.properties.push(b);else{if(typeof b!="object")throw new z("observable-bind-to-parse-error",null);g={observable:b,properties:[]},p.to.push(g)}}),p}(...c),t=Array.from(this._bindings.keys()),i=t.length;if(!e.callback&&e.to.length>1)throw new z("observable-bind-to-no-callback",this);if(i>1&&e.callback)throw new z("observable-bind-to-extra-callback",this);var l;e.to.forEach(d=>{if(d.properties.length&&d.properties.length!==i)throw new z("observable-bind-to-properties-length",this);d.properties.length||(d.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),l=this._observable,this._to.forEach(d=>{const p=l[je];let g;p.get(d.observable)||l.listenTo(d.observable,"change",(b,w)=>{g=p.get(d.observable)[w],g&&g.forEach(y=>{P(l,y.property)})})}),function(d){let p;d._bindings.forEach((g,b)=>{d._to.forEach(w=>{p=w.properties[g.callback?0:d._bindProperties.indexOf(b)],g.to.push([w.observable,p]),function(y,A,E,D){const M=y[je],R=M.get(E),U=R||{};U[D]||(U[D]=new Set),U[D].add(A),R||M.set(E,U)}(d._observable,g,w.observable,p)})})}(this),this._bindProperties.forEach(d=>{P(this._observable,d)})}function Wi(c,e,t){if(this._bindings.size>1)throw new z("observable-bind-to-many-not-one-binding",this);this.to(...function(i,l){const d=i.map(p=>[p,l]);return Array.prototype.concat.apply([],d)}(c,e),t)}function H(c){return c.every(e=>typeof e=="string")}function P(c,e){const t=c[pt].get(e);let i;t.callback?i=t.callback.apply(c,t.to.map(l=>l[0][l[1]])):(i=t.to[0],i=i[0][i[1]]),Object.prototype.hasOwnProperty.call(c,e)?c[e]=i:c.set(e,i)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{Ve[c]=qt.prototype[c]});class O{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}function $(c){let e=0;for(const t of c)e++;return e}function X(c,e){const t=Math.min(c.length,e.length);for(let i=0;i<t;i++)if(c[i]!=e[i])return i;return c.length==e.length?"same":c.length<e.length?"prefix":"extension"}function se(c){return!(!c||!c[Symbol.iterator])}const ce=typeof{}=="object"&&{}&&{}.Object===Object&&{};var Ge=typeof self=="object"&&self&&self.Object===Object&&self;const $e=ce||Ge||Function("return this")(),Je=$e.Symbol;var Kt=Object.prototype,yt=Kt.hasOwnProperty,$i=Kt.toString,Po=Je?Je.toStringTag:void 0;const Xa=function(c){var e=yt.call(c,Po),t=c[Po];try{c[Po]=void 0;var i=!0}catch{}var l=$i.call(c);return i&&(e?c[Po]=t:delete c[Po]),l};var wm=Object.prototype.toString;const vm=function(c){return wm.call(c)};var rh=Je?Je.toStringTag:void 0;const No=function(c){return c==null?c===void 0?"[object Undefined]":"[object Null]":rh&&rh in Object(c)?Xa(c):vm(c)},Ln=Array.isArray,kn=function(c){return c!=null&&typeof c=="object"},Yi=function(c){return typeof c=="string"||!Ln(c)&&kn(c)&&No(c)=="[object String]"};function Oo(c,e,t={},i=[]){const l=t&&t.xmlns,d=l?c.createElementNS(l,e):c.createElement(e);for(const p in t)d.setAttribute(p,t[p]);!Yi(i)&&se(i)||(i=[i]);for(let p of i)Yi(p)&&(p=c.createTextNode(p)),d.appendChild(p);return d}const oh=function(c,e){return function(t){return c(e(t))}},zl=oh(Object.getPrototypeOf,Object);var ym=Function.prototype,_m=Object.prototype,ih=ym.toString,Cm=_m.hasOwnProperty,Am=ih.call(Object);const bn=function(c){if(!kn(c)||No(c)!="[object Object]")return!1;var e=zl(c);if(e===null)return!0;var t=Cm.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&ih.call(t)==Am},sh=function(){this.__data__=[],this.size=0},Gs=function(c,e){return c===e||c!=c&&e!=e},ec=function(c,e){for(var t=c.length;t--;)if(Gs(c[t][0],e))return t;return-1};var tc=Array.prototype.splice;const xm=function(c){var e=this.__data__,t=ec(e,c);return!(t<0)&&(t==e.length-1?e.pop():tc.call(e,t,1),--this.size,!0)},Em=function(c){var e=this.__data__,t=ec(e,c);return t<0?void 0:e[t][1]},Sm=function(c){return ec(this.__data__,c)>-1},Dm=function(c,e){var t=this.__data__,i=ec(t,c);return i<0?(++this.size,t.push([c,e])):t[i][1]=e,this};function Cr(c){var e=-1,t=c==null?0:c.length;for(this.clear();++e<t;){var i=c[e];this.set(i[0],i[1])}}Cr.prototype.clear=sh,Cr.prototype.delete=xm,Cr.prototype.get=Em,Cr.prototype.has=Sm,Cr.prototype.set=Dm;const nc=Cr,Tm=function(){this.__data__=new nc,this.size=0},qi=function(c){var e=this.__data__,t=e.delete(c);return this.size=e.size,t},Im=function(c){return this.__data__.get(c)},Mm=function(c){return this.__data__.has(c)},Bo=function(c){if(!Ne(c))return!1;var e=No(c);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},rc=$e["__core-js_shared__"];var ah=function(){var c=/[^.]+$/.exec(rc&&rc.keys&&rc.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}();const ch=function(c){return!!ah&&ah in c};var oc=Function.prototype.toString;const di=function(c){if(c!=null){try{return oc.call(c)}catch{}try{return c+""}catch{}}return""};var lh=/^\[object .+?Constructor\]$/,uh=Function.prototype,Pm=Object.prototype,Nm=uh.toString,Om=Pm.hasOwnProperty,Fl=RegExp("^"+Nm.call(Om).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Bm=function(c){return!(!Ne(c)||ch(c))&&(Bo(c)?Fl:lh).test(di(c))},dh=function(c,e){return c?.[e]},Ro=function(c,e){var t=dh(c,e);return Bm(t)?t:void 0},Ki=Ro($e,"Map"),Gi=Ro(Object,"create"),Rm=function(){this.__data__=Gi?Gi(null):{},this.size=0},Lm=function(c){var e=this.has(c)&&delete this.__data__[c];return this.size-=e?1:0,e};var hh=Object.prototype.hasOwnProperty;const jt=function(c){var e=this.__data__;if(Gi){var t=e[c];return t==="__lodash_hash_undefined__"?void 0:t}return hh.call(e,c)?e[c]:void 0};var jm=Object.prototype.hasOwnProperty;const Ul=function(c){var e=this.__data__;return Gi?e[c]!==void 0:jm.call(e,c)},ph=function(c,e){var t=this.__data__;return this.size+=this.has(c)?0:1,t[c]=Gi&&e===void 0?"__lodash_hash_undefined__":e,this};function Ur(c){var e=-1,t=c==null?0:c.length;for(this.clear();++e<t;){var i=c[e];this.set(i[0],i[1])}}Ur.prototype.clear=Rm,Ur.prototype.delete=Lm,Ur.prototype.get=jt,Ur.prototype.has=Ul,Ur.prototype.set=ph;const ic=Ur,Qi=function(){this.size=0,this.__data__={hash:new ic,map:new(Ki||nc),string:new ic}},fh=function(c){var e=typeof c;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?c!=="__proto__":c===null},sc=function(c,e){var t=c.__data__;return fh(e)?t[typeof e=="string"?"string":"hash"]:t.map},zm=function(c){var e=sc(this,c).delete(c);return this.size-=e?1:0,e},gh=function(c){return sc(this,c).get(c)},Fm=function(c){return sc(this,c).has(c)},Vl=function(c,e){var t=sc(this,c),i=t.size;return t.set(c,e),this.size+=t.size==i?0:1,this};function hi(c){var e=-1,t=c==null?0:c.length;for(this.clear();++e<t;){var i=c[e];this.set(i[0],i[1])}}hi.prototype.clear=Qi,hi.prototype.delete=zm,hi.prototype.get=gh,hi.prototype.has=Fm,hi.prototype.set=Vl;const ac=hi,Um=function(c,e){var t=this.__data__;if(t instanceof nc){var i=t.__data__;if(!Ki||i.length<199)return i.push([c,e]),this.size=++t.size,this;t=this.__data__=new ac(i)}return t.set(c,e),this.size=t.size,this};function Zi(c){var e=this.__data__=new nc(c);this.size=e.size}Zi.prototype.clear=Tm,Zi.prototype.delete=qi,Zi.prototype.get=Im,Zi.prototype.has=Mm,Zi.prototype.set=Um;const Ji=Zi,Hl=function(c,e){for(var t=-1,i=c==null?0:c.length;++t<i&&e(c[t],t,c)!==!1;);return c},cc=function(){try{var c=Ro(Object,"defineProperty");return c({},"",{}),c}catch{}}(),Wl=function(c,e,t){e=="__proto__"&&cc?cc(c,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):c[e]=t};var Vm=Object.prototype.hasOwnProperty;const $l=function(c,e,t){var i=c[e];Vm.call(c,e)&&Gs(i,t)&&(t!==void 0||e in c)||Wl(c,e,t)},Lo=function(c,e,t,i){var l=!t;t||(t={});for(var d=-1,p=e.length;++d<p;){var g=e[d],b=i?i(t[g],c[g],g,t,c):void 0;b===void 0&&(b=c[g]),l?Wl(t,g,b):$l(t,g,b)}return t},Hm=function(c,e){for(var t=-1,i=Array(c);++t<c;)i[t]=e(t);return i},Yl=function(c){return kn(c)&&No(c)=="[object Arguments]"};var ql=Object.prototype,mh=ql.hasOwnProperty,kh=ql.propertyIsEnumerable;const Kl=Yl(function(){return arguments}())?Yl:function(c){return kn(c)&&mh.call(c,"callee")&&!kh.call(c,"callee")},Wm=function(){return!1};var bh=r&&!r.nodeType&&r,Gl=bh&&!0&&n&&!n.nodeType&&n,wh=Gl&&Gl.exports===bh?$e.Buffer:void 0;const Xi=(wh?wh.isBuffer:void 0)||Wm;var Ql=/^(?:0|[1-9]\d*)$/;const Zl=function(c,e){var t=typeof c;return!!(e=e??9007199254740991)&&(t=="number"||t!="symbol"&&Ql.test(c))&&c>-1&&c%1==0&&c<e},Jl=function(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991};var St={};St["[object Float32Array]"]=St["[object Float64Array]"]=St["[object Int8Array]"]=St["[object Int16Array]"]=St["[object Int32Array]"]=St["[object Uint8Array]"]=St["[object Uint8ClampedArray]"]=St["[object Uint16Array]"]=St["[object Uint32Array]"]=!0,St["[object Arguments]"]=St["[object Array]"]=St["[object ArrayBuffer]"]=St["[object Boolean]"]=St["[object DataView]"]=St["[object Date]"]=St["[object Error]"]=St["[object Function]"]=St["[object Map]"]=St["[object Number]"]=St["[object Object]"]=St["[object RegExp]"]=St["[object Set]"]=St["[object String]"]=St["[object WeakMap]"]=!1;const vh=function(c){return kn(c)&&Jl(c.length)&&!!St[No(c)]},Xl=function(c){return function(e){return c(e)}};var eu=r&&!r.nodeType&&r,Qs=eu&&!0&&n&&!n.nodeType&&n,tu=Qs&&Qs.exports===eu&&ce.process;const jo=function(){try{var c=Qs&&Qs.require&&Qs.require("util").types;return c||tu&&tu.binding&&tu.binding("util")}catch{}}();var lc=jo&&jo.isTypedArray;const Zs=lc?Xl(lc):vh;var nu=Object.prototype.hasOwnProperty;const ru=function(c,e){var t=Ln(c),i=!t&&Kl(c),l=!t&&!i&&Xi(c),d=!t&&!i&&!l&&Zs(c),p=t||i||l||d,g=p?Hm(c.length,String):[],b=g.length;for(var w in c)!e&&!nu.call(c,w)||p&&(w=="length"||l&&(w=="offset"||w=="parent")||d&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||Zl(w,b))||g.push(w);return g};var yh=Object.prototype;const uc=function(c){var e=c&&c.constructor;return c===(typeof e=="function"&&e.prototype||yh)},_h=oh(Object.keys,Object);var Ch=Object.prototype.hasOwnProperty;const $m=function(c){if(!uc(c))return _h(c);var e=[];for(var t in Object(c))Ch.call(c,t)&&t!="constructor"&&e.push(t);return e},dc=function(c){return c!=null&&Jl(c.length)&&!Bo(c)},ou=function(c){return dc(c)?ru(c):$m(c)},Ym=function(c,e){return c&&Lo(e,ou(e),c)},qm=function(c){var e=[];if(c!=null)for(var t in Object(c))e.push(t);return e};var pi=Object.prototype.hasOwnProperty;const iu=function(c){if(!Ne(c))return qm(c);var e=uc(c),t=[];for(var i in c)(i!="constructor"||!e&&pi.call(c,i))&&t.push(i);return t},es=function(c){return dc(c)?ru(c,!0):iu(c)},Km=function(c,e){return c&&Lo(e,es(e),c)};var su=r&&!r.nodeType&&r,hc=su&&!0&&n&&!n.nodeType&&n,Ah=hc&&hc.exports===su?$e.Buffer:void 0,xh=Ah?Ah.allocUnsafe:void 0;const Eh=function(c,e){if(e)return c.slice();var t=c.length,i=xh?xh(t):new c.constructor(t);return c.copy(i),i},au=function(c,e){var t=-1,i=c.length;for(e||(e=Array(i));++t<i;)e[t]=c[t];return e},Sh=function(c,e){for(var t=-1,i=c==null?0:c.length,l=0,d=[];++t<i;){var p=c[t];e(p,t,c)&&(d[l++]=p)}return d},Dh=function(){return[]};var Gm=Object.prototype.propertyIsEnumerable,Th=Object.getOwnPropertySymbols;const pc=Th?function(c){return c==null?[]:(c=Object(c),Sh(Th(c),function(e){return Gm.call(c,e)}))}:Dh,Qm=function(c,e){return Lo(c,pc(c),e)},Ih=function(c,e){for(var t=-1,i=e.length,l=c.length;++t<i;)c[l+t]=e[t];return c},Mh=Object.getOwnPropertySymbols?function(c){for(var e=[];c;)Ih(e,pc(c)),c=zl(c);return e}:Dh,Ph=function(c,e){return Lo(c,Mh(c),e)},Nh=function(c,e,t){var i=e(c);return Ln(c)?i:Ih(i,t(c))},cu=function(c){return Nh(c,ou,pc)},Oh=function(c){return Nh(c,es,Mh)},lu=Ro($e,"DataView"),fc=Ro($e,"Promise"),gc=Ro($e,"Set"),mc=Ro($e,"WeakMap");var Dt="[object Map]",Bh="[object Promise]",Rh="[object Set]",Lh="[object WeakMap]",jh="[object DataView]",zh=di(lu),Zm=di(Ki),Jm=di(fc),Xm=di(gc),ek=di(mc),zo=No;(lu&&zo(new lu(new ArrayBuffer(1)))!=jh||Ki&&zo(new Ki)!=Dt||fc&&zo(fc.resolve())!=Bh||gc&&zo(new gc)!=Rh||mc&&zo(new mc)!=Lh)&&(zo=function(c){var e=No(c),t=e=="[object Object]"?c.constructor:void 0,i=t?di(t):"";if(i)switch(i){case zh:return jh;case Zm:return Dt;case Jm:return Bh;case Xm:return Rh;case ek:return Lh}return e});const co=zo;var Fh=Object.prototype.hasOwnProperty;const tk=function(c){var e=c.length,t=new c.constructor(e);return e&&typeof c[0]=="string"&&Fh.call(c,"index")&&(t.index=c.index,t.input=c.input),t},Js=$e.Uint8Array,kc=function(c){var e=new c.constructor(c.byteLength);return new Js(e).set(new Js(c)),e},uu=function(c,e){var t=e?kc(c.buffer):c.buffer;return new c.constructor(t,c.byteOffset,c.byteLength)};var du=/\w*$/;const ts=function(c){var e=new c.constructor(c.source,du.exec(c));return e.lastIndex=c.lastIndex,e};var Uh=Je?Je.prototype:void 0,j=Uh?Uh.valueOf:void 0;const F=function(c){return j?Object(j.call(c)):{}},q=function(c,e){var t=e?kc(c.buffer):c.buffer;return new c.constructor(t,c.byteOffset,c.length)},ne=function(c,e,t){var i=c.constructor;switch(e){case"[object ArrayBuffer]":return kc(c);case"[object Boolean]":case"[object Date]":return new i(+c);case"[object DataView]":return uu(c,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return q(c,t);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(c);case"[object RegExp]":return ts(c);case"[object Symbol]":return F(c)}};var Ie=Object.create;const We=function(){function c(){}return function(e){if(!Ne(e))return{};if(Ie)return Ie(e);c.prototype=e;var t=new c;return c.prototype=void 0,t}}(),qe=function(c){return typeof c.constructor!="function"||uc(c)?{}:We(zl(c))},Qe=function(c){return kn(c)&&co(c)=="[object Map]"};var Gt=jo&&jo.isMap;const Ht=Gt?Xl(Gt):Qe,bc=function(c){return kn(c)&&co(c)=="[object Set]"};var Fo=jo&&jo.isSet;const Vr=Fo?Xl(Fo):bc;var fi="[object Arguments]",ns="[object Function]",Uo="[object Object]",tt={};tt[fi]=tt["[object Array]"]=tt["[object ArrayBuffer]"]=tt["[object DataView]"]=tt["[object Boolean]"]=tt["[object Date]"]=tt["[object Float32Array]"]=tt["[object Float64Array]"]=tt["[object Int8Array]"]=tt["[object Int16Array]"]=tt["[object Int32Array]"]=tt["[object Map]"]=tt["[object Number]"]=tt[Uo]=tt["[object RegExp]"]=tt["[object Set]"]=tt["[object String]"]=tt["[object Symbol]"]=tt["[object Uint8Array]"]=tt["[object Uint8ClampedArray]"]=tt["[object Uint16Array]"]=tt["[object Uint32Array]"]=!0,tt["[object Error]"]=tt[ns]=tt["[object WeakMap]"]=!1;const ur=function c(e,t,i,l,d,p){var g,b=1&t,w=2&t,y=4&t;if(i&&(g=d?i(e,l,d,p):i(e)),g!==void 0)return g;if(!Ne(e))return e;var A=Ln(e);if(A){if(g=tk(e),!b)return au(e,g)}else{var E=co(e),D=E==ns||E=="[object GeneratorFunction]";if(Xi(e))return Eh(e,b);if(E==Uo||E==fi||D&&!d){if(g=w||D?{}:qe(e),!b)return w?Ph(e,Km(g,e)):Qm(e,Ym(g,e))}else{if(!tt[E])return d?e:{};g=ne(e,E,b)}}p||(p=new Ji);var M=p.get(e);if(M)return M;p.set(e,g),Vr(e)?e.forEach(function(U){g.add(c(U,t,i,U,e,p))}):Ht(e)&&e.forEach(function(U,W){g.set(W,c(U,t,i,W,e,p))});var R=A?void 0:(y?w?Oh:cu:w?es:ou)(e);return Hl(R||e,function(U,W){R&&(U=e[W=U]),$l(g,W,c(U,t,i,W,e,p))}),g},jn=function(c,e){return ur(c,5,e=typeof e=="function"?e:void 0)},zn=function(c){return kn(c)&&c.nodeType===1&&!bn(c)};class Vo{constructor(e,t){this._config={},t&&this.define(r_(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,i,l=!1){if(bn(t))return void this._setObjectToTarget(e,t,l);const d=t.split(".");t=d.pop();for(const p of d)bn(e[p])||(e[p]={}),e=e[p];if(bn(i))return bn(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,i,l);l&&e[t]!==void 0||(e[t]=i)}_getFromSource(e,t){const i=t.split(".");t=i.pop();for(const l of i){if(!bn(e[l])){e=null;break}e=e[l]}return e?r_(e[t]):void 0}_setObjectToTarget(e,t,i){Object.keys(t).forEach(l=>{this._setToTarget(e,l,t[l],i)})}}function r_(c){return jn(c,cO)}function cO(c){return zn(c)?c:void 0}function rs(c){if(c){if(c.defaultView)return c instanceof c.defaultView.Document;if(c.ownerDocument&&c.ownerDocument.defaultView)return c instanceof c.ownerDocument.defaultView.Node}return!1}function Vh(c){const e=Object.prototype.toString.apply(c);return e=="[object Window]"||e=="[object {}]"}const o_=Hr(ge());function Hr(c){return c?class extends c{listenTo(e,t,i,l={}){if(rs(e)||Vh(e)){const d={capture:!!l.useCapture,passive:!!l.usePassive},p=this._getProxyEmitter(e,d)||new lO(e,d);this.listenTo(p,t,i,l)}else super.listenTo(e,t,i,l)}stopListening(e,t,i){if(rs(e)||Vh(e)){const l=this._getAllProxyEmitters(e);for(const d of l)this.stopListening(d,t,i)}else super.stopListening(e,t,i)}_getProxyEmitter(e,t){return function(i,l){const d=i[Pe];return d&&d[l]?d[l].emitter:null}(this,i_(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(t=>this._getProxyEmitter(e,t)).filter(t=>!!t)}}:o_}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{Hr[c]=o_.prototype[c]});class lO extends ge(){constructor(e,t){super(),le(this,i_(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,i){this.attach(e),ge().prototype._addEventListener.call(this,e,t,i)}_removeEventListener(e,t){ge().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=i=>{this.fire(e,i)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function i_(c,e){let t=function(i){return i["data-ck-expando"]||(i["data-ck-expando"]=V())}(c);for(const i of Object.keys(e).sort())e[i]&&(t+="-"+i);return t}let nk;try{nk={window,document}}catch{nk={window:{},document:{}}}const Oe=nk;function wn(c){return Object.prototype.toString.call(c)=="[object Text]"}function Hh(c){return Object.prototype.toString.apply(c)=="[object Range]"}function s_(c){const e=c.ownerDocument.defaultView.getComputedStyle(c);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function a_(c){return c&&c.parentNode?c.offsetParent===Oe.document.body?null:c.offsetParent:null}const c_=["top","right","bottom","left","width","height"];class ft{constructor(e){const t=Hh(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),rk(e)||t)if(t){const i=ft.getDomRangeRects(e);Wh(this,ft.getBoundingRect(i))}else Wh(this,e.getBoundingClientRect());else if(Vh(e)){const{innerWidth:i,innerHeight:l}=e;Wh(this,{top:0,right:i,bottom:l,left:0,width:i,height:l})}else Wh(this,e)}clone(){return new ft(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const i=new ft(t);return i._source=this._source,i}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(l_(e))return t;let i,l=e,d=e.parentNode||e.commonAncestorContainer;for(;d&&!l_(d);){const g=((p=d)instanceof HTMLElement?p.ownerDocument.defaultView.getComputedStyle(p).overflow:"visible")==="visible";l instanceof HTMLElement&&u_(l)==="absolute"&&(i=l);const b=u_(d);if(g||i&&(b==="relative"&&g||b!=="relative")){l=d,d=d.parentNode;continue}const w=new ft(d),y=t.getIntersection(w);if(!y)return null;y.getArea()<t.getArea()&&(t=y),l=d,d=d.parentNode}var p;return t}isEqual(e){for(const t of c_)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=Oe.window,i=this.clone().moveBy(e,t);if(rk(i._source)){const l=a_(i._source);l&&function(d,p){const g=new ft(p),b=s_(p);let w=0,y=0;w-=g.left,y-=g.top,w+=p.scrollLeft,y+=p.scrollTop,w-=b.left,y-=b.top,d.moveBy(w,y)}(i,l)}return i}excludeScrollbarsAndBorders(){const e=this._source;let t,i,l;if(Vh(e))t=e.innerWidth-e.document.documentElement.clientWidth,i=e.innerHeight-e.document.documentElement.clientHeight,l=e.getComputedStyle(e.document.documentElement).direction;else{const d=s_(e);t=e.offsetWidth-e.clientWidth-d.left-d.right,i=e.offsetHeight-e.clientHeight-d.top-d.bottom,l=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=d.left,this.top+=d.top,this.right-=d.right,this.bottom-=d.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,l==="ltr"?this.right-=t:this.left+=t,this.height-=i,this.bottom-=i,this}static getDomRangeRects(e){const t=[],i=Array.from(e.getClientRects());if(i.length)for(const l of i)t.push(new ft(l));else{let l=e.startContainer;wn(l)&&(l=l.parentNode);const d=new ft(l.getBoundingClientRect());d.right=d.left,d.width=0,t.push(d)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let i=0;for(const l of e)i++,t.left=Math.min(t.left,l.left),t.top=Math.min(t.top,l.top),t.right=Math.max(t.right,l.right),t.bottom=Math.max(t.bottom,l.bottom);return i==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new ft(t))}}function Wh(c,e){for(const t of c_)c[t]=e[t]}function l_(c){return!!rk(c)&&c===c.ownerDocument.body}function rk(c){return c!==null&&typeof c=="object"&&c.nodeType===1&&typeof c.getBoundingClientRect=="function"}function u_(c){return c instanceof HTMLElement?c.ownerDocument.defaultView.getComputedStyle(c).position:"static"}const un=class{constructor(c,e){un._observerInstance||un._createObserver(),this._element=c,this._callback=e,un._addElementCallback(c,e),un._observerInstance.observe(c)}get element(){return this._element}destroy(){un._deleteElementCallback(this._element,this._callback)}static _addElementCallback(c,e){un._elementCallbacks||(un._elementCallbacks=new Map);let t=un._elementCallbacks.get(c);t||(t=new Set,un._elementCallbacks.set(c,t)),t.add(e)}static _deleteElementCallback(c,e){const t=un._getElementCallbacks(c);t&&(t.delete(e),t.size||(un._elementCallbacks.delete(c),un._observerInstance.unobserve(c))),un._elementCallbacks&&!un._elementCallbacks.size&&(un._observerInstance=null,un._elementCallbacks=null)}static _getElementCallbacks(c){return un._elementCallbacks?un._elementCallbacks.get(c):null}static _createObserver(){un._observerInstance=new Oe.window.ResizeObserver(c=>{for(const e of c){const t=un._getElementCallbacks(e.target);if(t)for(const i of t)i(e)}})}};let hu=un;function uO(c,e){c instanceof HTMLTextAreaElement&&(c.value=e),c.innerHTML=e}function pu(c){return e=>e+c}function $h(c){let e=0;for(;c.previousSibling;)c=c.previousSibling,e++;return e}function d_(c,e,t){c.insertBefore(t,c.childNodes[e]||null)}function fu(c){return c&&c.nodeType===Node.COMMENT_NODE}function Xs(c){return!!(c&&c.getClientRects&&c.getClientRects().length)}hu._observerInstance=null,hu._elementCallbacks=null;var h_=Math.pow;function ok({element:c,target:e,positions:t,limiter:i,fitInViewport:l,viewportOffsetConfig:d}){Bo(e)&&(e=e()),Bo(i)&&(i=i());const p=a_(c),g=function(E){E=Object.assign({top:0,bottom:0,left:0,right:0},E);const D=new ft(Oe.window);return D.top+=E.top,D.height-=E.top,D.bottom-=E.bottom,D.height-=E.bottom,D}(d),b=new ft(c),w=p_(e,g);let y;if(!w||!g.getIntersection(w))return null;const A={targetRect:w,elementRect:b,positionedElementAncestor:p,viewportRect:g};if(i||l){if(i){const E=p_(i,g);E&&(A.limiterRect=E)}y=function(E,D){const{elementRect:M}=D,R=M.getArea(),U=E.map(ie=>new f_(ie,D)).filter(ie=>!!ie.name);let W=0,J=null;for(const ie of U){const{limiterIntersectionArea:ve,viewportIntersectionArea:Be}=ie;if(ve===R)return ie;const Ct=h_(Be,2)+h_(ve,2);Ct>W&&(W=Ct,J=ie)}return J}(t,A)}else y=new f_(t[0],A);return y}function p_(c,e){const t=new ft(c).getVisible();return t?t.getIntersection(e):null}class f_{constructor(e,t){const i=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!i)return;const{left:l,top:d,name:p,config:g}=i;this.name=p,this.config=g,this._positioningFunctionCoordinates={left:l,top:d},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function g_(c){const e=c.parentNode;e&&e.removeChild(c)}function dO({window:c,rect:e,alignToTop:t,forceScroll:i,viewportOffset:l}){const d=e.clone().moveBy(0,l.bottom),p=e.clone().moveBy(0,-l.top),g=new ft(c).excludeScrollbarsAndBorders(),b=t&&i,w=[p,d].every(M=>g.contains(M));let{scrollX:y,scrollY:A}=c;const E=y,D=A;b?A-=g.top-e.top+l.top:w||(k_(p,g)?A-=g.top-e.top+l.top:m_(d,g)&&(A+=t?e.top-g.top-l.top:e.bottom-g.bottom+l.bottom)),w||(b_(e,g)?y-=g.left-e.left+l.left:w_(e,g)&&(y+=e.right-g.right+l.right)),y==E&&A===D||c.scrollTo(y,A)}function hO({parent:c,getRect:e,alignToTop:t,forceScroll:i,ancestorOffset:l=0,limiterElement:d}){const p=ik(c),g=t&&i;let b,w,y;const A=d||p.document.body;for(;c!=A;)w=e(),b=new ft(c).excludeScrollbarsAndBorders(),y=b.contains(w),g?c.scrollTop-=b.top-w.top+l:y||(k_(w,b)?c.scrollTop-=b.top-w.top+l:m_(w,b)&&(c.scrollTop+=t?w.top-b.top-l:w.bottom-b.bottom+l)),y||(b_(w,b)?c.scrollLeft-=b.left-w.left+l:w_(w,b)&&(c.scrollLeft+=w.right-b.right+l)),c=c.parentNode}function m_(c,e){return c.bottom>e.bottom}function k_(c,e){return c.top<e.top}function b_(c,e){return c.left<e.left}function w_(c,e){return c.right>e.right}function ik(c){return Hh(c)?c.startContainer.ownerDocument.defaultView:c.ownerDocument.defaultView}function pO(c){if(Hh(c)){let e=c.commonAncestorContainer;return wn(e)&&(e=e.parentNode),e}return c.parentNode}function v_(c,e){const t=ik(c),i=new ft(c);if(t===e)return i;{let l=t;for(;l!=e;){const d=l.frameElement,p=new ft(d).excludeScrollbarsAndBorders();i.moveBy(p.left,p.top),l=l.parent}}return i}const fO={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},gO={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},dt=function(){const c={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)c[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)c[e-48]=e;for(let e=112;e<=123;e++)c["f"+(e-111)]=e;for(const e of"`-=[];',./\\")c[e]=e.charCodeAt(0);return c}(),mO=Object.fromEntries(Object.entries(dt).map(([c,e])=>[e,c.charAt(0).toUpperCase()+c.slice(1)]));function wc(c){let e;if(typeof c=="string"){if(e=dt[c.toLowerCase()],!e)throw new z("keyboard-unknown-key",null,{key:c})}else e=c.keyCode+(c.altKey?dt.alt:0)+(c.ctrlKey?dt.ctrl:0)+(c.shiftKey?dt.shift:0)+(c.metaKey?dt.cmd:0);return e}function gu(c){return typeof c=="string"&&(c=function(e){return e.split("+").map(t=>t.trim())}(c)),c.map(e=>typeof e=="string"?function(t){if(t.endsWith("!"))return wc(t.slice(0,-1));const i=wc(t);return(_.isMac||_.isiOS)&&i==dt.ctrl?dt.cmd:i}(e):e).reduce((e,t)=>t+e,0)}function y_(c){let e=gu(c);return Object.entries(_.isMac||_.isiOS?fO:gO).reduce((t,[i,l])=>(e&dt[i]&&(e&=~dt[i],t+=l),t),"")+(e?mO[e]:"")}function sk(c,e){const t=e==="ltr";switch(c){case dt.arrowleft:return t?"left":"right";case dt.arrowright:return t?"right":"left";case dt.arrowup:return"up";case dt.arrowdown:return"down"}}function Sn(c){return Array.isArray(c)?c:[c]}function kO(c,e,t=1){if(typeof t!="number")throw new z("translation-service-quantity-not-a-number",null,{quantity:t});const i=Object.keys(Oe.window.CKEDITOR_TRANSLATIONS).length;i===1&&(c=Object.keys(Oe.window.CKEDITOR_TRANSLATIONS)[0]);const l=e.id||e.string;if(i===0||!function(b,w){return!!Oe.window.CKEDITOR_TRANSLATIONS[b]&&!!Oe.window.CKEDITOR_TRANSLATIONS[b].dictionary[w]}(c,l))return t!==1?e.plural:e.string;const d=Oe.window.CKEDITOR_TRANSLATIONS[c].dictionary,p=Oe.window.CKEDITOR_TRANSLATIONS[c].getPluralForm||(b=>b===1?0:1),g=d[l];return typeof g=="string"?g:g[Number(p(t))]}Oe.window.CKEDITOR_TRANSLATIONS||(Oe.window.CKEDITOR_TRANSLATIONS={});const bO=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function __(c){return bO.includes(c)?"rtl":"ltr"}class wO{constructor({uiLanguage:e="en",contentLanguage:t}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=__(this.uiLanguage),this.contentLanguageDirection=__(this.contentLanguage),this.t=(i,l)=>this._t(i,l)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=Sn(t),typeof e=="string"&&(e={string:e});const i=e.plural?t[0]:1;return function(l,d){return l.replace(/%(\d+)/g,(p,g)=>g<d.length?d[g]:p)}(kO(this.uiLanguage,e,i),t)}}class lo extends ge(){constructor(e={},t={}){super();const i=se(e);if(i||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],i)for(const l of e)this._items.push(l),this._itemMap.set(this._getItemIdBeforeAdding(l),l)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new z("collection-add-item-invalid-index",this);let i=0;for(const l of e){const d=this._getItemIdBeforeAdding(l),p=t+i;this._items.splice(p,0,l),this._itemMap.set(d,l),this.fire("add",l,p),i++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else{if(typeof e!="number")throw new z("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t=typeof e=="string"?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,i]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:i}),t}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new z("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(i=>new t(i))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(i=>i[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,i=(l,d,p)=>{const g=t._bindToCollection==this,b=t._bindToInternalToExternalMap.get(d);if(g&&b)this._bindToExternalToInternalMap.set(d,b),this._bindToInternalToExternalMap.set(b,d);else{const w=e(d);if(!w)return void this._skippedIndexesFromExternal.push(p);let y=p;for(const A of this._skippedIndexesFromExternal)p>A&&y--;for(const A of t._skippedIndexesFromExternal)y>=A&&y++;this._bindToExternalToInternalMap.set(d,w),this._bindToInternalToExternalMap.set(w,d),this.add(w,y);for(let A=0;A<t._skippedIndexesFromExternal.length;A++)y<=t._skippedIndexesFromExternal[A]&&t._skippedIndexesFromExternal[A]++}};for(const l of t)i(0,l,t.getIndex(l));this.listenTo(t,"add",i),this.listenTo(t,"remove",(l,d,p)=>{const g=this._bindToExternalToInternalMap.get(d);g&&this.remove(g),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((b,w)=>(p<w&&b.push(w-1),p>w&&b.push(w),b),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let i;if(t in e){if(i=e[t],typeof i!="string")throw new z("collection-add-invalid-id",this);if(this.get(i))throw new z("collection-add-item-already-exists",this)}else e[t]=i=V();return i}_remove(e){let t,i,l,d=!1;const p=this._idProperty;if(typeof e=="string"?(i=e,l=this._itemMap.get(i),d=!l,l&&(t=this._items.indexOf(l))):typeof e=="number"?(t=e,l=this._items[t],d=!l,l&&(i=l[p])):(l=e,i=l[p],t=this._items.indexOf(l),d=t==-1||!this._itemMap.get(i)),d)throw new z("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(i);const g=this._bindToInternalToExternalMap.get(l);return this._bindToInternalToExternalMap.delete(l),this._bindToExternalToInternalMap.delete(g),this.fire("remove",l,t),[l,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function vn(c){const e=c.next();return e.done?null:e.value}class dr extends Hr(Ve()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new z("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class uo{constructor(){this._listener=new(Hr())}listenTo(e){this._listener.listenTo(e,"keydown",(t,i)=>{this._listener.fire("_keydown:"+wc(i),i)})}set(e,t,i={}){const l=gu(e),d=i.priority;this._listener.listenTo(this._listener,"_keydown:"+l,(p,g)=>{t(g,()=>{g.preventDefault(),g.stopPropagation(),p.stop()}),p.return=!0},{priority:d})}press(e){return!!this._listener.fire("_keydown:"+wc(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function Ho(c){return se(c)?new Map(c):function(e){const t=new Map;for(const i in e)t.set(i,e[i]);return t}(c)}function ak(c,e){let t;function i(...l){i.cancel(),t=setTimeout(()=>c(...l),e)}return i.cancel=()=>{clearTimeout(t)},i}function ck(c,e){return!!(t=c.charAt(e-1))&&t.length==1&&/[\ud800-\udbff]/.test(t)&&function(i){return!!i&&i.length==1&&/[\udc00-\udfff]/.test(i)}(c.charAt(e));var t}function lk(c,e){return!!(t=c.charAt(e))&&t.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t);var t}const vO=function(){const c=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+c.map(i=>i.source).join("|")+")";return new RegExp(`${e}|${t}(?:‍${t})*`,"ug")}();function C_(c,e){const t=String(c).matchAll(vO);return Array.from(t).some(i=>i.index<e&&e<i.index+i[0].length)}class gi extends lo{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,i,l)=>{this._renderViewIntoCollectionParent(i,l)}),this.on("remove",(t,i)=>{i.element&&this._parentElement&&i.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!e.every(t=>typeof t=="string"))throw new z("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const i of this)for(const l of e)i.delegate(l).to(t);this.on("add",(i,l)=>{for(const d of e)l.delegate(d).to(t)}),this.on("remove",(i,l)=>{for(const d of e)l.stopDelegating(d,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}var yO=a(6062),ye=a.n(yO),A_=a(4793),_O={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(A_.Z,_O),A_.Z.locals;class Ke extends Hr(Ve()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new lo,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,i)=>{i.locale=e,i.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=ho.bind(this,this)}createCollection(e){const t=new gi(e);return this._viewCollections.add(t),t}registerChild(e){se(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){se(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new ho(e)}extendTemplate(e){ho.extend(this.template,e)}render(){if(this.isRendered)throw new z("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class ho extends ge(){constructor(e){super(),Object.assign(this,D_(S_(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new z("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const i of t.children)qh(i)?yield i:uk(i)&&(yield*e(i))}(this)}static bind(e,t){return{to:(i,l)=>new CO({eventNameOrFunction:i,attribute:i,observable:e,emitter:t,callback:l}),if:(i,l,d)=>new x_({observable:e,emitter:t,attribute:i,valueIfTrue:l,callback:d})}}static extend(e,t){if(e._isRendered)throw new z("template-extend-render",[this,e]);P_(e,D_(S_(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new z("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),Yh(this.text)?this._bindToObservable({schema:this.text,updater:AO(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,i=e.revertData;for(const l in this.attributes){const d=t.getAttribute(l),p=this.attributes[l];i&&(i.attributes[l]=d);const g=N_(p)?p[0].ns:null;if(Yh(p)){const b=N_(p)?p[0].value:p;i&&O_(l)&&b.unshift(d),this._bindToObservable({schema:b,updater:xO(t,l,g),data:e})}else if(l=="style"&&typeof p[0]!="string")this._renderStyleAttribute(p[0],e);else{i&&d&&O_(l)&&p.unshift(d);const b=p.map(w=>w&&w.value||w).reduce((w,y)=>w.concat(y),[]).reduce(I_,"");vc(b)||t.setAttributeNS(g,l,b)}}}_renderStyleAttribute(e,t){const i=t.node;for(const l in e){const d=e[l];Yh(d)?this._bindToObservable({schema:[d],updater:EO(i,l),data:t}):i.style[l]=d}}_renderElementChildren(e){const t=e.node,i=e.intoFragment?document.createDocumentFragment():t,l=e.isApplying;let d=0;for(const p of this.children)if(dk(p)){if(!l){p.setParent(t);for(const g of p)i.appendChild(g.element)}}else if(qh(p))l||(p.isRendered||p.render(),i.appendChild(p.element));else if(rs(p))i.appendChild(p);else if(l){const g={children:[],bindings:[],attributes:{}};e.revertData.children.push(g),p._renderNode({intoFragment:!1,node:i.childNodes[d++],isApplying:!0,revertData:g})}else i.appendChild(p.render());e.intoFragment&&t.appendChild(i)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const i=this.eventListeners[t].map(l=>{const[d,p]=t.split("@");return l.activateDomEventListener(d,p,e)});e.revertData&&e.revertData.bindings.push(i)}}_bindToObservable({schema:e,updater:t,data:i}){const l=i.revertData;E_(e,t,i);const d=e.filter(p=>!vc(p)).filter(p=>p.observable).map(p=>p.activateAttributeListener(e,t,i));l&&l.bindings.push(d)}_revertTemplateFromNode(e,t){for(const l of t.bindings)for(const d of l)d();if(t.text)return void(e.textContent=t.text);const i=e;for(const l in t.attributes){const d=t.attributes[l];d===null?i.removeAttribute(l):i.setAttribute(l,d)}for(let l=0;l<t.children.length;++l)this._revertTemplateFromNode(i.childNodes[l],t.children[l])}}class mu{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,i){const l=()=>E_(e,t,i);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,l),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,l)}}}class CO extends mu{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,i){const l=(d,p)=>{t&&!p.target.matches(t)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(p):this.observable.fire(this.eventNameOrFunction,p))};return this.emitter.listenTo(i.node,e,l),()=>{this.emitter.stopListening(i.node,e,l)}}}class x_ extends mu{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!vc(super.getValue(e))&&(this.valueIfTrue||!0)}}function Yh(c){return!!c&&(c.value&&(c=c.value),Array.isArray(c)?c.some(Yh):c instanceof mu)}function E_(c,e,{node:t}){const i=function(d,p){return d.map(g=>g instanceof mu?g.getValue(p):g)}(c,t);let l;l=c.length==1&&c[0]instanceof x_?i[0]:i.reduce(I_,""),vc(l)?e.remove():e.set(l)}function AO(c){return{set(e){c.textContent=e},remove(){c.textContent=""}}}function xO(c,e,t){return{set(i){c.setAttributeNS(t,e,i)},remove(){c.removeAttributeNS(t,e)}}}function EO(c,e){return{set(t){c.style[e]=t},remove(){c.style[e]=null}}}function S_(c){return jn(c,e=>{if(e&&(e instanceof mu||uk(e)||qh(e)||dk(e)))return e})}function D_(c){if(typeof c=="string"?c=function(e){return{text:[e]}}(c):c.text&&function(e){e.text=Sn(e.text)}(c),c.on&&(c.eventListeners=function(e){for(const t in e)T_(e,t);return e}(c.on),delete c.on),!c.text){c.attributes&&function(t){for(const i in t)t[i].value&&(t[i].value=Sn(t[i].value)),T_(t,i)}(c.attributes);const e=[];if(c.children)if(dk(c.children))e.push(c.children);else for(const t of c.children)uk(t)||qh(t)||rs(t)?e.push(t):e.push(new ho(t));c.children=e}return c}function T_(c,e){c[e]=Sn(c[e])}function I_(c,e){return vc(e)?c:vc(c)?e:`${c} ${e}`}function M_(c,e){for(const t in e)c[t]?c[t].push(...e[t]):c[t]=e[t]}function P_(c,e){if(e.attributes&&(c.attributes||(c.attributes={}),M_(c.attributes,e.attributes)),e.eventListeners&&(c.eventListeners||(c.eventListeners={}),M_(c.eventListeners,e.eventListeners)),e.text&&c.text.push(...e.text),e.children&&e.children.length){if(c.children.length!=e.children.length)throw new z("ui-template-extend-children-mismatch",c);let t=0;for(const i of e.children)P_(c.children[t++],i)}}function vc(c){return!c&&c!==0}function qh(c){return c instanceof Ke}function uk(c){return c instanceof ho}function dk(c){return c instanceof gi}function N_(c){return Ne(c[0])&&c[0].ns}function O_(c){return c=="class"||c=="style"}class SO extends gi{constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new ho({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=Oo(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var B_=a(6574),DO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(B_.Z,DO),B_.Z.locals;const R_=class extends Ke{constructor(){super();const c=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",c.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",c.if("isColorInherited","ck-icon_inherit-color")],viewBox:c.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const c=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=c.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:t,value:i}of Array.from(c.attributes))R_.presentationalAttributeNames.includes(t)&&this.element.setAttribute(t,i);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;c.childNodes.length>0;)this.element.appendChild(c.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(c=>{c.style.fill=this.fillColor})}};let ea=R_;ea.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class TO extends Ke{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var L_=a(4906),IO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(L_.Z,IO),L_.Z.locals;class zt extends Ke{constructor(e,t=new TO){super(e),this._focusDelayed=null;const i=this.bindTemplate,l=V();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${l}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new ea,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const d={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",p=>!p),i.if("isVisible","ck-hidden",p=>!p),i.to("isOn",p=>p?"ck-on":"ck-off"),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],role:i.to("role"),type:i.to("type",p=>p||"button"),tabindex:i.to("tabindex"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy"),"aria-disabled":i.if("isEnabled",!0,p=>!p),"aria-checked":i.to("isOn"),"aria-pressed":i.to("isOn",p=>!!this.isToggleable&&String(!!p)),"data-cke-tooltip-text":i.to("_tooltipString"),"data-cke-tooltip-position":i.to("tooltipPosition")},children:this.children,on:{click:i.to(p=>{this.isEnabled?this.fire("execute"):p.preventDefault()})}};_.isSafari&&(this._focusDelayed||(this._focusDelayed=ak(()=>this.focus(),0)),d.on.mousedown=i.to(()=>{this._focusDelayed()}),d.on.mouseup=i.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(d)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Ke;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>y_(t))}]}),e}_getTooltipString(e,t,i){return e?typeof e=="string"?e:(i&&(i=y_(i)),e instanceof Function?e(t,i):`${t}${i?` (${i})`:""}`):""}}var j_=a(5332),MO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(j_.Z,MO),j_.Z.locals;class Kh extends zt{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Ke;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var z_=a(6781),PO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(z_.Z,PO),z_.Z.locals,a(1103),a(841);var F_=a(3662),NO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(F_.Z,NO),F_.Z.locals;class U_ extends Ke{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${V()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}var V_=a(2577),OO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(V_.Z,OO),V_.Z.locals;class Gh extends Ke{constructor(e,t){super(e);const i=`ck-labeled-field-view-${V()}`,l=`ck-labeled-field-view-status-${V()}`;this.fieldView=t(this,i,l),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(i),this.statusView=this._createStatusView(l),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(p,g)=>p||g);const d=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",d.to("class"),d.if("isEnabled","ck-disabled",p=>!p),d.if("isEmpty","ck-labeled-field-view_empty"),d.if("isFocused","ck-labeled-field-view_focused"),d.if("placeholder","ck-labeled-field-view_placeholder"),d.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new U_(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new Ke(this.locale),i=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",i.if("errorText","ck-labeled-field-view__status_error"),i.if("_statusText","ck-hidden",l=>!l)],id:e,role:i.if("errorText","alert")},children:[{text:i.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class BO extends Ke{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new dr,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to((...i)=>{this.fire("input",...i),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,i)=>{this._setDomElementValue(i),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var H_=a(4879),RO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(H_.Z,RO),H_.Z.locals;class LO extends BO{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class jO extends LO{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var W_=a(8182),zO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(W_.Z,zO),W_.Z.locals;class FO extends Ke{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",i=>`ck-dropdown__panel_${i}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(i=>{i.target.tagName.toLocaleLowerCase()!=="input"&&i.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():te("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var $_=a(5485),UO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()($_.Z,UO),$_.Z.locals;const hk=class extends Ke{constructor(c,e,t){super(c);const i=this.bindTemplate;this.buttonView=e,this.panelView=t,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new uo,this.focusTracker=new dr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",l=>!l)],id:i.to("id"),"aria-describedby":i.to("ariaDescribedById")},children:[e,t]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":i.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(e,t,i)=>{if(i)if(this.panelPosition==="auto"){const l=hk._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=l?l.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const c=(e,t)=>{this.isOpen&&(this.isOpen=!1,t())};this.keystrokes.set("arrowdown",(e,t)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,t())}),this.keystrokes.set("arrowright",(e,t)=>{this.isOpen&&t()}),this.keystrokes.set("arrowleft",c),this.keystrokes.set("esc",c)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:c,north:e,southEast:t,southWest:i,northEast:l,northWest:d,southMiddleEast:p,southMiddleWest:g,northMiddleEast:b,northMiddleWest:w}=hk.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[t,i,p,g,c,l,d,b,w,e]:[i,t,g,p,c,d,l,w,b,e]}};let pk=hk;pk.defaultPanelPositions={south:(c,e)=>({top:c.bottom,left:c.left-(e.width-c.width)/2,name:"s"}),southEast:c=>({top:c.bottom,left:c.left,name:"se"}),southWest:(c,e)=>({top:c.bottom,left:c.left-e.width+c.width,name:"sw"}),southMiddleEast:(c,e)=>({top:c.bottom,left:c.left-(e.width-c.width)/4,name:"sme"}),southMiddleWest:(c,e)=>({top:c.bottom,left:c.left-3*(e.width-c.width)/4,name:"smw"}),north:(c,e)=>({top:c.top-e.height,left:c.left-(e.width-c.width)/2,name:"n"}),northEast:(c,e)=>({top:c.top-e.height,left:c.left,name:"ne"}),northWest:(c,e)=>({top:c.top-e.height,left:c.left-e.width+c.width,name:"nw"}),northMiddleEast:(c,e)=>({top:c.top-e.height,left:c.left-(e.width-c.width)/4,name:"nme"}),northMiddleWest:(c,e)=>({top:c.top-e.height,left:c.left-3*(e.width-c.width)/4,name:"nmw"})},pk._getOptimalPosition=ok;const Y_='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class VO extends zt{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new ea;return e.content=Y_,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class os extends ge(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let i=e.actions[t];typeof i=="string"&&(i=[i]);for(const l of i)e.keystrokeHandler.set(l,(d,p)=>{this[t](),p()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(fk)||null}get last(){return this.focusables.filter(fk).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,i)=>{const l=t.element===this.focusTracker.focusedElement;return l&&(e=i),l}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||(e===this.first?this.fire("forwardCycle"):this._focus(e,1))}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||(e===this.last?this.fire("backwardCycle"):this._focus(e,-1))}_focus(e,t){e&&e.focus(t)}_getFocusableItem(e){const t=this.current,i=this.focusables.length;if(!i)return null;if(t===null)return this[e===1?"first":"last"];let l=(t+i+e)%i;do{const d=this.focusables.get(l);if(fk(d))return d;l=(l+i+e)%i}while(l!==t);return null}}function fk(c){return!(!("focus"in c)||!Xs(c.element))}class q_ extends Ke{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class HO extends Ke{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function K_(c){return Array.isArray(c)?{items:c,removeItems:[]}:c?Object.assign({items:[],removeItems:[]},c):{items:[],removeItems:[]}}class pe extends Ve(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",G_,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",G_),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function G_(c){c.return=!1,c.stop()}class nt extends Ve(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const i=e.model.document.selection,l=i.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(i);(e.isReadOnly||this._isEnabledBasedOnSelection&&!l)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Q_,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Q_),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Q_(c){c.return=!1,c.stop()}class Z_ extends nt{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){Z(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class J_ extends ge(){constructor(e,t=[],i=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const l of t)l.pluginName&&this._availablePlugins.set(l.pluginName,l);this._contextPlugins=new Map;for(const[l,d]of i)this._contextPlugins.set(l,d),this._contextPlugins.set(d,l),l.pluginName&&this._availablePlugins.set(l.pluginName,l)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let i=e;throw typeof e=="function"&&(i=e.pluginName||e.name),new z("plugincollection-plugin-not-loaded",this._context,{plugin:i})}return t}has(e){return this._plugins.has(e)}init(e,t=[],i=[]){const l=this,d=this._context;(function M(R,U=new Set){R.forEach(W=>{b(W)&&(U.has(W)||(U.add(W),W.pluginName&&!l._availablePlugins.has(W.pluginName)&&l._availablePlugins.set(W.pluginName,W),W.requires&&M(W.requires,U)))})})(e),E(e);const p=[...function M(R,U=new Set){return R.map(W=>b(W)?W:l._availablePlugins.get(W)).reduce((W,J)=>U.has(J)?W:(U.add(J),J.requires&&(E(J.requires,J),M(J.requires,U).forEach(ie=>W.add(ie))),W.add(J)),new Set)}(e.filter(M=>!y(M,t)))];(function(M,R){for(const U of R){if(typeof U!="function")throw new z("plugincollection-replace-plugin-invalid-type",null,{pluginItem:U});const W=U.pluginName;if(!W)throw new z("plugincollection-replace-plugin-missing-name",null,{pluginItem:U});if(U.requires&&U.requires.length)throw new z("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:W});const J=l._availablePlugins.get(W);if(!J)throw new z("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:W});const ie=M.indexOf(J);if(ie===-1){if(l._contextPlugins.has(J))return;throw new z("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:W})}if(J.requires&&J.requires.length)throw new z("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:W});M.splice(ie,1,U),l._availablePlugins.set(W,U)}})(p,i);const g=p.map(M=>{let R=l._contextPlugins.get(M);return R=R||new M(d),l._add(M,R),R});return D(g,"init").then(()=>D(g,"afterInit")).then(()=>g);function b(M){return typeof M=="function"}function w(M){return b(M)&&!!M.isContextPlugin}function y(M,R){return R.some(U=>U===M||A(M)===U||A(U)===M)}function A(M){return b(M)?M.pluginName||M.name:M}function E(M,R=null){M.map(U=>b(U)?U:l._availablePlugins.get(U)||U).forEach(U=>{(function(W,J){if(!b(W))throw J?new z("plugincollection-soft-required",d,{missingPlugin:W,requiredBy:A(J)}):new z("plugincollection-plugin-not-found",d,{plugin:W})})(U,R),function(W,J){if(w(J)&&!w(W))throw new z("plugincollection-context-required",d,{plugin:A(W),requiredBy:A(J)})}(U,R),function(W,J){if(J&&y(W,t))throw new z("plugincollection-required",d,{plugin:A(W),requiredBy:A(J)})}(U,R)})}function D(M,R){return M.reduce((U,W)=>W[R]?l._contextPlugins.has(W)?U:U.then(W[R].bind(W)):U,Promise.resolve())}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy!="function"||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const i=e.pluginName;if(i){if(this._plugins.has(i))throw new z("plugincollection-plugin-name-conflict",null,{pluginName:i,plugin1:this._plugins.get(i).constructor,plugin2:e});this._plugins.set(i,t)}}}class X_{constructor(e){this._contextOwner=null,this.config=new Vo(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t),this.plugins=new J_(this,t);const i=this.config.get("language")||{};this.locale=new wO({uiLanguage:typeof i=="string"?i:i.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new lo}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const i of e.concat(t)){if(typeof i!="function")throw new z("context-initplugins-constructor-only",null,{Plugin:i});if(i.isContextPlugin!==!0)throw new z("context-initplugins-invalid-plugin",null,{Plugin:i})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new z("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const i=new this(e);t(i.initPlugins().then(()=>i))})}}class Qh extends Ve(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class WO extends uo{constructor(e){super(),this.editor=e}set(e,t,i={}){if(typeof t=="string"){const l=t;t=(d,p)=>{this.editor.execute(l),p()}}super.set(e,t,i)}}var eC=a(4717),$O={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(eC.Z,$O),eC.Z.locals;const Zh=new WeakMap;let tC=!1;function nC({view:c,element:e,text:t,isDirectHost:i=!0,keepOnFocus:l=!1}){const d=c.document;function p(g){Zh.get(d).set(e,{text:g,isDirectHost:i,keepOnFocus:l,hostElement:i?e:null}),c.change(b=>gk(d,b))}Zh.has(d)||(Zh.set(d,new Map),d.registerPostFixer(g=>gk(d,g)),d.on("change:isComposing",()=>{c.change(g=>gk(d,g))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(g,b,w)=>{p(w)}),e.placeholder?p(e.placeholder):t&&p(t),t&&function(){tC||te("enableplaceholder-deprecated-text-option"),tC=!0}()}function YO(c,e){return!!e.hasClass("ck-placeholder")&&(c.removeClass("ck-placeholder",e),!0)}function gk(c,e){const t=Zh.get(c),i=[];let l=!1;for(const[d,p]of t)p.isDirectHost&&(i.push(d),rC(e,d,p)&&(l=!0));for(const[d,p]of t){if(p.isDirectHost)continue;const g=qO(d);g&&(i.includes(g)||(p.hostElement=g,rC(e,d,p)&&(l=!0)))}return l}function rC(c,e,t){const{text:i,isDirectHost:l,hostElement:d}=t;let p=!1;return d.getAttribute("data-placeholder")!==i&&(c.setAttribute("data-placeholder",i,d),p=!0),(l||e.childCount==1)&&function(g,b){if(!g.isAttached()||Array.from(g.getChildren()).some(A=>!A.is("uiElement")))return!1;const w=g.document,y=w.selection.anchor;return!(w.isComposing&&y&&y.parent===g||!b&&w.isFocused&&(!y||y.parent===g))}(d,t.keepOnFocus)?function(g,b){return!b.hasClass("ck-placeholder")&&(g.addClass("ck-placeholder",b),!0)}(c,d)&&(p=!0):YO(c,d)&&(p=!0),p}function qO(c){if(c.childCount){const e=c.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class ta{is(){throw new Error("is() method is abstract")}}const oC=function(c){return ur(c,4)};class na extends ge(ta){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new z("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),l=e.getAncestors(t);let d=0;for(;i[d]==l[d]&&i[d];)d++;return d===0?null:i[d-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),l=X(t,i);switch(l){case"prefix":return!0;case"extension":return!1;default:return t[l]<i[l]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=oC(this);return delete e.parent,e}}na.prototype.is=function(c){return c==="node"||c==="view:node"};class Ot extends na{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof Ot&&(this===e||this.data===e.data)}_clone(){return new Ot(this.document,this.data)}}Ot.prototype.is=function(c){return c==="$text"||c==="view:$text"||c==="text"||c==="view:text"||c==="node"||c==="view:node"};class Wo extends ta{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.data.length)throw new z("view-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.data.length)throw new z("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let i=e.includeSelf?this.textNode:this.parent;for(;i!==null;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}}Wo.prototype.is=function(c){return c==="$textProxy"||c==="view:$textProxy"||c==="textProxy"||c==="view:textProxy"};class po{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const i of this._patterns){const l=iC(t,i);if(l)return{element:t,pattern:i,match:l}}return null}matchAll(...e){const t=[];for(const i of e)for(const l of this._patterns){const d=iC(i,l);d&&t.push({element:i,pattern:l,match:d})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e=="function"||!t||t instanceof RegExp?null:t}}function iC(c,e){if(typeof e=="function")return e(c);const t={};return e.name&&(t.name=function(i,l){return i instanceof RegExp?!!l.match(i):i===l}(e.name,c.name),!t.name)||e.attributes&&(t.attributes=function(i,l){const d=new Set(l.getAttributeKeys());return bn(i)?(i.style!==void 0&&te("matcher-pattern-deprecated-attributes-style-key",i),i.class!==void 0&&te("matcher-pattern-deprecated-attributes-class-key",i)):(d.delete("style"),d.delete("class")),mk(i,d,p=>l.getAttribute(p))}(e.attributes,c),!t.attributes)||e.classes&&(t.classes=function(i,l){return mk(i,l.getClassNames(),()=>{})}(e.classes,c),!t.classes)||e.styles&&(t.styles=function(i,l){return mk(i,l.getStyleNames(!0),d=>l.getStyle(d))}(e.styles,c),!t.styles)?null:t}function mk(c,e,t){const i=function(p){return Array.isArray(p)?p.map(g=>bn(g)?(g.key!==void 0&&g.value!==void 0||te("matcher-pattern-missing-key-or-value",g),[g.key,g.value]):[g,!0]):bn(p)?Object.entries(p):[[p,!0]]}(c),l=Array.from(e),d=[];if(i.forEach(([p,g])=>{l.forEach(b=>{(function(w,y){return w===!0||w===y||w instanceof RegExp&&y.match(w)})(p,b)&&function(w,y,A){if(w===!0)return!0;const E=A(y);return w===E||w instanceof RegExp&&!!String(E).match(w)}(g,b,t)&&d.push(b)})}),i.length&&!(d.length<i.length))return d}const Jh=function(c){return typeof c=="symbol"||kn(c)&&No(c)=="[object Symbol]"};var KO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,GO=/^\w*$/;const QO=function(c,e){if(Ln(c))return!1;var t=typeof c;return!(t!="number"&&t!="symbol"&&t!="boolean"&&c!=null&&!Jh(c))||GO.test(c)||!KO.test(c)||e!=null&&c in Object(e)};function kk(c,e){if(typeof c!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var t=function(){var i=arguments,l=e?e.apply(this,i):i[0],d=t.cache;if(d.has(l))return d.get(l);var p=c.apply(this,i);return t.cache=d.set(l,p)||d,p};return t.cache=new(kk.Cache||ac),t}kk.Cache=ac;const ZO=kk,JO=function(c){var e=ZO(c,function(i){return t.size===500&&t.clear(),i}),t=e.cache;return e};var XO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,e3=/\\(\\)?/g,t3=JO(function(c){var e=[];return c.charCodeAt(0)===46&&e.push(""),c.replace(XO,function(t,i,l,d){e.push(l?d.replace(e3,"$1"):i||t)}),e});const n3=t3,r3=function(c,e){for(var t=-1,i=c==null?0:c.length,l=Array(i);++t<i;)l[t]=e(c[t],t,c);return l};var sC=Je?Je.prototype:void 0,aC=sC?sC.toString:void 0;const o3=function c(e){if(typeof e=="string")return e;if(Ln(e))return r3(e,c)+"";if(Jh(e))return aC?aC.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},bk=function(c){return c==null?"":o3(c)},wk=function(c,e){return Ln(c)?c:QO(c,e)?[c]:n3(bk(c))},i3=function(c){var e=c==null?0:c.length;return e?c[e-1]:void 0},vk=function(c){if(typeof c=="string"||Jh(c))return c;var e=c+"";return e=="0"&&1/c==-1/0?"-0":e},cC=function(c,e){for(var t=0,i=(e=wk(e,c)).length;c!=null&&t<i;)c=c[vk(e[t++])];return t&&t==i?c:void 0},lC=function(c,e,t){var i=-1,l=c.length;e<0&&(e=-e>l?0:l+e),(t=t>l?l:t)<0&&(t+=l),l=e>t?0:t-e>>>0,e>>>=0;for(var d=Array(l);++i<l;)d[i]=c[i+e];return d},s3=function(c,e){return e.length<2?c:cC(c,lC(e,0,-1))},a3=function(c,e){return e=wk(e,c),(c=s3(c,e))==null||delete c[vk(i3(e))]},c3=function(c,e){return c==null||a3(c,e)},Xh=function(c,e,t){var i=c==null?void 0:cC(c,e);return i===void 0?t:i},yk=function(c,e,t){(t!==void 0&&!Gs(c[e],t)||t===void 0&&!(e in c))&&Wl(c,e,t)},l3=function(c){return function(e,t,i){for(var l=-1,d=Object(e),p=i(e),g=p.length;g--;){var b=p[c?g:++l];if(t(d[b],b,d)===!1)break}return e}}(),u3=function(c){return kn(c)&&dc(c)},_k=function(c,e){if((e!=="constructor"||typeof c[e]!="function")&&e!="__proto__")return c[e]},d3=function(c){return Lo(c,es(c))},h3=function(c,e,t,i,l,d,p){var g=_k(c,t),b=_k(e,t),w=p.get(b);if(w)yk(c,t,w);else{var y=d?d(g,b,t+"",c,e,p):void 0,A=y===void 0;if(A){var E=Ln(b),D=!E&&Xi(b),M=!E&&!D&&Zs(b);y=b,E||D||M?Ln(g)?y=g:u3(g)?y=au(g):D?(A=!1,y=Eh(b,!0)):M?(A=!1,y=q(b,!0)):y=[]:bn(b)||Kl(b)?(y=g,Kl(g)?y=d3(g):Ne(g)&&!Bo(g)||(y=qe(b))):A=!1}A&&(p.set(b,y),l(y,b,i,d,p),p.delete(b)),yk(c,t,y)}},p3=function c(e,t,i,l,d){e!==t&&l3(t,function(p,g){if(d||(d=new Ji),Ne(p))h3(e,t,g,i,c,l,d);else{var b=l?l(_k(e,g),p,g+"",e,t,d):void 0;b===void 0&&(b=p),yk(e,g,b)}},es)},ra=function(c){return c},f3=function(c,e,t){switch(t.length){case 0:return c.call(e);case 1:return c.call(e,t[0]);case 2:return c.call(e,t[0],t[1]);case 3:return c.call(e,t[0],t[1],t[2])}return c.apply(e,t)};var uC=Math.max;const g3=function(c,e,t){return e=uC(e===void 0?c.length-1:e,0),function(){for(var i=arguments,l=-1,d=uC(i.length-e,0),p=Array(d);++l<d;)p[l]=i[e+l];l=-1;for(var g=Array(e+1);++l<e;)g[l]=i[l];return g[e]=t(p),f3(c,this,g)}},m3=function(c){return function(){return c}},k3=cc?function(c,e){return cc(c,"toString",{configurable:!0,enumerable:!1,value:m3(e),writable:!0})}:ra;var b3=Date.now;const w3=function(c){var e=0,t=0;return function(){var i=b3(),l=16-(i-t);if(t=i,l>0){if(++e>=800)return arguments[0]}else e=0;return c.apply(void 0,arguments)}}(k3),v3=function(c,e){return w3(g3(c,e,ra),c+"")},y3=function(c,e,t){if(!Ne(t))return!1;var i=typeof e;return!!(i=="number"?dc(t)&&Zl(e,t.length):i=="string"&&e in t)&&Gs(t[e],c)},dC=function(c){return v3(function(e,t){var i=-1,l=t.length,d=l>1?t[l-1]:void 0,p=l>2?t[2]:void 0;for(d=c.length>3&&typeof d=="function"?(l--,d):void 0,p&&y3(t[0],t[1],p)&&(d=l<3?void 0:d,l=1),e=Object(e);++i<l;){var g=t[i];g&&c(e,g,i,d)}return e})},hC=dC(function(c,e,t){p3(c,e,t)}),_3=function(c,e,t,i){if(!Ne(c))return c;for(var l=-1,d=(e=wk(e,c)).length,p=d-1,g=c;g!=null&&++l<d;){var b=vk(e[l]),w=t;if(b==="__proto__"||b==="constructor"||b==="prototype")return c;if(l!=p){var y=g[b];(w=i?i(y,b,g):void 0)===void 0&&(w=Ne(y)?y:Zl(e[l+1])?[]:{})}$l(g,b,w),g=g[b]}return c},C3=function(c,e,t){return c==null?c:_3(c,e,t)};class A3{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(function(i){let l=null,d=0,p=0,g=null;const b=new Map;if(i==="")return b;i.charAt(i.length-1)!=";"&&(i+=";");for(let w=0;w<i.length;w++){const y=i.charAt(w);if(l===null)switch(y){case":":g||(g=i.substr(d,w-d),p=w+1);break;case'"':case"'":l=y;break;case";":{const A=i.substr(p,w-p);g&&b.set(g.trim(),A.trim()),g=null,d=w+1;break}}else y===l&&(l=null)}return b}(e).entries());for(const[i,l]of t)this._styleProcessor.toNormalizedForm(i,l,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);return Array.isArray(t)}set(e,t){if(Ne(e))for(const[i,l]of Object.entries(e))this._styleProcessor.toNormalizedForm(i,l,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=Ck(e);c3(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Ne(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([t])=>t)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const i of t)e.push(...this._styleProcessor.getReducedForm(i,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const i=t.splice(0,t.length-1).join("."),l=Xh(this._styles,i);l&&!Array.from(Object.keys(l)).length&&this.remove(i)}}class x3{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,i){if(Ne(t))Ak(i,Ck(e),t);else if(this._normalizers.has(e)){const l=this._normalizers.get(e),{path:d,value:p}=l(t);Ak(i,d,p)}else Ak(i,e,t)}getNormalized(e,t){if(!e)return hC({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const i=this._extractors.get(e);if(typeof i=="string")return Xh(t,i);const l=i(e,t);if(l)return l}return Xh(t,Ck(e))}getReducedForm(e,t){const i=this.getNormalized(e,t);return i===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(i):[[e,i]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(l=>{const d=this.getNormalized(l,e);return d&&typeof d=="object"?Object.keys(d).length:d}),i=new Set([...t,...Object.keys(e)]);return Array.from(i.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const i of t)this._mapStyleNames(i,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function Ck(c){return c.replace("-",".")}function Ak(c,e,t){let i=t;Ne(t)&&(i=hC({},Xh(c,e),t)),C3(c,e,i)}class Ar extends na{constructor(e,t,i,l){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=function(d){const p=Ho(d);for(const[g,b]of p)b===null?p.delete(g):typeof b!="string"&&p.set(g,String(b));return p}(i),this._children=[],l&&this._insertChild(0,l),this._classes=new Set,this._attrs.has("class")){const d=this._attrs.get("class");pC(this._classes,d),this._attrs.delete("class")}this._styles=new A3(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Ar))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,i]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==i)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new po(...e);let i=this.parent;for(;i&&!i.is("documentFragment");){if(t.match(i))return i;i=i.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),i=Array.from(this._attrs).map(l=>`${l[0]}="${l[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(i==""?"":` ${i}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const l of this.getChildren())t.push(l._clone(e));const i=new this.constructor(this.document,this.name,this._attrs,t);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let i=0;const l=function(d,p){return typeof p=="string"?[new Ot(d,p)]:(se(p)||(p=[p]),Array.from(p).map(g=>typeof g=="string"?new Ot(d,g):g instanceof Wo?new Ot(d,g.data):g))}(this.document,t);for(const d of l)d.parent!==null&&d._remove(),d.parent=this,d.document=this.document,this._children.splice(e,0,d),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const i=String(t);this._fireChange("attributes",this),e=="class"?pC(this._classes,i):e=="style"?this._styles.setTo(i):this._attrs.set(e,i)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of Sn(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of Sn(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of Sn(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function pC(c,e){const t=e.split(/\s+/);c.clear(),t.forEach(i=>c.add(i))}Ar.prototype.is=function(c,e){return e?e===this.name&&(c==="element"||c==="view:element"):c==="element"||c==="view:element"||c==="node"||c==="view:node"};class ku extends Ar{constructor(e,t,i,l){super(e,t,i,l),this.getFillerOffset=fC}}function fC(){const c=[...this.getChildren()],e=c[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of c)if(!t.is("uiElement"))return null;return this.childCount}ku.prototype.is=function(c,e){return e?e===this.name&&(c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class ep extends Ve(ku){constructor(e,t,i,l){super(e,t,i,l),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",d=>d&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}ep.prototype.is=function(c,e){return e?e===this.name&&(c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};const gC=Symbol("rootName");class mC extends ep{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(gC)}set rootName(e){this._setCustomProperty(gC,e)}set _name(e){this.name=e}}mC.prototype.is=function(c,e){return e?e===this.name&&(c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class oa{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new z("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new z("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=be._createAt(e.startPosition):this._position=be._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i;do i=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=i)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let l;if(i instanceof Ot){if(e.isAtEnd)return this._position=be._createAfter(i),this._next();l=i.data[e.offset]}else l=i.getChild(e.offset);if(l instanceof Ar){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new be(l,0);return this._position=e,this._formatReturnValue("elementStart",l,t,e,1)}if(l instanceof Ot){if(this.singleCharacters)return e=new be(l,0),this._position=e,this._next();let d,p=l.data.length;return l==this._boundaryEndParent?(p=this.boundaries.end.offset,d=new Wo(l,0,p),e=be._createAfter(d)):(d=new Wo(l,0,l.data.length),e.offset++),this._position=e,this._formatReturnValue("text",d,t,e,p)}if(typeof l=="string"){let d;this.singleCharacters?d=1:d=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-e.offset;const p=new Wo(i,e.offset,d);return e.offset+=d,this._position=e,this._formatReturnValue("text",p,t,e,d)}return e=be._createAfter(i),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,t,e)}_previous(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let l;if(i instanceof Ot){if(e.isAtStart)return this._position=be._createBefore(i),this._previous();l=i.data[e.offset-1]}else l=i.getChild(e.offset-1);if(l instanceof Ar)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",l,t,e,1)):(e=new be(l,l.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",l,t,e));if(l instanceof Ot){if(this.singleCharacters)return e=new be(l,l.data.length),this._position=e,this._previous();let d,p=l.data.length;if(l==this._boundaryStartParent){const g=this.boundaries.start.offset;d=new Wo(l,g,l.data.length-g),p=d.data.length,e=be._createBefore(d)}else d=new Wo(l,0,l.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",d,t,e,p)}if(typeof l=="string"){let d;if(this.singleCharacters)d=1;else{const g=i===this._boundaryStartParent?this.boundaries.start.offset:0;d=e.offset-g}e.offset-=d;const p=new Wo(i,e.offset,d);return this._position=e,this._formatReturnValue("text",p,t,e,d)}return e=be._createBefore(i),this._position=e,this._formatReturnValue("elementStart",i,t,e,1)}_formatReturnValue(e,t,i,l,d){return t instanceof Wo&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?i=be._createAfter(t.textNode):(l=be._createAfter(t.textNode),this._position=l)),t.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?i=be._createBefore(t.textNode):(l=be._createBefore(t.textNode),this._position=l))),{done:!1,value:{type:e,item:t,previousPosition:i,nextPosition:l,length:d}}}}class be extends ta{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof ep);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=be._createAt(this),i=t.offset+e;return t.offset=i<0?0:i,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new oa(t);return i.skip(e),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let l=0;for(;t[l]==i[l]&&t[l];)l++;return l===0?null:t[l-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],i=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),i.push(e.offset);const l=X(t,i);switch(l){case"prefix":return"before";case"extension":return"after";default:return t[l]<i[l]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new oa(e)}clone(){return new be(this.parent,this.offset)}static _createAt(e,t){if(e instanceof be)return new this(e.parent,e.offset);{const i=e;if(t=="end")t=i.is("$text")?i.data.length:i.childCount;else{if(t=="before")return this._createBefore(i);if(t=="after")return this._createAfter(i);if(t!==0&&!t)throw new z("view-createpositionat-offset-required",i)}return new be(i,t)}}static _createAfter(e){if(e.is("$textProxy"))return new be(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new z("view-position-after-root",e,{root:e});return new be(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new be(e.textNode,e.offsetInText);if(!e.parent)throw new z("view-position-before-root",e,{root:e});return new be(e.parent,e.index)}}be.prototype.is=function(c){return c==="position"||c==="view:position"};class ze extends ta{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new oa({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(tp,{direction:"backward"}),t=this.end.getLastMatchingPosition(tp);return e.parent.is("$text")&&e.isAtStart&&(e=be._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=be._createAfter(t.parent)),new ze(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(tp);if(e.isAfter(this.end)||e.isEqual(this.end))return new ze(e,e);let t=this.end.getLastMatchingPosition(tp,{direction:"backward"});const i=e.nodeAfter,l=t.nodeBefore;return i&&i.is("$text")&&(e=new be(i,0)),l&&l.is("$text")&&(t=new be(l,l.data.length)),new ze(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),l=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&l}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new ze(this.start,e.start)),this.containsPosition(e.end)&&t.push(new ze(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new ze(t,i)}return null}getWalker(e={}){return e.boundaries=this,new oa(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new ze(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new oa(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new oa(e);yield t.position;for(const i of t)yield i.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,i,l){return new this(new be(e,t),new be(i,l))}static _createFromPositionAndShift(e,t){const i=e,l=e.getShiftedBy(t);return t>0?new this(i,l):new this(l,i)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(be._createBefore(e),t)}}function tp(c){return!(!c.item.is("attributeElement")&&!c.item.is("uiElement"))}ze.prototype.is=function(c){return c==="range"||c==="view:range"};class fo extends ge(ta){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const l of e._ranges)if(t.isEqual(l)){i=!0;break}if(!i)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=$(this.getRanges());if(t!=$(e.getRanges()))return!1;if(t==0)return!0;for(let i of this.getRanges()){i=i.getTrimmed();let l=!1;for(let d of e.getRanges())if(d=d.getTrimmed(),i.start.isEqual(d.start)&&i.end.isEqual(d.end)){l=!0;break}if(!l)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,i,l]=e;if(typeof i=="object"&&(l=i,i=void 0),t===null)this._setRanges([]),this._setFakeOptions(l);else if(t instanceof fo||t instanceof xk)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof ze)this._setRanges([t],l&&l.backward),this._setFakeOptions(l);else if(t instanceof be)this._setRanges([new ze(t)]),this._setFakeOptions(l);else if(t instanceof na){const d=!!l&&!!l.backward;let p;if(i===void 0)throw new z("view-selection-setto-required-second-parameter",this);p=i=="in"?ze._createIn(t):i=="on"?ze._createOn(t):new ze(be._createAt(t,i)),this._setRanges([p],d),this._setFakeOptions(l)}else{if(!se(t))throw new z("view-selection-setto-not-selectable",this);this._setRanges(t,l&&l.backward),this._setFakeOptions(l)}this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new z("view-selection-setfocus-no-ranges",this);const i=be._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.pop(),i.compareWith(l)=="before"?this._addRange(new ze(i,l),!0):this._addRange(new ze(l,i)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const i of e)this._addRange(i);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof ze))throw new z("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new z("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new ze(e.start,e.end))}}fo.prototype.is=function(c){return c==="selection"||c==="view:selection"};class xk extends ge(ta){constructor(...e){super(),this._selection=new fo,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}xk.prototype.is=function(c){return c==="selection"||c=="documentSelection"||c=="view:selection"||c=="view:documentSelection"};class yc extends I{constructor(e,t,i){super(e,t),this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Ek=Symbol("bubbling contexts");function Sk(c){return class extends c{fire(e,...t){try{const i=e instanceof I?e:new I(this,e),l=Dk(this);if(!l.size)return;if(bu(i,"capturing",this),_c(l,"$capture",i,...t))return i.return;const d=i.startRange||this.selection.getFirstRange(),p=d?d.getContainedElement():null,g=!!p&&!!kC(l,p);let b=p||function(w){if(!w)return null;const y=w.start.parent,A=w.end.parent,E=y.getPath(),D=A.getPath();return E.length>D.length?y:A}(d);if(bu(i,"atTarget",b),!g){if(_c(l,"$text",i,...t))return i.return;bu(i,"bubbling",b)}for(;b;){if(b.is("rootElement")){if(_c(l,"$root",i,...t))return i.return}else if(b.is("element")&&_c(l,b.name,i,...t))return i.return;if(_c(l,b,i,...t))return i.return;b=b.parent,bu(i,"bubbling",b)}return bu(i,"bubbling",this),_c(l,"$document",i,...t),i.return}catch(i){z.rethrowUnexpectedError(i,this)}}_addEventListener(e,t,i){const l=Sn(i.context||"$document"),d=Dk(this);for(const p of l){let g=d.get(p);g||(g=new(ge()),d.set(p,g)),this.listenTo(g,e,t,i)}}_removeEventListener(e,t){const i=Dk(this);for(const l of i.values())this.stopListening(l,e,t)}}}{const c=Sk(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Sk[e]=c.prototype[e]})}function bu(c,e,t){c instanceof yc&&(c._eventPhase=e,c._currentTarget=t)}function _c(c,e,t,...i){const l=typeof e=="string"?c.get(e):kC(c,e);return!!l&&(l.fire(t,...i),t.stop.called)}function kC(c,e){for(const[t,i]of c)if(typeof t=="function"&&t(e))return i;return null}function Dk(c){return c[Ek]||(c[Ek]=new Map),c[Ek]}class np extends Sk(Ve()){constructor(e){super(),this._postFixers=new Set,this.selection=new xk,this.roots=new lo({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(t=i(e),t)break;while(t)}}class ia extends Ar{constructor(e,t,i,l){super(e,t,i,l),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=E3}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new z("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function E3(){if(Tk(this))return null;let c=this.parent;for(;c&&c.is("attributeElement");){if(Tk(c)>1)return null;c=c.parent}return!c||Tk(c)>1?null:this.childCount}function Tk(c){return Array.from(c.getChildren()).filter(e=>!e.is("uiElement")).length}ia.DEFAULT_PRIORITY=10,ia.prototype.is=function(c,e){return e?e===this.name&&(c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"):c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Ik extends Ar{constructor(e,t,i,l){super(e,t,i,l),this.getFillerOffset=S3}_insertChild(e,t){if(t&&(t instanceof na||Array.from(t).length>0))throw new z("view-emptyelement-cannot-add",[this,t]);return 0}}function S3(){return null}Ik.prototype.is=function(c,e){return e?e===this.name&&(c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"):c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class rp extends Ar{constructor(e,t,i,l){super(e,t,i,l),this.getFillerOffset=T3}_insertChild(e,t){if(t&&(t instanceof na||Array.from(t).length>0))throw new z("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const i of this.getAttributeKeys())t.setAttribute(i,this.getAttribute(i));return t}}function D3(c){c.document.on("arrowKey",(e,t)=>function(i,l,d){if(l.keyCode==dt.arrowright){const p=l.domTarget.ownerDocument.defaultView.getSelection(),g=p.rangeCount==1&&p.getRangeAt(0).collapsed;if(g||l.shiftKey){const b=p.focusNode,w=p.focusOffset,y=d.domPositionToView(b,w);if(y===null)return;let A=!1;const E=y.getLastMatchingPosition(D=>(D.item.is("uiElement")&&(A=!0),!(!D.item.is("uiElement")&&!D.item.is("attributeElement"))));if(A){const D=d.viewPositionToDom(E);g?p.collapse(D.parent,D.offset):p.extend(D.parent,D.offset)}}}}(0,t,c.domConverter),{priority:"low"})}function T3(){return null}rp.prototype.is=function(c,e){return e?e===this.name&&(c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"):c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Mk extends Ar{constructor(e,t,i,l){super(e,t,i,l),this.getFillerOffset=I3}_insertChild(e,t){if(t&&(t instanceof na||Array.from(t).length>0))throw new z("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function I3(){return null}Mk.prototype.is=function(c,e){return e?e===this.name&&(c==="rawElement"||c==="view:rawElement"||c==="element"||c==="view:element"):c==="rawElement"||c==="view:rawElement"||c===this.name||c==="view:"+this.name||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class sa extends ge(ta){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let i=0;const l=function(d,p){return typeof p=="string"?[new Ot(d,p)]:(se(p)||(p=[p]),Array.from(p).map(g=>typeof g=="string"?new Ot(d,g):g instanceof Wo?new Ot(d,g.data):g))}(this.document,t);for(const d of l)d.parent!==null&&d._remove(),d.parent=this,this._children.splice(e,0,d),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}sa.prototype.is=function(c){return c==="documentFragment"||c==="view:documentFragment"};class bC{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new sa(this.document,e)}createText(e){return new Ot(this.document,e)}createAttributeElement(e,t,i={}){const l=new ia(this.document,e,t);return typeof i.priority=="number"&&(l._priority=i.priority),i.id&&(l._id=i.id),i.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),l}createContainerElement(e,t,i={},l={}){let d=null;bn(i)?l=i:d=i;const p=new ku(this.document,e,t,d);return l.renderUnsafeAttributes&&p._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),p}createEditableElement(e,t,i={}){const l=new ep(this.document,e,t);return i.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),l}createEmptyElement(e,t,i={}){const l=new Ik(this.document,e,t);return i.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),l}createUIElement(e,t,i){const l=new rp(this.document,e,t);return i&&(l.render=i),l}createRawElement(e,t,i,l={}){const d=new Mk(this.document,e,t);return i&&(d.render=i),l.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),d}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){bn(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof be?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new z("view-writer-break-non-container-element",this.document);if(!t.parent)throw new z("view-writer-break-root",this.document);if(e.isAtStart)return be._createBefore(t);if(!e.isAtEnd){const i=t._clone(!1);this.insert(be._createAfter(t),i);const l=new ze(e,be._createAt(t,"end")),d=new be(i,0);this.move(l,d)}return be._createAfter(t)}mergeAttributes(e){const t=e.offset,i=e.parent;if(i.is("$text"))return e;if(i.is("attributeElement")&&i.childCount===0){const p=i.parent,g=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new be(p,g))}const l=i.getChild(t-1),d=i.getChild(t);if(!l||!d)return e;if(l.is("$text")&&d.is("$text"))return vC(l,d);if(l.is("attributeElement")&&d.is("attributeElement")&&l.isSimilar(d)){const p=l.childCount;return l._appendChild(d.getChildren()),d._remove(),this._removeFromClonedElementsGroup(d),this.mergeAttributes(new be(l,p))}return e}mergeContainers(e){const t=e.nodeBefore,i=e.nodeAfter;if(!(t&&i&&t.is("containerElement")&&i.is("containerElement")))throw new z("view-writer-merge-containers-invalid-position",this.document);const l=t.getChild(t.childCount-1),d=l instanceof Ot?be._createAt(l,"end"):be._createAt(t,"end");return this.move(ze._createIn(i),be._createAt(t,"end")),this.remove(ze._createOn(i)),d}insert(e,t){yC(t=se(t)?[...t]:[t],this.document);const i=t.reduce((p,g)=>{const b=p[p.length-1],w=!g.is("uiElement");return b&&b.breakAttributes==w?b.nodes.push(g):p.push({breakAttributes:w,nodes:[g]}),p},[]);let l=null,d=e;for(const{nodes:p,breakAttributes:g}of i){const b=this._insertNodes(d,p,g);l||(l=b.start),d=b.end}return l?new ze(l,d):new ze(e)}remove(e){const t=e instanceof ze?e:ze._createOn(e);if(wu(t,this.document),t.isCollapsed)return new sa(this.document);const{start:i,end:l}=this._breakAttributesRange(t,!0),d=i.parent,p=l.offset-i.offset,g=d._removeChildren(i.offset,p);for(const w of g)this._removeFromClonedElementsGroup(w);const b=this.mergeAttributes(i);return t.start=b,t.end=b.clone(),new sa(this.document,g)}clear(e,t){wu(e,this.document);const i=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const l of i){const d=l.item;let p;if(d.is("element")&&t.isSimilar(d))p=ze._createOn(d);else if(!l.nextPosition.isAfter(e.start)&&d.is("$textProxy")){const g=d.getAncestors().find(b=>b.is("element")&&t.isSimilar(b));g&&(p=ze._createIn(g))}p&&(p.end.isAfter(e.end)&&(p.end=e.end),p.start.isBefore(e.start)&&(p.start=e.start),this.remove(p))}}move(e,t){let i;if(t.isAfter(e.end)){const l=(t=this._breakAttributes(t,!0)).parent,d=l.childCount;e=this._breakAttributesRange(e,!0),i=this.remove(e),t.offset+=l.childCount-d}else i=this.remove(e);return this.insert(t,i)}wrap(e,t){if(!(t instanceof ia))throw new z("view-writer-wrap-invalid-attribute",this.document);if(wu(e,this.document),e.isCollapsed){let l=e.start;l.parent.is("element")&&(i=l.parent,!Array.from(i.getChildren()).some(p=>!p.is("uiElement")))&&(l=l.getLastMatchingPosition(p=>p.item.is("uiElement"))),l=this._wrapPosition(l,t);const d=this.document.selection;return d.isCollapsed&&d.getFirstPosition().isEqual(e.start)&&this.setSelection(l),new ze(l)}return this._wrapRange(e,t);var i}unwrap(e,t){if(!(t instanceof ia))throw new z("view-writer-unwrap-invalid-attribute",this.document);if(wu(e,this.document),e.isCollapsed)return e;const{start:i,end:l}=this._breakAttributesRange(e,!0),d=i.parent,p=this._unwrapChildren(d,i.offset,l.offset,t),g=this.mergeAttributes(p.start);g.isEqual(p.start)||p.end.offset--;const b=this.mergeAttributes(p.end);return new ze(g,b)}rename(e,t){const i=new ku(this.document,e,t.getAttributes());return this.insert(be._createAfter(t),i),this.move(ze._createIn(t),be._createAt(i,0)),this.remove(ze._createOn(t)),i}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return be._createAt(e,t)}createPositionAfter(e){return be._createAfter(e)}createPositionBefore(e){return be._createBefore(e)}createRange(e,t){return new ze(e,t)}createRangeOn(e){return ze._createOn(e)}createRangeIn(e){return ze._createIn(e)}createSelection(...e){return new fo(...e)}createSlot(e="children"){if(!this._slotFactory)throw new z("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,i){let l,d;if(l=i?Pk(e):e.parent.is("$text")?e.parent.parent:e.parent,!l)throw new z("view-writer-invalid-position-container",this.document);d=i?this._breakAttributes(e,!0):e.parent.is("$text")?Nk(e):e;const p=l._insertChild(d.offset,t);for(const y of t)this._addToClonedElementsGroup(y);const g=d.getShiftedBy(p),b=this.mergeAttributes(d);b.isEqual(d)||g.offset--;const w=this.mergeAttributes(g);return new ze(b,w)}_wrapChildren(e,t,i,l){let d=t;const p=[];for(;d<i;){const b=e.getChild(d),w=b.is("$text"),y=b.is("attributeElement");if(y&&this._wrapAttributeElement(l,b))p.push(new be(e,d));else if(w||!y||M3(l,b)){const A=l._clone();b._remove(),A._appendChild(b),e._insertChild(d,A),this._addToClonedElementsGroup(A),p.push(new be(e,d))}else this._wrapChildren(b,0,b.childCount,l);d++}let g=0;for(const b of p)b.offset-=g,b.offset!=t&&(this.mergeAttributes(b).isEqual(b)||(g++,i--));return ze._createFromParentsAndOffsets(e,t,e,i)}_unwrapChildren(e,t,i,l){let d=t;const p=[];for(;d<i;){const b=e.getChild(d);if(b.is("attributeElement"))if(b.isSimilar(l)){const w=b.getChildren(),y=b.childCount;b._remove(),e._insertChild(d,w),this._removeFromClonedElementsGroup(b),p.push(new be(e,d),new be(e,d+y)),d+=y,i+=y-1}else this._unwrapAttributeElement(l,b)?(p.push(new be(e,d),new be(e,d+1)),d++):(this._unwrapChildren(b,0,b.childCount,l),d++);else d++}let g=0;for(const b of p)b.offset-=g,!(b.offset==t||b.offset==i)&&(this.mergeAttributes(b).isEqual(b)||(g++,i--));return ze._createFromParentsAndOffsets(e,t,e,i)}_wrapRange(e,t){const{start:i,end:l}=this._breakAttributesRange(e,!0),d=i.parent,p=this._wrapChildren(d,i.offset,l.offset,t),g=this.mergeAttributes(p.start);g.isEqual(p.start)||p.end.offset--;const b=this.mergeAttributes(p.end);return new ze(g,b)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return wC(e.clone());e.parent.is("$text")&&(e=Nk(e));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,e.parent._insertChild(e.offset,i);const l=new ze(e,e.getShiftedBy(1));this.wrap(l,t);const d=new be(i.parent,i.index);i._remove();const p=d.nodeBefore,g=d.nodeAfter;return p instanceof Ot&&g instanceof Ot?vC(p,g):wC(d)}_wrapAttributeElement(e,t){if(!_C(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(i!=="class"&&i!=="style"&&t.hasAttribute(i)&&t.getAttribute(i)!==e.getAttribute(i))return!1;for(const i of e.getStyleNames())if(t.hasStyle(i)&&t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i!=="class"&&i!=="style"&&(t.hasAttribute(i)||this.setAttribute(i,e.getAttribute(i),t));for(const i of e.getStyleNames())t.hasStyle(i)||this.setStyle(i,e.getStyle(i),t);for(const i of e.getClassNames())t.hasClass(i)||this.addClass(i,t);return!0}_unwrapAttributeElement(e,t){if(!_C(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(i!=="class"&&i!=="style"&&(!t.hasAttribute(i)||t.getAttribute(i)!==e.getAttribute(i)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const i of e.getStyleNames())if(!t.hasStyle(i)||t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i!=="class"&&i!=="style"&&this.removeAttribute(i,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const i=e.start,l=e.end;if(wu(e,this.document),e.isCollapsed){const b=this._breakAttributes(e.start,t);return new ze(b,b)}const d=this._breakAttributes(l,t),p=d.parent.childCount,g=this._breakAttributes(i,t);return d.offset+=d.parent.childCount-p,new ze(g,d)}_breakAttributes(e,t=!1){const i=e.offset,l=e.parent;if(e.parent.is("emptyElement"))throw new z("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new z("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new z("view-writer-cannot-break-raw-element",this.document);if(!t&&l.is("$text")&&Ok(l.parent)||Ok(l))return e.clone();if(l.is("$text"))return this._breakAttributes(Nk(e),t);if(i==l.childCount){const d=new be(l.parent,l.index+1);return this._breakAttributes(d,t)}if(i===0){const d=new be(l.parent,l.index);return this._breakAttributes(d,t)}{const d=l.index+1,p=l._clone();l.parent._insertChild(d,p),this._addToClonedElementsGroup(p);const g=l.childCount-i,b=l._removeChildren(i,g);p._appendChild(b);const w=new be(l.parent,d);return this._breakAttributes(w,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const l of e.getChildren())this._addToClonedElementsGroup(l);const t=e.id;if(!t)return;let i=this._cloneGroups.get(t);i||(i=new Set,this._cloneGroups.set(t,i)),i.add(e),e._clonesGroup=i}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const l of e.getChildren())this._removeFromClonedElementsGroup(l);const t=e.id;if(!t)return;const i=this._cloneGroups.get(t);i&&i.delete(e)}}function Pk(c){let e=c.parent;for(;!Ok(e);){if(!e)return;e=e.parent}return e}function M3(c,e){return c.priority<e.priority||!(c.priority>e.priority)&&c.getIdentity()<e.getIdentity()}function wC(c){const e=c.nodeBefore;if(e&&e.is("$text"))return new be(e,e.data.length);const t=c.nodeAfter;return t&&t.is("$text")?new be(t,0):c}function Nk(c){if(c.offset==c.parent.data.length)return new be(c.parent.parent,c.parent.index+1);if(c.offset===0)return new be(c.parent.parent,c.parent.index);const e=c.parent.data.slice(c.offset);return c.parent._data=c.parent.data.slice(0,c.offset),c.parent.parent._insertChild(c.parent.index+1,new Ot(c.root.document,e)),new be(c.parent.parent,c.parent.index+1)}function vC(c,e){const t=c.data.length;return c._data+=e.data,e._remove(),new be(c,t)}const P3=[Ot,ia,ku,Ik,Mk,rp];function yC(c,e){for(const t of c){if(!P3.some(i=>t instanceof i))throw new z("view-writer-insert-invalid-node-type",e);t.is("$text")||yC(t.getChildren(),e)}}function Ok(c){return c&&(c.is("containerElement")||c.is("documentFragment"))}function wu(c,e){const t=Pk(c.start),i=Pk(c.end);if(!t||!i||t!==i)throw new z("view-writer-invalid-range-container",e)}function _C(c,e){return c.id===null&&e.id===null}const CC=c=>c.createTextNode(" "),AC=c=>{const e=c.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},xC=c=>{const e=c.createElement("br");return e.dataset.ckeFiller="true",e},go=7,vu="⁠".repeat(go);function xr(c){return typeof c=="string"?c.substr(0,go)===vu:wn(c)&&c.data.substr(0,go)===vu}function yu(c){return c.data.length==go&&xr(c)}function EC(c){const e=typeof c=="string"?c:c.data;return xr(c)?e.slice(go):e}function N3(c,e){if(e.keyCode==dt.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const i=t.getRangeAt(0).startContainer,l=t.getRangeAt(0).startOffset;xr(i)&&l<=go&&t.collapse(i,0)}}}var SC=a(9315),O3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(SC.Z,O3),SC.Z.locals;class B3 extends Ve(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),_.isBlink&&!_.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else{if(e!=="children")throw new z("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!_.isAndroid)return;let e=null;const t=!(_.isBlink&&!_.isAndroid)||!this.isSelecting;for(const i of this.markedChildren)this._updateChildrenMappings(i);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=be._createBefore(e.parent)));for(const i of this.markedAttributes)this._updateAttrs(i);for(const i of this.markedChildren)this._updateChildren(i,{inlineFillerPosition:e});for(const i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:e});if(t)if(e){const i=this.domConverter.viewPositionToDom(e),l=i.parent.ownerDocument;xr(i.parent)?this._inlineFiller=i.parent:this._inlineFiller=DC(l,i.parent,i.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const i=Array.from(t.childNodes),l=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),d=this._diffNodeLists(i,l),p=this._findUpdateActions(d,i,l,R3);if(p.indexOf("update")!==-1){const g={equal:0,insert:0,delete:0};for(const b of p)if(b==="update"){const w=g.equal+g.insert,y=g.equal+g.delete,A=e.getChild(w);!A||A.is("uiElement")||A.is("rawElement")||this._updateElementMappings(A,i[y]),g_(l[w]),g.equal++}else g[b]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?be._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&wn(t.parent)&&xr(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!xr(e))throw new z("view-renderer-filler-was-lost",this);yu(e)?e.remove():e.data=e.data.substr(go),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,i=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(p){if(p.getAttribute("contenteditable")=="false")return!1;const g=p.findAncestor(b=>b.hasAttribute("contenteditable"));return!g||g.getAttribute("contenteditable")=="true"}(t)||i===t.getFillerOffset())return!1;const l=e.nodeBefore,d=e.nodeAfter;return!(l instanceof Ot||d instanceof Ot)&&(!_.isAndroid||!l&&!d)}_updateText(e,t){const i=this.domConverter.findCorrespondingDomText(e);let l=this.domConverter.viewToDom(e).data;const d=t.inlineFillerPosition;d&&d.parent==e.parent&&d.offset==e.index&&(l=vu+l),TC(i,l)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const i=Array.from(t.attributes).map(d=>d.name),l=e.getAttributeKeys();for(const d of l)this.domConverter.setDomElementAttribute(t,d,e.getAttribute(d),e);for(const d of i)e.hasAttribute(d)||this.domConverter.removeDomElementAttribute(t,d)}_updateChildren(e,t){const i=this.domConverter.mapViewToDom(e);if(!i)return;if(_.isAndroid){let A=null;for(const E of Array.from(i.childNodes)){if(A&&wn(A)&&wn(E)){i.normalize();break}A=E}}const l=t.inlineFillerPosition,d=i.childNodes,p=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));l&&l.parent===e&&DC(i.ownerDocument,p,l.offset);const g=this._diffNodeLists(d,p),b=this._findUpdateActions(g,d,p,L3);let w=0;const y=new Set;for(const A of b)A==="delete"?(y.add(d[w]),g_(d[w])):A!=="equal"&&A!=="update"||w++;w=0;for(const A of b)A==="insert"?(d_(i,w,p[w]),w++):A==="update"?(TC(d[w],p[w].data),w++):A==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(p[w])),w++);for(const A of y)A.parentNode||this.domConverter.unbindDomElement(A)}_diffNodeLists(e,t){return e=function(i,l){const d=Array.from(i);return d.length==0||!l||d[d.length-1]==l&&d.pop(),d}(e,this._fakeSelectionContainer),B(e,t,j3.bind(null,this.domConverter))}_findUpdateActions(e,t,i,l){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let d=[],p=[],g=[];const b={equal:0,insert:0,delete:0};for(const w of e)w==="insert"?g.push(i[b.equal+b.insert]):w==="delete"?p.push(t[b.equal+b.delete]):(d=d.concat(B(p,g,l).map(y=>y==="equal"?"update":y)),d.push("equal"),p=[],g=[]),b[w]++;return d.concat(B(p,g,l).map(w=>w==="equal"?"update":w))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(_.isBlink&&!_.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&_.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(p){const g=p.createElement("div");return g.className="ck-fake-selection-container",Object.assign(g.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),g.textContent=" ",g}(t));const i=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(i,this.selection),!this._fakeSelectionNeedsUpdate(e))return;i.parentElement&&i.parentElement==e||e.appendChild(i),i.textContent=this.selection.fakeSelectionLabel||" ";const l=t.getSelection(),d=t.createRange();l.removeAllRanges(),d.selectNodeContents(i),l.addRange(d)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const i=this.domConverter.viewPositionToDom(this.selection.anchor),l=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(i.parent,i.offset,l.parent,l.offset),_.isGecko&&function(d,p){const g=d.parent;if(g.nodeType!=Node.ELEMENT_NODE||d.offset!=g.childNodes.length-1)return;const b=g.childNodes[d.offset];b&&b.tagName=="BR"&&p.addRange(p.getRangeAt(0))}(l,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,i=e.ownerDocument.getSelection();return!t||t.parentElement!==e||i.anchorNode!==t&&!t.contains(i.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const i=e.activeElement,l=this.domConverter.mapDomToView(i);i&&l&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function DC(c,e,t){const i=e instanceof Array?e:e.childNodes,l=i[t];if(wn(l))return l.data=vu+l.data,l;{const d=c.createTextNode(vu);return Array.isArray(e)?i.splice(t,0,d):d_(e,t,d),d}}function R3(c,e){return rs(c)&&rs(e)&&!wn(c)&&!wn(e)&&!fu(c)&&!fu(e)&&c.tagName.toLowerCase()===e.tagName.toLowerCase()}function L3(c,e){return rs(c)&&rs(e)&&wn(c)&&wn(e)}function j3(c,e,t){return e===t||(wn(e)&&wn(t)?e.data===t.data:!(!c.isBlockFiller(e)||!c.isBlockFiller(t)))}function TC(c,e){const t=c.data;if(t==e)return;const i=x(t,e);for(const l of i)l.type==="insert"?c.insertData(l.index,l.values.join("")):c.deleteData(l.index,l.howMany)}const z3=xC(Oe.document),F3=CC(Oe.document),U3=AC(Oe.document),op="data-ck-unsafe-attribute-",IC="data-ck-unsafe-element";class ip{constructor(e,{blockFillerMode:t,renderingMode:i="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new po,this._inlineObjectElementMatcher=new po,this.document=e,this.renderingMode=i,this.blockFillerMode=t||(i==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?Oe.document:Oe.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new fo(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const i of Array.from(e.children))this.unbindDomElement(i)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,i){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(i==="img"&&(e==="src"||e==="srcset")||i==="source"&&e==="srcset"||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data")return void(e.innerHTML=t);const i=new DOMParser().parseFromString(t,"text/html"),l=i.createDocumentFragment(),d=i.body.childNodes;for(;d.length>0;)l.appendChild(d[0]);const p=i.createTreeWalker(l,NodeFilter.SHOW_ELEMENT),g=[];let b;for(;b=p.nextNode();)g.push(b);for(const w of g){for(const A of w.getAttributeNames())this.setDomElementAttribute(w,A,w.getAttribute(A));const y=w.tagName.toLowerCase();this._shouldRenameElement(y)&&(NC(y),w.replaceWith(this._createReplacementDomElement(y,w)))}for(;e.firstChild;)e.firstChild.remove();e.append(l)}viewToDom(e,t={}){if(e.is("$text")){const i=this._processDataFromViewText(e);return this._domDocument.createTextNode(i)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let i;if(e.is("documentFragment"))i=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(i,e);else{if(e.is("uiElement"))return i=e.name==="$comment"?this._domDocument.createComment(e.getCustomProperty("$rawContent")):e.render(this._domDocument,this),t.bind&&this.bindElements(i,e),i;this._shouldRenameElement(e.name)?(NC(e.name),i=this._createReplacementDomElement(e.name)):i=e.hasAttribute("xmlns")?this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(i,this),t.bind&&this.bindElements(i,e);for(const l of e.getAttributeKeys())this.setDomElementAttribute(i,l,e.getAttribute(l),e)}if(t.withChildren!==!1)for(const l of this.viewChildrenToDom(e,t))i.appendChild(l);return i}}setDomElementAttribute(e,t,i,l){const d=this.shouldRenderAttribute(t,i,e.tagName.toLowerCase())||l&&l.shouldRenderUnsafeAttribute(t);d||te("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:i}),function(p){try{Oe.document.createAttribute(p)}catch{return!1}return!0}(t)?(e.hasAttribute(t)&&!d?e.removeAttribute(t):e.hasAttribute(op+t)&&d&&e.removeAttribute(op+t),e.setAttribute(d?t:op+t,i)):te("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:i})}removeDomElementAttribute(e,t){t!=IC&&(e.removeAttribute(t),e.removeAttribute(op+t))}*viewChildrenToDom(e,t={}){const i=e.getFillerOffset&&e.getFillerOffset();let l=0;for(const d of e.getChildren()){i===l&&(yield this._getBlockFiller());const p=d.is("element")&&!!d.getCustomProperty("dataPipeline:transparentRendering")&&!vn(d.getAttributes());p&&this.renderingMode=="data"?yield*this.viewChildrenToDom(d,t):(p&&te("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:d}),yield this.viewToDom(d,t)),l++}i===l&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),i=this.viewPositionToDom(e.end),l=this._domDocument.createRange();return l.setStart(t.parent,t.offset),l.setEnd(i.parent,i.offset),l}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const i=this.findCorrespondingDomText(t);if(!i)return null;let l=e.offset;return xr(i)&&(l+=go),{parent:i,offset:l}}{let i,l,d;if(e.offset===0){if(i=this.mapViewToDom(t),!i)return null;d=i.childNodes[0]}else{const p=e.nodeBefore;if(l=p.is("$text")?this.findCorrespondingDomText(p):this.mapViewToDom(p),!l)return null;i=l.parentNode,d=l.nextSibling}return wn(d)&&xr(d)?{parent:d,offset:go}:{parent:i,offset:l?$h(l)+1:0}}}domToView(e,t={}){const i=[],l=this._domToView(e,t,i),d=l.next().value;return d?(l.next(),this._processDomInlineNodes(null,i,t),d.is("$text")&&d.data.length==0?null:d):null}*domChildrenToView(e,t={},i=[]){for(let l=0;l<e.childNodes.length;l++){const d=e.childNodes[l],p=this._domToView(d,t,i),g=p.next().value;g!==null&&(this._isBlockViewElement(g)&&this._processDomInlineNodes(e,i,t),yield g,p.next())}this._processDomInlineNodes(e,i,t)}domSelectionToView(e){if(function(l){if(!_.isGecko||!l.rangeCount)return!1;const d=l.getRangeAt(0).startContainer;try{Object.prototype.toString.call(d)}catch{return!0}return!1}(e))return new fo([]);if(e.rangeCount===1){let l=e.getRangeAt(0).startContainer;wn(l)&&(l=l.parentNode);const d=this.fakeSelectionToView(l);if(d)return d}const t=this.isDomSelectionBackward(e),i=[];for(let l=0;l<e.rangeCount;l++){const d=e.getRangeAt(l),p=this.domRangeToView(d);p&&i.push(p)}return new fo(i,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),i=this.domPositionToView(e.endContainer,e.endOffset);return t&&i?new ze(t,i):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,$h(e));const i=this.mapDomToView(e);if(i&&(i.is("uiElement")||i.is("rawElement")))return be._createBefore(i);if(wn(e)){if(yu(e))return this.domPositionToView(e.parentNode,$h(e));const l=this.findCorrespondingViewText(e);let d=t;return l?(xr(e)&&(d-=go,d=d<0?0:d),new be(l,d)):null}if(t===0){const l=this.mapDomToView(e);if(l)return new be(l,0)}else{const l=e.childNodes[t-1];if(wn(l)&&yu(l)||l&&this.isBlockFiller(l))return this.domPositionToView(l.parentNode,$h(l));const d=wn(l)?this.findCorrespondingViewText(l):this.mapDomToView(l);if(d&&d.parent)return new be(d.parent,d.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(yu(e))return null;const t=this.getHostViewElement(e);if(t)return t;const i=e.previousSibling;if(i){if(!this.isElement(i))return null;const l=this.mapDomToView(i);if(l){const d=l.nextSibling;return d instanceof Ot?d:null}}else{const l=this.mapDomToView(e.parentNode);if(l){const d=l.getChild(0);return d instanceof Ot?d:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:i,scrollY:l}=Oe.window,d=[];MC(t,p=>{const{scrollLeft:g,scrollTop:b}=p;d.push([g,b])}),t.focus(),MC(t,p=>{const[g,b]=d.shift();p.scrollLeft=g,p.scrollTop=b}),Oe.window.scrollTo(i,l)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),i=this.domSelectionToView(t);i&&i.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(z3):!(e.tagName!=="BR"||!PC(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(U3)||function(t,i){return t.isEqualNode(F3)&&PC(t,i)&&t.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const i=t.collapsed;return t.detach(),i}getHostViewElement(e){const t=function(i){const l=[];let d=i;for(;d&&d.nodeType!=Node.DOCUMENT_NODE;)l.unshift(d),d=d.parentNode;return l}(e);for(t.pop();t.length;){const i=t.pop(),l=this._domToViewMapping.get(i);if(l&&(l.is("uiElement")||l.is("rawElement")))return l}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return CC(this._domDocument);case"markedNbsp":return AC(this._domDocument);case"br":return xC(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(wn(e)&&xr(e)&&t<go||this.isElement(e)&&xr(e.childNodes[t]))return!1;const i=this.mapDomToView(e);return!i||!i.is("uiElement")&&!i.is("rawElement")}*_domToView(e,t,i){if(this.isBlockFiller(e))return null;const l=this.getHostViewElement(e);if(l)return l;if(fu(e)&&t.skipComments)return null;if(wn(e)){if(yu(e))return null;{const d=e.data;if(d==="")return null;const p=new Ot(this.document,d);return i.push(p),p}}{let d=this.mapDomToView(e);if(d)return this._isInlineObjectElement(d)&&i.push(d),d;if(this.isDocumentFragment(e))d=new sa(this.document),t.bind&&this.bindDocumentFragments(e,d);else{d=this._createViewElement(e,t),t.bind&&this.bindElements(e,d);const g=e.attributes;if(g)for(let b=g.length,w=0;w<b;w++)d._setAttribute(g[w].name,g[w].value);if(this._isViewElementWithRawContent(d,t))return d._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(d)||i.push(d),d;if(fu(e))return d._setCustomProperty("$rawContent",e.data),d}yield d;const p=[];if(t.withChildren!==!1)for(const g of this.domChildrenToView(e,t,p))d._appendChild(g);if(this._isInlineObjectElement(d))i.push(d);else for(const g of p)i.push(g)}}_processDomInlineNodes(e,t,i){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let l=!1;for(let d=0;d<t.length;d++){const p=t[d];if(!p.is("$text")){l=!1;continue}let g,b=!1;if(V3(p,this.preElements))g=EC(p.data);else{g=p.data.replace(/[ \n\t\r]{1,}/g," "),b=/[^\S\u00A0]/.test(g.charAt(g.length-1));const w=d>0?t[d-1]:null,y=d+1<t.length?t[d+1]:null,A=!w||w.is("element")&&w.name=="br"||l,E=!y&&!xr(p.data);i.withChildren!==!1&&(A&&(g=g.replace(/^ /,"")),E&&(g=g.replace(/ $/,""))),g=EC(g),g=g.replace(/ \u00A0/g,"  ");const D=y&&y.is("element")&&y.name!="br",M=y&&y.is("$text")&&y.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(g)||!y||D||M)&&(g=g.replace(/\u00A0$/," ")),(A||w&&w.is("element")&&w.name!="br")&&(g=g.replace(/^\u00A0/," "))}g.length==0&&p.parent?(p._remove(),t.splice(d,1),d--):(p._data=g,l=b)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return t;if(t.charAt(0)==" "){const i=this._getTouchingInlineViewNode(e,!1);!(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i))&&i||(t=" "+t.substr(1))}if(t.charAt(t.length-1)==" "){const i=this._getTouchingInlineViewNode(e,!0),l=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";t.charAt(t.length-2)!=" "&&i&&!l||(t=t.substr(0,t.length-1)+" ")}return t.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const i=new oa({startPosition:t?be._createAfter(e):be._createBefore(e),direction:t?"forward":"backward"});for(const l of i){if(l.item.is("element","br"))return null;if(this._isInlineObjectElement(l.item))return l.item;if(l.item.is("containerElement"))return null;if(l.item.is("$textProxy"))return l.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if(fu(e))return new rp(this.document,"$comment");const i=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Ar(this.document,i)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const i=this._domDocument.createElement("span");if(i.setAttribute(IC,e),t){for(;t.firstChild;)i.appendChild(t.firstChild);for(const l of t.getAttributeNames())i.setAttribute(l,t.getAttribute(l))}return i}}function V3(c,e){return c.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function MC(c,e){let t=c;for(;t;)e(t),t=t.parentElement}function PC(c,e){const t=c.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function NC(c){c==="script"&&te("domconverter-unsafe-script-element-detected"),c==="style"&&te("domconverter-unsafe-style-element-detected")}class $o extends Hr(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const OC=dC(function(c,e){Lo(e,es(e),c)});class Cc{constructor(e,t,i){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,OC(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class is extends $o{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(i,l)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(l.target)&&this.onDomEvent(l)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,i){this.isEnabled&&this.document.fire(e,new Cc(this.view,t,i))}}class H3 extends is{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return wc(this)}};this.fire(e.type,e,t)}}const Bk=function(){return $e.Date.now()};var W3=/\s/;const $3=function(c){for(var e=c.length;e--&&W3.test(c.charAt(e)););return e};var Y3=/^\s+/;const q3=function(c){return c&&c.slice(0,$3(c)+1).replace(Y3,"")};var K3=/^[-+]0x[0-9a-f]+$/i,G3=/^0b[01]+$/i,Q3=/^0o[0-7]+$/i,Z3=parseInt;const BC=function(c){if(typeof c=="number")return c;if(Jh(c))return NaN;if(Ne(c)){var e=typeof c.valueOf=="function"?c.valueOf():c;c=Ne(e)?e+"":e}if(typeof c!="string")return c===0?c:+c;c=q3(c);var t=G3.test(c);return t||Q3.test(c)?Z3(c.slice(2),t?2:8):K3.test(c)?NaN:+c};var J3=Math.max,X3=Math.min;const _u=function(c,e,t){var i,l,d,p,g,b,w=0,y=!1,A=!1,E=!0;if(typeof c!="function")throw new TypeError("Expected a function");function D(J){var ie=i,ve=l;return i=l=void 0,w=J,p=c.apply(ve,ie)}function M(J){var ie=J-b;return b===void 0||ie>=e||ie<0||A&&J-w>=d}function R(){var J=Bk();if(M(J))return U(J);g=setTimeout(R,function(ie){var ve=e-(ie-b);return A?X3(ve,d-(ie-w)):ve}(J))}function U(J){return g=void 0,E&&i?D(J):(i=l=void 0,p)}function W(){var J=Bk(),ie=M(J);if(i=arguments,l=this,b=J,ie){if(g===void 0)return function(ve){return w=ve,g=setTimeout(R,e),y?D(ve):p}(b);if(A)return clearTimeout(g),g=setTimeout(R,e),D(b)}return g===void 0&&(g=setTimeout(R,e)),p}return e=BC(e)||0,Ne(t)&&(y=!!t.leading,d=(A="maxWait"in t)?J3(BC(t.maxWait)||0,e):d,E="trailing"in t?!!t.trailing:E),W.cancel=function(){g!==void 0&&clearTimeout(g),w=0,i=b=l=g=void 0},W.flush=function(){return g===void 0?p:U(Bk())},W};class e4 extends $o{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=_u(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&i.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,i=new fo(t.getRanges(),{backward:t.isBackward,fake:!1});e!=dt.arrowleft&&e!=dt.arrowup||i.setTo(i.getFirstPosition()),e!=dt.arrowright&&e!=dt.arrowdown||i.setTo(i.getLastPosition());const l={oldSelection:t,newSelection:i,domSelection:null};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}const t4=function(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this},n4=function(c){return this.__data__.has(c)};function sp(c){var e=-1,t=c==null?0:c.length;for(this.__data__=new ac;++e<t;)this.add(c[e])}sp.prototype.add=sp.prototype.push=t4,sp.prototype.has=n4;const r4=sp,o4=function(c,e){for(var t=-1,i=c==null?0:c.length;++t<i;)if(e(c[t],t,c))return!0;return!1},i4=function(c,e){return c.has(e)},RC=function(c,e,t,i,l,d){var p=1&t,g=c.length,b=e.length;if(g!=b&&!(p&&b>g))return!1;var w=d.get(c),y=d.get(e);if(w&&y)return w==e&&y==c;var A=-1,E=!0,D=2&t?new r4:void 0;for(d.set(c,e),d.set(e,c);++A<g;){var M=c[A],R=e[A];if(i)var U=p?i(R,M,A,e,c,d):i(M,R,A,c,e,d);if(U!==void 0){if(U)continue;E=!1;break}if(D){if(!o4(e,function(W,J){if(!i4(D,J)&&(M===W||l(M,W,t,i,d)))return D.push(J)})){E=!1;break}}else if(M!==R&&!l(M,R,t,i,d)){E=!1;break}}return d.delete(c),d.delete(e),E},s4=function(c){var e=-1,t=Array(c.size);return c.forEach(function(i,l){t[++e]=[l,i]}),t},a4=function(c){var e=-1,t=Array(c.size);return c.forEach(function(i){t[++e]=i}),t};var LC=Je?Je.prototype:void 0,Rk=LC?LC.valueOf:void 0;const c4=function(c,e,t,i,l,d,p){switch(t){case"[object DataView]":if(c.byteLength!=e.byteLength||c.byteOffset!=e.byteOffset)return!1;c=c.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(c.byteLength!=e.byteLength||!d(new Js(c),new Js(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Gs(+c,+e);case"[object Error]":return c.name==e.name&&c.message==e.message;case"[object RegExp]":case"[object String]":return c==e+"";case"[object Map]":var g=s4;case"[object Set]":var b=1&i;if(g||(g=a4),c.size!=e.size&&!b)return!1;var w=p.get(c);if(w)return w==e;i|=2,p.set(c,e);var y=RC(g(c),g(e),i,l,d,p);return p.delete(c),y;case"[object Symbol]":if(Rk)return Rk.call(c)==Rk.call(e)}return!1};var l4=Object.prototype.hasOwnProperty;const u4=function(c,e,t,i,l,d){var p=1&t,g=cu(c),b=g.length;if(b!=cu(e).length&&!p)return!1;for(var w=b;w--;){var y=g[w];if(!(p?y in e:l4.call(e,y)))return!1}var A=d.get(c),E=d.get(e);if(A&&E)return A==e&&E==c;var D=!0;d.set(c,e),d.set(e,c);for(var M=p;++w<b;){var R=c[y=g[w]],U=e[y];if(i)var W=p?i(U,R,y,e,c,d):i(R,U,y,c,e,d);if(!(W===void 0?R===U||l(R,U,t,i,d):W)){D=!1;break}M||(M=y=="constructor")}if(D&&!M){var J=c.constructor,ie=e.constructor;J==ie||!("constructor"in c)||!("constructor"in e)||typeof J=="function"&&J instanceof J&&typeof ie=="function"&&ie instanceof ie||(D=!1)}return d.delete(c),d.delete(e),D};var jC="[object Arguments]",zC="[object Array]",ap="[object Object]",FC=Object.prototype.hasOwnProperty;const d4=function(c,e,t,i,l,d){var p=Ln(c),g=Ln(e),b=p?zC:co(c),w=g?zC:co(e),y=(b=b==jC?ap:b)==ap,A=(w=w==jC?ap:w)==ap,E=b==w;if(E&&Xi(c)){if(!Xi(e))return!1;p=!0,y=!1}if(E&&!y)return d||(d=new Ji),p||Zs(c)?RC(c,e,t,i,l,d):c4(c,e,b,t,i,l,d);if(!(1&t)){var D=y&&FC.call(c,"__wrapped__"),M=A&&FC.call(e,"__wrapped__");if(D||M){var R=D?c.value():c,U=M?e.value():e;return d||(d=new Ji),l(R,U,t,i,d)}}return!!E&&(d||(d=new Ji),u4(c,e,t,i,l,d))},UC=function c(e,t,i,l,d){return e===t||(e==null||t==null||!kn(e)&&!kn(t)?e!=e&&t!=t:d4(e,t,i,l,c,d))},h4=function(c,e,t){var i=(t=typeof t=="function"?t:void 0)?t(c,e):void 0;return i===void 0?UC(c,e,void 0,t):!!i};class VC extends $o{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,i=new Set,l=new Set;for(const p of e){const g=t.mapDomToView(p.target);g&&(g.is("uiElement")||g.is("rawElement")||p.type!=="childList"||this._isBogusBrMutation(p)||l.add(g))}for(const p of e){const g=t.mapDomToView(p.target);if((!g||!g.is("uiElement")&&!g.is("rawElement"))&&p.type==="characterData"){const b=t.findCorrespondingViewText(p.target);b&&!l.has(b.parent)?i.add(b):!b&&xr(p.target)&&l.add(t.mapDomToView(p.target.parentNode))}}let d=!1;for(const p of i)d=!0,this.renderer.markToSync("text",p);for(const p of l){const g=t.mapViewToDom(p),b=Array.from(p.getChildren()),w=Array.from(t.domChildrenToView(g,{withChildren:!1}));h4(b,w,p4)||(d=!0,this.renderer.markToSync("children",p))}d&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function p4(c,e){if(!Array.isArray(c))return c===e||!(!c.is("$text")||!e.is("$text"))&&c.data===e.data}class cp extends is{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(i,l)=>{const d=t.selection.editableElement;d!==null&&d!==l.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class f4 extends $o{constructor(e){super(e),this.mutationObserver=e.getObserver(VC),this.focusObserver=e.getObserver(cp),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=_u(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=_u(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,i=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",i,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",i,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",i,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(l,d)=>{this.document.isComposing&&!_.isAndroid||(this._handleSelectionChange(d,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const i=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(i.anchorNode))return;this.mutationObserver.flush();const l=this.domConverter.domSelectionToView(i);if(l.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(l)||!this.domConverter.isDomSelectionCorrect(i))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(l))this.view.forceRender();else{const d={oldSelection:this.selection,newSelection:l,domSelection:i};this.document.fire("selectionChange",d),this._fireSelectionChangeDoneDebounced(d)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class g4 extends is{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class HC{constructor(e,t={}){this._files=t.cacheFiles?WC(e):null,this._native=e}get files(){return this._files||(this._files=WC(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,i){this._native.setDragImage(e,t,i)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function WC(c){const e=Array.from(c.files||[]),t=Array.from(c.items||[]);return e.length?e:t.filter(i=>i.kind==="file").map(i=>i.getAsFile())}class m4 extends is{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),i=this.view,l=i.document;let d=null,p=null,g=[];if(e.dataTransfer&&(d=new HC(e.dataTransfer)),e.data!==null?p=e.data:d&&(p=d.getData("text/plain")),l.selection.isFake)g=Array.from(l.selection.getRanges());else if(t.length)g=t.map(b=>{const w=i.domConverter.domPositionToView(b.startContainer,b.startOffset),y=i.domConverter.domPositionToView(b.endContainer,b.endOffset);return w?i.createRange(w,y):y?i.createRange(y):void 0}).filter(b=>!!b);else if(_.isAndroid){const b=e.target.ownerDocument.defaultView.getSelection();g=Array.from(i.domConverter.domSelectionToView(b).getRanges())}if(_.isAndroid&&e.inputType=="insertCompositionText"&&p&&p.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[i.createRange(g[0].end)]});else if(e.inputType=="insertText"&&p&&p.includes(`
`)){const b=p.split(/\n{1,2}/g);let w=g;for(let y=0;y<b.length;y++){const A=b[y];A!=""&&(this.fire(e.type,e,{data:A,dataTransfer:d,targetRanges:w,inputType:e.inputType,isComposing:e.isComposing}),w=[l.selection.getFirstRange()]),y+1<b.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:w}),w=[l.selection.getFirstRange()])}}else this.fire(e.type,e,{data:p,dataTransfer:d,targetRanges:g,inputType:e.inputType,isComposing:e.isComposing})}}class k4 extends $o{constructor(e){super(e),this.document.on("keydown",(t,i)=>{if(this.isEnabled&&((l=i.keyCode)==dt.arrowright||l==dt.arrowleft||l==dt.arrowup||l==dt.arrowdown)){const d=new yc(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(d,i),d.stop.called&&t.stop()}var l})}observe(){}stopObserving(){}}class b4 extends $o{constructor(e){super(e);const t=this.document;t.on("keydown",(i,l)=>{if(!this.isEnabled||l.keyCode!=dt.tab||l.ctrlKey)return;const d=new yc(t,"tab",t.selection.getFirstRange());t.fire(d,l),d.stop.called&&i.stop()})}observe(){}stopObserving(){}}const ss=function(c){return ur(c,5)};class w4 extends Ve(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new np(e),this.domConverter=new ip(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new B3(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new bC(this.document),this.addObserver(VC),this.addObserver(cp),this.addObserver(f4),this.addObserver(H3),this.addObserver(e4),this.addObserver(g4),this.addObserver(k4),this.addObserver(m4),this.addObserver(b4),this.document.on("arrowKey",N3,{priority:"low"}),D3(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),_.isiOS&&this.listenTo(this.document,"blur",(t,i)=>{this.domConverter.mapDomToView(i.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const i=this.document.getRoot(t);i._name=e.tagName.toLowerCase();const l={};for(const{name:p,value:g}of Array.from(e.attributes))l[p]=g,p==="class"?this._writer.addClass(g.split(" "),i):this._writer.setAttribute(p,g,i);this._initialDomRootAttributes.set(e,l);const d=()=>{this._writer.setAttribute("contenteditable",(!i.isReadOnly).toString(),i),i.isReadOnly?this._writer.addClass("ck-read-only",i):this._writer.removeClass("ck-read-only",i)};d(),this.domRoots.set(t,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",(p,g)=>this._renderer.markToSync("children",g)),i.on("change:attributes",(p,g)=>this._renderer.markToSync("attributes",g)),i.on("change:text",(p,g)=>this._renderer.markToSync("text",g)),i.on("change:isReadOnly",()=>this.change(d)),i.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const p of this._observers.values())p.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:l})=>t.removeAttribute(l));const i=this._initialDomRootAttributes.get(t);for(const l in i)t.setAttribute(l,i[l]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const l of this._observers.values())l.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[i,l]of this.domRoots)t.observe(l,i);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:i=20,ancestorOffset:l=20}={}){const d=this.document.selection.getFirstRange();if(!d)return;const p=ss({alignToTop:e,forceScroll:t,viewportOffset:i,ancestorOffset:l});typeof i=="number"&&(i={top:i,bottom:i,left:i,right:i});const g={target:this.domConverter.viewRangeToDom(d),viewportOffset:i,ancestorOffset:l,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",g,p),function({target:b,viewportOffset:w=0,ancestorOffset:y=0,alignToTop:A,forceScroll:E}){const D=ik(b);let M=D,R=null;for(w=function(U){return typeof U=="number"?{top:U,bottom:U,left:U,right:U}:U}(w);M;){let U;U=pO(M==D?b:R),hO({parent:U,getRect:()=>v_(b,M),alignToTop:A,ancestorOffset:y,forceScroll:E});const W=v_(b,M);if(dO({window:M,rect:W,viewportOffset:w,alignToTop:A,forceScroll:E}),M.parent!=M){if(R=M.frameElement,M=M.parent,!R)return}else M=null}}(g)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new z("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){z.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(cp).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return be._createAt(e,t)}createPositionAfter(e){return be._createAfter(e)}createPositionBefore(e){return be._createBefore(e)}createRange(e,t){return new ze(e,t)}createRangeOn(e){return ze._createOn(e)}createRangeIn(e){return ze._createIn(e)}createSelection(...e){return new fo(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class as{is(){throw new Error("is() method is abstract")}}class aa extends as{constructor(e){super(),this.parent=null,this._attrs=Ho(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new z("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new z("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),l=e.getAncestors(t);let d=0;for(;i[d]==l[d]&&i[d];)d++;return d===0?null:i[d-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),l=X(t,i);switch(l){case"prefix":return!0;case"extension":return!1;default:return t[l]<i[l]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,i)=>(t[i[0]]=i[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=Ho(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}aa.prototype.is=function(c){return c==="node"||c==="model:node"};class Cu{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((i,l)=>i+l.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new z("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const i of this._nodes){if(e>=t&&e<t+i.offsetSize)return this.getNodeIndex(i);t+=i.offsetSize}if(t!=e)throw new z("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const i of t)if(!(i instanceof aa))throw new z("model-nodelist-insertnodes-not-node",this);this._nodes=function(i,l,d,p){if(Math.max(l.length,i.length)>1e4)return i.slice(0,d).concat(l).concat(i.slice(d+p,i.length));{const g=Array.from(i);return g.splice(d,p,...l),g}}(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Bt extends aa{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Bt(this.data,this.getAttributes())}static fromJSON(e){return new Bt(e.data,e.attributes)}}Bt.prototype.is=function(c){return c==="$text"||c==="model:$text"||c==="text"||c==="model:text"||c==="node"||c==="model:node"};class mo extends as{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new z("model-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.offsetSize)throw new z("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}mo.prototype.is=function(c){return c==="$textProxy"||c==="model:$textProxy"||c==="textProxy"||c==="model:textProxy"};class Tt extends aa{constructor(e,t,i){super(t),this._children=new Cu,this.name=e,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}findAncestor(e,t={}){let i=t.includeSelf?this:this.parent;for(;i;){if(i.name===e)return i;i=i.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(i=>i._clone(!0)):void 0;return new Tt(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=function(l){return typeof l=="string"?[new Bt(l)]:(se(l)||(l=[l]),Array.from(l).map(d=>typeof d=="string"?new Bt(d):d instanceof mo?new Bt(d.data,d.getAttributes()):d))}(t);for(const l of i)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const l of i)l.parent=null;return i}static fromJSON(e){let t;if(e.children){t=[];for(const i of e.children)i.name?t.push(Tt.fromJSON(i)):t.push(Bt.fromJSON(i))}return new Tt(e.name,e.attributes,t)}}Tt.prototype.is=function(c,e){return e?e===this.name&&(c==="element"||c==="model:element"):c==="element"||c==="model:element"||c==="node"||c==="model:node"};class Yo{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new z("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new z("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=ue._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i,l,d;do l=this.position,d=this._visitedParent,{done:t,value:i}=this.next();while(!t&&e(i));t||(this._position=l,this._visitedParent=d)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const l=Au(t,i),d=l||$C(t,i,l);if(d instanceof Tt){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=d;return this._position=t,ca("elementStart",d,e,t,1)}if(d instanceof Bt){let p;if(this.singleCharacters)p=1;else{let w=d.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<w&&(w=this.boundaries.end.offset),p=w-t.offset}const g=t.offset-d.startOffset,b=new mo(d,g,p);return t.offset+=p,this._position=t,ca("text",b,e,t,p)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():ca("elementEnd",i,e,t)}_previous(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const l=t.parent,d=Au(t,l),p=d||YC(t,l,d);if(p instanceof Tt)return t.offset--,this.shallow?(this._position=t,ca("elementStart",p,e,t,1)):(t.path.push(p.maxOffset),this._position=t,this._visitedParent=p,this.ignoreElementEnd?this._previous():ca("elementEnd",p,e,t));if(p instanceof Bt){let g;if(this.singleCharacters)g=1;else{let y=p.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>y&&(y=this.boundaries.start.offset),g=t.offset-y}const b=t.offset-p.startOffset,w=new mo(p,b-g,g);return t.offset-=g,this._position=t,ca("text",w,e,t,g)}return t.path.pop(),this._position=t,this._visitedParent=i.parent,ca("elementStart",i,e,t,1)}}function ca(c,e,t,i,l){return{done:!1,value:{type:c,item:e,previousPosition:t,nextPosition:i,length:l}}}class ue extends as{constructor(e,t,i="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new z("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new z("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new z("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new z("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Au(this,this.parent)}get nodeAfter(){const e=this.parent;return $C(this,e,Au(this,e))}get nodeBefore(){const e=this.parent;return YC(this,e,Au(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=X(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new Yo(t);return i.skip(e),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=X(this.path,e.path),i=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,i)}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let l=0;for(;t[l]==i[l]&&t[l];)l++;return l===0?null:t[l-1]}getShiftedBy(e){const t=this.clone(),i=t.offset+e;return t.offset=i<0?0:i,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let i=0;i<t;i++){const l=this.path[i]-e.path[i];if(l<-1||l>1)return!1;if(l===1)return qC(e,this,i);if(l===-1)return qC(this,e,i)}return this.path.length===e.path.length||(this.path.length>e.path.length?Lk(this.path,t):Lk(e.path,t))}hasSameParentAs(e){return this.root!==e.root?!1:X(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=ue._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let i;return t.containsPosition(this)||t.start.isEqual(this)?(i=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(i=i._getTransformedByDeletion(e.deletionPosition,1))):i=this.isEqual(e.deletionPosition)?ue._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),i}_getTransformedByDeletion(e,t){const i=ue._createAt(this);if(this.root!=e.root)return i;if(X(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;i.offset-=t}}else if(X(e.getParentPath(),this.getParentPath())=="prefix"){const l=e.path.length-1;if(e.offset<=this.path[l]){if(e.offset+t>this.path[l])return null;i.path[l]-=t}}return i}_getTransformedByInsertion(e,t){const i=ue._createAt(this);if(this.root!=e.root)return i;if(X(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(i.offset+=t);else if(X(e.getParentPath(),this.getParentPath())=="prefix"){const l=e.path.length-1;e.offset<=this.path[l]&&(i.path[l]+=t)}return i}_getTransformedByMove(e,t,i){if(t=t._getTransformedByDeletion(e,i),e.isEqual(t))return ue._createAt(this);const l=this._getTransformedByDeletion(e,i);return l===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):l._getTransformedByInsertion(t,i)}_getCombined(e,t){const i=e.path.length-1,l=ue._createAt(t);return l.stickiness=this.stickiness,l.offset=l.offset+this.path[i]-e.offset,l.path=[...l.path,...this.path.slice(i+1)],l}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,i="toNone"){if(e instanceof ue)return new ue(e.root,e.path,e.stickiness);{const l=e;if(t=="end")t=l.maxOffset;else{if(t=="before")return this._createBefore(l,i);if(t=="after")return this._createAfter(l,i);if(t!==0&&!t)throw new z("model-createpositionat-offset-required",[this,e])}if(!l.is("element")&&!l.is("documentFragment"))throw new z("model-position-parent-incorrect",[this,e]);const d=l.getPath();return d.push(t),new this(l.root,d,i)}}static _createAfter(e,t){if(!e.parent)throw new z("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new z("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const i=new ue(t.graveyard,e.path);return i.stickiness=e.stickiness,i}if(!t.getRoot(e.root))throw new z("model-position-fromjson-no-root",t,{rootName:e.root});return new ue(t.getRoot(e.root),e.path,e.stickiness)}}function Au(c,e){const t=e.getChild(e.offsetToIndex(c.offset));return t&&t.is("$text")&&t.startOffset<c.offset?t:null}function $C(c,e,t){return t!==null?null:e.getChild(e.offsetToIndex(c.offset))}function YC(c,e,t){return t!==null?null:e.getChild(e.offsetToIndex(c.offset)-1)}function qC(c,e,t){return t+1!==c.path.length&&!!Lk(e.path,t+1)&&!!function(i,l){let d=i.parent,p=i.path.length-1,g=0;for(;p>=l;){if(i.path[p]+g!==d.maxOffset)return!1;g=1,p--,d=d.parent}return!0}(c,t+1)}function Lk(c,e){for(;e<c.length;){if(c[e]!==0)return!1;e++}return!0}ue.prototype.is=function(c){return c==="position"||c==="model:position"};class oe extends as{constructor(e,t){super(),this.start=ue._createAt(e),this.end=t?ue._createAt(t):ue._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Yo({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return X(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),l=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&l}containsItem(e){const t=ue._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new oe(this.start,e.start)),this.containsPosition(e.end)&&t.push(new oe(e.end,this.end))):t.push(new oe(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new oe(t,i)}return null}getJoined(e,t=!1){let i=this.isIntersecting(e);if(i||(i=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!i)return null;let l=this.start,d=this.end;return e.start.isBefore(l)&&(l=e.start),e.end.isAfter(d)&&(d=e.end),new oe(l,d)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,i=ue._createAt(this.start);let l=i.parent;for(;i.path.length>t+1;){const d=l.maxOffset-i.offset;d!==0&&e.push(new oe(i,i.getShiftedBy(d))),i.path=i.path.slice(0,-1),i.offset++,l=l.parent}for(;i.path.length<=this.end.path.length;){const d=this.end.path[i.path.length-1],p=d-i.offset;p!==0&&e.push(new oe(i,i.getShiftedBy(p))),i.offset=d,i.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Yo(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Yo(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new Yo(e);yield t.position;for(const i of t)yield i.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new oe(this.start,this.end)]}getTransformedByOperations(e){const t=[new oe(this.start,this.end)];for(const i of e)for(let l=0;l<t.length;l++){const d=t[l].getTransformedByOperation(i);t.splice(l,1,...d),l+=d.length-1}for(let i=0;i<t.length;i++){const l=t[i];for(let d=i+1;d<t.length;d++){const p=t[d];(l.containsRange(p)||p.containsRange(l)||l.isEqual(p))&&t.splice(d,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const i=e.sourcePosition,l=e.howMany,d=e.targetPosition;return this._getTransformedByMove(i,d,l,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let i=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(i=this.end.getShiftedBy(1)),t.root!=i.root&&(i=this.end.getShiftedBy(-1)),new oe(t,i)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new oe(this.start);let t=this.start._getTransformedByMergeOperation(e),i=this.end._getTransformedByMergeOperation(e);return t.root!=i.root&&(i=this.end.getShiftedBy(-1)),t.isAfter(i)?(e.sourcePosition.isBefore(e.targetPosition)?(t=ue._createAt(i),t.offset=0):(e.deletionPosition.isEqual(t)||(i=e.deletionPosition),t=e.targetPosition),new oe(t,i)):new oe(t,i)}_getTransformedByInsertion(e,t,i=!1){if(i&&this.containsPosition(e))return[new oe(this.start,e),new oe(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const l=new oe(this.start,this.end);return l.start=l.start._getTransformedByInsertion(e,t),l.end=l.end._getTransformedByInsertion(e,t),[l]}}_getTransformedByMove(e,t,i,l=!1){if(this.isCollapsed){const A=this.start._getTransformedByMove(e,t,i);return[new oe(A)]}const d=oe._createFromPositionAndShift(e,i),p=t._getTransformedByDeletion(e,i);if(this.containsPosition(t)&&!l&&(d.containsPosition(this.start)||d.containsPosition(this.end))){const A=this.start._getTransformedByMove(e,t,i),E=this.end._getTransformedByMove(e,t,i);return[new oe(A,E)]}let g;const b=this.getDifference(d);let w=null;const y=this.getIntersection(d);if(b.length==1?w=new oe(b[0].start._getTransformedByDeletion(e,i),b[0].end._getTransformedByDeletion(e,i)):b.length==2&&(w=new oe(this.start,this.end._getTransformedByDeletion(e,i))),g=w?w._getTransformedByInsertion(p,i,y!==null||l):[],y){const A=new oe(y.start._getCombined(d.start,p),y.end._getCombined(d.start,p));g.length==2?g.splice(1,0,A):g.push(A)}return g}_getTransformedByDeletion(e,t){let i=this.start._getTransformedByDeletion(e,t),l=this.end._getTransformedByDeletion(e,t);return i==null&&l==null?null:(i==null&&(i=e),l==null&&(l=e),new oe(i,l))}static _createFromPositionAndShift(e,t){const i=e,l=e.getShiftedBy(t);return t>0?new this(i,l):new this(l,i)}static _createIn(e){return new this(ue._createAt(e,0),ue._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(ue._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new z("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((d,p)=>d.start.isAfter(p.start)?1:-1);const i=e.indexOf(t),l=new this(t.start,t.end);if(i>0)for(let d=i-1;e[d].end.isEqual(l.start);d++)l.start=ue._createAt(e[d].start);for(let d=i+1;d<e.length&&e[d].start.isEqual(l.end);d++)l.end=ue._createAt(e[d].end);return l}static fromJSON(e,t){return new this(ue.fromJSON(e.start,t),ue.fromJSON(e.end,t))}}oe.prototype.is=function(c){return c==="range"||c==="model:range"};class KC extends ge(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const i=this._modelToViewMapping.get(t.modelPosition.parent);if(!i)throw new z("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(i,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const i=this.findMappedViewAncestor(t.viewPosition),l=this._viewToModelMapping.get(i),d=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,i);t.modelPosition=ue._createAt(l,d)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const i=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const l of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(l);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(i)==e&&this._modelToViewMapping.delete(i))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const i=this._markerNameToElements.get(t)||new Set;i.add(e);const l=this._elementToMarkerNames.get(e)||new Set;l.add(t),this._markerNameToElements.set(t,i),this._elementToMarkerNames.set(e,l)}unbindElementFromMarkerName(e,t){const i=this._markerNameToElements.get(t);i&&(i.delete(e),i.size==0&&this._markerNameToElements.delete(t));const l=this._elementToMarkerNames.get(e);l&&(l.delete(t),l.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new oe(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new ze(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const i={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const i=new Set;for(const l of t)if(l.is("attributeElement"))for(const d of l.getElementsWithSameId())i.add(d);else i.add(l);return i}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,i){if(i!=e)return this._toModelOffset(e.parent,e.index,i)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let l=0;for(let d=0;d<t;d++)l+=this.getModelLength(e.getChild(d));return l}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const i of e.getChildren())t+=this.getModelLength(i);return t}}findPositionIn(e,t){let i,l=0,d=0,p=0;if(e.is("$text"))return new be(e,t);for(;d<t;)i=e.getChild(p),l=this.getModelLength(i),d+=l,p++;return d==t?this._moveViewPositionToTextNode(new be(e,p)):this.findPositionIn(i,t-(d-l))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,i=e.nodeAfter;return t instanceof Ot?new be(t,t.data.length):i instanceof Ot?new be(i,0):e}}class v4{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=lp(t),e instanceof mo&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=lp(t),e instanceof mo&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=lp(t),e instanceof mo&&(e=this._getSymbolForTextProxy(e));const i=this._consumable.get(e);if(i===void 0)return null;const l=i.get(t);return l===void 0?null:l}revert(e,t){t=lp(t),e instanceof mo&&(e=this._getSymbolForTextProxy(e));const i=this.test(e,t);return i===!1?(this._consumable.get(e).set(t,!0),!0):i!==!0&&null}verifyAllConsumed(e){const t=[];for(const[i,l]of this._consumable)for(const[d,p]of l){const g=d.split(":")[0];p&&e==g&&t.push({event:d,item:i.name||i.description})}if(t.length)throw new z("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const i=this._textProxyRegistry.get(e.startOffset);if(i){const l=i.get(e.endOffset);l&&(t=l.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,i=e.endOffset,l=e.parent,d=Symbol("$textProxy:"+e.data);let p,g;return p=this._textProxyRegistry.get(t),p||(p=new Map,this._textProxyRegistry.set(t,p)),g=p.get(i),g||(g=new Map,p.set(i,g)),g.set(l,d),d}}function lp(c){const e=c.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?c:e.length>1?e[0]+":"+e[1]:e[0]}var y4=Object.defineProperty,_4=Object.defineProperties,C4=Object.getOwnPropertyDescriptors,GC=Object.getOwnPropertySymbols,A4=Object.prototype.hasOwnProperty,x4=Object.prototype.propertyIsEnumerable,QC=(c,e,t)=>e in c?y4(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,jk=(c,e)=>{for(var t in e||(e={}))A4.call(e,t)&&QC(c,t,e[t]);if(GC)for(var t of GC(e))x4.call(e,t)&&QC(c,t,e[t]);return c},ZC=(c,e)=>_4(c,C4(e));class JC extends ge(){constructor(e){super(),this._conversionApi=jk({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,t,i){const l=this._createConversionApi(i,e.getRefreshedItems());for(const p of e.getMarkersToRemove())this._convertMarkerRemove(p.name,p.range,l);const d=this._reduceChanges(e.getChanges());for(const p of d)p.type==="insert"?this._convertInsert(oe._createFromPositionAndShift(p.position,p.length),l):p.type==="reinsert"?this._convertReinsert(oe._createFromPositionAndShift(p.position,p.length),l):p.type==="remove"?this._convertRemove(p.position,p.length,p.name,l):this._convertAttribute(p.range,p.attributeKey,p.attributeOldValue,p.attributeNewValue,l);for(const p of l.mapper.flushUnboundMarkerNames()){const g=t.get(p).getRange();this._convertMarkerRemove(p,g,l),this._convertMarkerAdd(p,g,l)}for(const p of e.getMarkersToAdd())this._convertMarkerAdd(p.name,p.range,l);l.mapper.flushDeferredBindings(),l.consumable.verifyAllConsumed("insert")}convert(e,t,i,l={}){const d=this._createConversionApi(i,void 0,l);this._convertInsert(e,d);for(const[p,g]of t)this._convertMarkerAdd(p,g,d);d.consumable.verifyAllConsumed("insert")}convertSelection(e,t,i){const l=this._createConversionApi(i);this.fire("cleanSelection",{selection:e},l);const d=e.getFirstPosition().root;if(!l.mapper.toViewElement(d))return;const p=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(l.consumable,e,p),this.fire("selection",{selection:e},l),e.isCollapsed){for(const g of p)if(l.consumable.test(e,"addMarker:"+g.name)){const b=g.getRange();if(!E4(e.getFirstPosition(),g,l.mapper))continue;const w={item:e,markerName:g.name,markerRange:b};this.fire(`addMarker:${g.name}`,w,l)}for(const g of e.getAttributeKeys())if(l.consumable.test(e,"attribute:"+g)){const b={item:e,range:e.getFirstRange(),attributeKey:g,attributeOldValue:null,attributeNewValue:e.getAttribute(g)};this.fire(`attribute:${g}:$text`,b,l)}}}_convertInsert(e,t,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,Array.from(e));for(const l of Array.from(e.getWalker({shallow:!0})).map(XC))this._testAndFire("insert",l,t)}_convertRemove(e,t,i,l){this.fire(`remove:${i}`,{position:e,length:t},l)}_convertAttribute(e,t,i,l,d){this._addConsumablesForRange(d.consumable,e,`attribute:${t}`);for(const p of e){const g={item:p.item,range:oe._createFromPositionAndShift(p.previousPosition,p.length),attributeKey:t,attributeOldValue:i,attributeNewValue:l};this._testAndFire(`attribute:${t}`,g,d)}}_convertReinsert(e,t){const i=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,i);for(const l of i.map(XC))this._testAndFire("insert",ZC(jk({},l),{reconversion:!0}),t)}_convertMarkerAdd(e,t,i){if(t.root.rootName=="$graveyard")return;const l=`addMarker:${e}`;if(i.consumable.add(t,l),this.fire(l,{markerName:e,markerRange:t},i),i.consumable.consume(t,l)){this._addConsumablesForRange(i.consumable,t,l);for(const d of t.getItems()){if(!i.consumable.test(d,l))continue;const p={item:d,range:oe._createOn(d),markerName:e,markerRange:t};this.fire(l,p,i)}}}_convertMarkerRemove(e,t,i){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},i)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const i of t){const l=i.item;if(e.test(l,"insert")===null){e.add(l,"insert");for(const d of l.getAttributeKeys())e.add(l,"attribute:"+d)}}return e}_addConsumablesForRange(e,t,i){for(const l of t.getItems())e.add(l,i);return e}_addConsumablesForSelection(e,t,i){e.add(t,"selection");for(const l of i)e.add(t,"addMarker:"+l.name);for(const l of t.getAttributeKeys())e.add(t,"attribute:"+l);return e}_testAndFire(e,t,i){const l=function(b,w){const y=w.item.is("element")?w.item.name:"$text";return`${b}:${y}`}(e,t),d=t.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(t.item):t.item,p=this._firedEventsMap.get(i),g=p.get(d);if(g){if(g.has(l))return;g.add(l)}else p.set(d,new Set([l]));this.fire(l,t,i)}_testAndFireAddAttributes(e,t){const i={item:e,range:oe._createOn(e)};for(const l of i.item.getAttributeKeys())i.attributeKey=l,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(l),this._testAndFire(`attribute:${l}`,i,t)}_createConversionApi(e,t=new Set,i={}){const l=ZC(jk({},this._conversionApi),{consumable:new v4,writer:e,options:i,convertItem:d=>this._convertInsert(oe._createOn(d),l),convertChildren:d=>this._convertInsert(oe._createIn(d),l,{doNotAddConsumables:!0}),convertAttributes:d=>this._testAndFireAddAttributes(d,l),canReuseView:d=>!t.has(l.mapper.toModelElement(d))});return this._firedEventsMap.set(l,new Map),l}}function E4(c,e,t){const i=e.getRange(),l=Array.from(c.getAncestors());return l.shift(),l.reverse(),!l.some(d=>{if(i.containsItem(d))return!!t.toViewElement(d).getCustomProperty("addHighlight")})}function XC(c){return{item:c.item,range:oe._createFromPositionAndShift(c.previousPosition,c.length)}}class Er extends ge(as){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const l of e._ranges)if(t.isEqual(l)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new oe(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new oe(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new oe(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,i,l]=e;if(typeof i=="object"&&(l=i,i=void 0),t===null)this._setRanges([]);else if(t instanceof Er)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof oe)this._setRanges([t],!!l&&!!l.backward);else if(t instanceof ue)this._setRanges([new oe(t)]);else if(t instanceof aa){const d=!!l&&!!l.backward;let p;if(i=="in")p=oe._createIn(t);else if(i=="on")p=oe._createOn(t);else{if(i===void 0)throw new z("model-selection-setto-required-second-parameter",[this,t]);p=new oe(ue._createAt(t,i))}this._setRanges([p],d)}else{if(!se(t))throw new z("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,l&&!!l.backward)}}_setRanges(e,t=!1){const i=Array.from(e),l=i.some(d=>{if(!(d instanceof oe))throw new z("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(p=>!p.isEqual(d))});(i.length!==this._ranges.length||l)&&(this._replaceAllRanges(i),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new z("model-selection-setfocus-no-ranges",[this,e]);const i=ue._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.length&&this._popRange(),i.compareWith(l)=="before"?(this._pushRange(new oe(i,l)),this._lastRangeBackward=!0):(this._pushRange(new oe(l,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const i=tA(t.start,e);D4(i,t)&&(yield i);for(const d of t.getWalker()){const p=d.item;d.type=="elementEnd"&&S4(p,e,t)&&(yield p)}const l=tA(t.end,e);T4(l,t)&&(yield l)}}containsEntireContent(e=this.anchor.root){const t=ue._createAt(e,0),i=ue._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new oe(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new z("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function eA(c,e){return!e.has(c)&&(e.add(c),c.root.document.model.schema.isBlock(c)&&!!c.parent)}function S4(c,e,t){return eA(c,e)&&zk(c,t)}function tA(c,e){const t=c.parent.root.document.model.schema,i=c.parent.getAncestors({parentFirst:!0,includeSelf:!0});let l=!1;const d=i.find(p=>!l&&(l=t.isLimit(p),!l&&eA(p,e)));return i.forEach(p=>e.add(p)),d}function zk(c,e){const t=function(i){const l=i.root.document.model.schema;let d=i.parent;for(;d;){if(l.isBlock(d))return d;d=d.parent}}(c);return t?!e.containsRange(oe._createOn(t),!0):!0}function D4(c,e){return!!c&&(!(!e.isCollapsed&&!c.isEmpty)||!e.start.isTouching(ue._createAt(c,c.maxOffset))&&zk(c,e))}function T4(c,e){return!!c&&(!(!e.isCollapsed&&!c.isEmpty)||!e.end.isTouching(ue._createAt(c,0))&&zk(c,e))}Er.prototype.is=function(c){return c==="selection"||c==="model:selection"};class Sr extends ge(oe){constructor(e,t){super(e,t),I4.call(this)}detach(){this.stopListening()}toRange(){return new oe(this.start,this.end)}static fromRange(e){return new Sr(e.start,e.end)}}function I4(){this.listenTo(this.root.document.model,"applyOperation",(c,e)=>{const t=e[0];t.isDocumentOperation&&M4.call(this,t)},{priority:"low"})}function M4(c){const e=this.getTransformedByOperation(c),t=oe._createFromRanges(e),i=!t.isEqual(this),l=function(p,g){switch(g.type){case"insert":return p.containsPosition(g.position);case"move":case"remove":case"reinsert":case"merge":return p.containsPosition(g.sourcePosition)||p.start.isEqual(g.sourcePosition)||p.containsPosition(g.targetPosition);case"split":return p.containsPosition(g.splitPosition)||p.containsPosition(g.insertionPosition)}return!1}(this,c);let d=null;if(i){t.root.rootName=="$graveyard"&&(d=c.type=="remove"?c.sourcePosition:c.deletionPosition);const p=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",p,{deletionPosition:d})}else l&&this.fire("change:content",this.toRange(),{deletionPosition:d})}Sr.prototype.is=function(c){return c==="liveRange"||c==="model:liveRange"||c=="range"||c==="model:range"};const up="selection:";class ko extends ge(as){constructor(e){super(),this._selection=new P4(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return up+e}static _isStoreAttributeKey(e){return e.startsWith(up)}}ko.prototype.is=function(c){return c==="selection"||c=="model:selection"||c=="documentSelection"||c=="model:documentSelection"};class P4 extends Er{constructor(e){super(),this.markers=new lo({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,i)=>{const l=i[0];l.isDocumentOperation&&l.type!="marker"&&l.type!="rename"&&l.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,i,l,d)=>{this._updateMarker(i,d)}),this.listenTo(this._document,"change",(t,i)=>{(function(l,d){const p=l.document.differ;for(const g of p.getChanges()){if(g.type!="insert")continue;const b=g.position.parent;g.length===b.maxOffset&&l.enqueueChange(d,w=>{const y=Array.from(b.getAttributeKeys()).filter(A=>A.startsWith(up));for(const A of y)w.removeAttribute(A,b)})}})(this._model,i)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=V();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new z("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new z("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=Sr.fromRange(e);return t.on("change:range",(i,l,d)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=d.deletionPosition;const p=this._ranges.indexOf(t);this._ranges.splice(p,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const l of this._model.markers){const d=l.name.split(":",1)[0];if(!this._observedMarkers.has(d))continue;const p=l.getRange();for(const g of this.getRanges())p.containsRange(g,!g.isCollapsed)&&e.push(l)}const i=Array.from(this.markers);for(const l of e)this.markers.has(l)||(this.markers.add(l),t=!0);for(const l of Array.from(this.markers))e.includes(l)||(this.markers.remove(l),t=!0);t&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(e,t){const i=e.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let l=!1;const d=Array.from(this.markers),p=this.markers.has(e);if(t){let g=!1;for(const b of this.getRanges())if(t.containsRange(b,!b.isCollapsed)){g=!0;break}g&&!p?(this.markers.add(e),l=!0):!g&&p&&(this.markers.remove(e),l=!0)}else p&&(this.markers.remove(e),l=!0);l&&this.fire("change:marker",{oldMarkers:d,directChange:!1})}_updateAttributes(e){const t=Ho(this._getSurroundingAttributes()),i=Ho(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[d,p]of this._attributePriority)p=="low"&&(this._attrs.delete(d),this._attributePriority.delete(d));this._setAttributesTo(t);const l=[];for(const[d,p]of this.getAttributes())i.has(d)&&i.get(d)===p||l.push(d);for(const[d]of i)this.hasAttribute(d)||l.push(d);l.length>0&&this.fire("change:attribute",{attributeKeys:l,directChange:!1})}_setAttribute(e,t,i=!0){const l=i?"normal":"low";return l=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,l),!0)}_removeAttribute(e,t=!0){const i=t?"normal":"low";return(i!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,i),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[i,l]of this.getAttributes())e.get(i)!==l&&this._removeAttribute(i,!1);for(const[i,l]of e)this._setAttribute(i,l,!1)&&t.add(i);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(up)&&(yield[t.substr(10),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let i=null;if(this.isCollapsed){const l=e.textNode?e.textNode:e.nodeBefore,d=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(i=xu(l,t)),i||(i=xu(d,t)),!this.isGravityOverridden&&!i){let p=l;for(;p&&!i;)p=p.previousSibling,i=xu(p,t)}if(!i){let p=d;for(;p&&!i;)p=p.nextSibling,i=xu(p,t)}i||(i=this.getStoredAttributes())}else{const l=this.getFirstRange();for(const d of l){if(d.item.is("element")&&t.isObject(d.item)){i=xu(d.item,t);break}if(d.type=="text"){i=d.item.getAttributes();break}}}return i}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function xu(c,e){if(!c)return null;if(c instanceof mo||c instanceof Bt)return c.getAttributes();if(!e.isInline(c))return null;if(!e.isObject(c))return[];const t=[];for(const[i,l]of c.getAttributes())e.checkAttribute("$text",i)&&e.getAttributeProperties(i).copyFromObject!==!1&&t.push([i,l]);return t}class nA{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class N4 extends nA{elementToElement(e){return this.add(function(t){const i=iA(t.model),l=Eu(t.view,"container");return i.attributes.length&&(i.children=!0),d=>{d.on(`insert:${i.name}`,function(p,g=B4){return(b,w,y)=>{if(!g(w.item,y.consumable,{preflight:!0}))return;const A=p(w.item,y,w);if(!A)return;g(w.item,y.consumable);const E=y.mapper.toViewPosition(w.range.start);y.mapper.bindElements(w.item,A),y.writer.insert(E,A),y.convertAttributes(w.item),uA(A,w.item.getChildren(),y,{reconversion:w.reconversion})}}(l,lA(i)),{priority:t.converterPriority||"normal"}),(i.children||i.attributes.length)&&d.on("reduceChanges",cA(i),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const i=iA(t.model),l=Eu(t.view,"container");return i.children=!0,d=>{if(d._conversionApi.schema.checkChild(i.name,"$text"))throw new z("conversion-element-to-structure-disallowed-text",d,{elementName:i.name});var p,g;d.on(`insert:${i.name}`,(p=l,g=lA(i),(b,w,y)=>{if(!g(w.item,y.consumable,{preflight:!0}))return;const A=new Map;y.writer._registerSlotFactory(function(M,R,U){return(W,J)=>{const ie=W.createContainerElement("$slot");let ve=null;if(J==="children")ve=Array.from(M.getChildren());else{if(typeof J!="function")throw new z("conversion-slot-mode-unknown",U.dispatcher,{modeOrFilter:J});ve=Array.from(M.getChildren()).filter(Be=>J(Be))}return R.set(ie,ve),ie}}(w.item,A,y));const E=p(w.item,y,w);if(y.writer._clearSlotFactory(),!E)return;(function(M,R,U){const W=Array.from(R.values()).flat(),J=new Set(W);if(J.size!=W.length)throw new z("conversion-slot-filter-overlap",U.dispatcher,{element:M});if(J.size!=M.childCount)throw new z("conversion-slot-filter-incomplete",U.dispatcher,{element:M})})(w.item,A,y),g(w.item,y.consumable);const D=y.mapper.toViewPosition(w.range.start);y.mapper.bindElements(w.item,E),y.writer.insert(D,E),y.convertAttributes(w.item),function(M,R,U,W){U.mapper.on("modelToViewPosition",ve,{priority:"highest"});let J=null,ie=null;for([J,ie]of R)uA(M,ie,U,W),U.writer.move(U.writer.createRangeIn(J),U.writer.createPositionBefore(J)),U.writer.remove(J);function ve(Be,Ct){const at=Ct.modelPosition.nodeAfter,rn=ie.indexOf(at);rn<0||(Ct.viewPosition=Ct.mapper.findPositionIn(J,rn))}U.mapper.off("modelToViewPosition",ve)}(E,A,y,{reconversion:w.reconversion})}),{priority:t.converterPriority||"normal"}),d.on("reduceChanges",cA(i),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){t=ss(t);let i=t.model;typeof i=="string"&&(i={key:i});let l=`attribute:${i.key}`;if(i.name&&(l+=":"+i.name),i.values)for(const p of i.values)t.view[p]=Eu(t.view[p],"attribute");else t.view=Eu(t.view,"attribute");const d=sA(t);return p=>{p.on(l,function(g){return(b,w,y)=>{if(!y.consumable.test(w.item,b.name))return;const A=g(w.attributeOldValue,y,w),E=g(w.attributeNewValue,y,w);if(!A&&!E)return;y.consumable.consume(w.item,b.name);const D=y.writer,M=D.document.selection;if(w.item instanceof Er||w.item instanceof ko)D.wrap(M.getFirstRange(),E);else{let R=y.mapper.toViewRange(w.range);w.attributeOldValue!==null&&A&&(R=D.unwrap(R,A)),w.attributeNewValue!==null&&E&&D.wrap(R,E)}}}(d),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=ss(t);let i=t.model;typeof i=="string"&&(i={key:i});let l=`attribute:${i.key}`;if(i.name&&(l+=":"+i.name),i.values)for(const p of i.values)t.view[p]=aA(t.view[p]);else t.view=aA(t.view);const d=sA(t);return p=>{var g;p.on(l,(g=d,(b,w,y)=>{if(!y.consumable.test(w.item,b.name))return;const A=g(w.attributeOldValue,y,w),E=g(w.attributeNewValue,y,w);if(!A&&!E)return;y.consumable.consume(w.item,b.name);const D=y.mapper.toViewElement(w.item),M=y.writer;if(!D)throw new z("conversion-attribute-to-attribute-on-text",y.dispatcher,w);if(w.attributeOldValue!==null&&A)if(A.key=="class"){const R=Sn(A.value);for(const U of R)M.removeClass(U,D)}else if(A.key=="style"){const R=Object.keys(A.value);for(const U of R)M.removeStyle(U,D)}else M.removeAttribute(A.key,D);if(w.attributeNewValue!==null&&E)if(E.key=="class"){const R=Sn(E.value);for(const U of R)M.addClass(U,D)}else if(E.key=="style"){const R=Object.keys(E.value);for(const U of R)M.setStyle(U,E.value[U],D)}else M.setAttribute(E.key,E.value,D)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const i=Eu(t.view,"ui");return l=>{var d;l.on(`addMarker:${t.model}`,(d=i,(p,g,b)=>{g.isOpening=!0;const w=d(g,b);g.isOpening=!1;const y=d(g,b);if(!w||!y)return;const A=g.markerRange;if(A.isCollapsed&&!b.consumable.consume(A,p.name))return;for(const M of A)if(!b.consumable.consume(M.item,p.name))return;const E=b.mapper,D=b.writer;D.insert(E.toViewPosition(A.start),w),b.mapper.bindElementToMarker(w,g.markerName),A.isCollapsed||(D.insert(E.toViewPosition(A.end),y),b.mapper.bindElementToMarker(y,g.markerName)),p.stop()}),{priority:t.converterPriority||"normal"}),l.on(`removeMarker:${t.model}`,(p,g,b)=>{const w=b.mapper.markerNameToElements(g.markerName);if(w){for(const y of w)b.mapper.unbindElementFromMarkerName(y,g.markerName),b.writer.clear(b.writer.createRangeOn(y),y);b.writer.clearClonedElementsGroup(g.markerName),p.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return i=>{var l;i.on(`addMarker:${t.model}`,(l=t.view,(d,p,g)=>{if(!p.item||!(p.item instanceof Er||p.item instanceof ko||p.item.is("$textProxy")))return;const b=Fk(l,p,g);if(!b||!g.consumable.consume(p.item,d.name))return;const w=g.writer,y=rA(w,b),A=w.document.selection;if(p.item instanceof Er||p.item instanceof ko)w.wrap(A.getFirstRange(),y);else{const E=g.mapper.toViewRange(p.range),D=w.wrap(E,y);for(const M of D.getItems())if(M.is("attributeElement")&&M.isSimilar(y)){g.mapper.bindElementToMarker(M,p.markerName);break}}}),{priority:t.converterPriority||"normal"}),i.on(`addMarker:${t.model}`,function(d){return(p,g,b)=>{if(!g.item||!(g.item instanceof Tt))return;const w=Fk(d,g,b);if(!w||!b.consumable.test(g.item,p.name))return;const y=b.mapper.toViewElement(g.item);if(y&&y.getCustomProperty("addHighlight")){b.consumable.consume(g.item,p.name);for(const A of oe._createIn(g.item))b.consumable.consume(A.item,p.name);y.getCustomProperty("addHighlight")(y,w,b.writer),b.mapper.bindElementToMarker(y,g.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),i.on(`removeMarker:${t.model}`,function(d){return(p,g,b)=>{if(g.markerRange.isCollapsed)return;const w=Fk(d,g,b);if(!w)return;const y=rA(b.writer,w),A=b.mapper.markerNameToElements(g.markerName);if(A){for(const E of A)b.mapper.unbindElementFromMarkerName(E,g.markerName),E.is("attributeElement")?b.writer.unwrap(b.writer.createRangeOn(E),y):E.getCustomProperty("removeHighlight")(E,w.id,b.writer);b.writer.clearClonedElementsGroup(g.markerName),p.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){t=ss(t);const i=t.model;let l=t.view;return l||(l=d=>({group:i,name:d.substr(t.model.length+1)})),d=>{var p;d.on(`addMarker:${i}`,(p=l,(g,b,w)=>{const y=p(b.markerName,w);if(!y)return;const A=b.markerRange;w.consumable.consume(A,g.name)&&(oA(A,!1,w,b,y),oA(A,!0,w,b,y),g.stop())}),{priority:t.converterPriority||"normal"}),d.on(`removeMarker:${i}`,function(g){return(b,w,y)=>{const A=g(w.markerName,y);if(!A)return;const E=y.mapper.markerNameToElements(w.markerName);if(E){for(const M of E)y.mapper.unbindElementFromMarkerName(M,w.markerName),M.is("containerElement")?(D(`data-${A.group}-start-before`,M),D(`data-${A.group}-start-after`,M),D(`data-${A.group}-end-before`,M),D(`data-${A.group}-end-after`,M)):y.writer.clear(y.writer.createRangeOn(M),M);y.writer.clearClonedElementsGroup(w.markerName),b.stop()}function D(M,R){if(R.hasAttribute(M)){const U=new Set(R.getAttribute(M).split(","));U.delete(A.name),U.size==0?y.writer.removeAttribute(M,R):y.writer.setAttribute(M,Array.from(U).join(","),R)}}}}(l),{priority:t.converterPriority||"normal"})}}(e))}}function rA(c,e){const t=c.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function oA(c,e,t,i,l){const d=e?c.start:c.end,p=d.nodeAfter&&d.nodeAfter.is("element")?d.nodeAfter:null,g=d.nodeBefore&&d.nodeBefore.is("element")?d.nodeBefore:null;if(p||g){let b,w;e&&p||!e&&!g?(b=p,w=!0):(b=g,w=!1);const y=t.mapper.toViewElement(b);if(y)return void function(A,E,D,M,R,U){const W=`data-${U.group}-${E?"start":"end"}-${D?"before":"after"}`,J=A.hasAttribute(W)?A.getAttribute(W).split(","):[];J.unshift(U.name),M.writer.setAttribute(W,J.join(","),A),M.mapper.bindElementToMarker(A,R.markerName)}(y,e,w,t,i,l)}(function(b,w,y,A,E){const D=`${E.group}-${w?"start":"end"}`,M=E.name?{name:E.name}:null,R=y.writer.createUIElement(D,M);y.writer.insert(b,R),y.mapper.bindElementToMarker(R,A.markerName)})(t.mapper.toViewPosition(d),e,t,i,l)}function iA(c){return typeof c=="string"&&(c={name:c}),c.attributes?Array.isArray(c.attributes)||(c.attributes=[c.attributes]):c.attributes=[],c.children=!!c.children,c}function Eu(c,e){return typeof c=="function"?c:(t,i)=>function(l,d,p){typeof l=="string"&&(l={name:l});let g;const b=d.writer,w=Object.assign({},l.attributes);if(p=="container")g=b.createContainerElement(l.name,w);else if(p=="attribute"){const y={priority:l.priority||ia.DEFAULT_PRIORITY};g=b.createAttributeElement(l.name,w,y)}else g=b.createUIElement(l.name,w);if(l.styles){const y=Object.keys(l.styles);for(const A of y)b.setStyle(A,l.styles[A],g)}if(l.classes){const y=l.classes;if(typeof y=="string")b.addClass(y,g);else for(const A of y)b.addClass(A,g)}return g}(c,i,e)}function sA(c){return c.model.values?(e,t,i)=>{const l=c.view[e];return l?l(e,t,i):null}:c.view}function aA(c){return typeof c=="string"?e=>({key:c,value:e}):typeof c=="object"?c.value?()=>c:e=>({key:c.key,value:e}):c}function Fk(c,e,t){const i=typeof c=="function"?c(e,t):c;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}function cA(c){const e=function(t){return(i,l)=>{if(!i.is("element",t.name))return!1;if(l.type=="attribute"){if(t.attributes.includes(l.attributeKey))return!0}else if(t.children)return!0;return!1}}(c);return(t,i)=>{const l=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const d of i.changes){const p=d.type=="attribute"?d.range.start.nodeAfter:d.position.parent;if(p&&e(p,d)){if(!i.reconvertedElements.has(p)){i.reconvertedElements.add(p);const g=ue._createBefore(p);let b=l.length;for(let w=l.length-1;w>=0;w--){const y=l[w],A=(y.type=="attribute"?y.range.start:y.position).compareWith(g);if(A=="before"||y.type=="remove"&&A=="same")break;b=w}l.splice(b,0,{type:"remove",name:p.name,position:g,length:1},{type:"reinsert",name:p.name,position:g,length:1})}}else l.push(d)}i.changes=l}}function lA(c){return(e,t,i={})=>{const l=["insert"];for(const d of c.attributes)e.hasAttribute(d)&&l.push(`attribute:${d}`);return!!l.every(d=>t.test(e,d))&&(i.preflight||l.forEach(d=>t.consume(e,d)),!0)}}function uA(c,e,t,i){for(const l of e)O4(c.root,l,t,i)||t.convertItem(l)}function O4(c,e,t,i){const{writer:l,mapper:d}=t;if(!i.reconversion)return!1;const p=d.toViewElement(e);return!(!p||p.root==c)&&!!t.canReuseView(p)&&(l.move(l.createRangeOn(p),d.toViewPosition(ue._createBefore(e))),!0)}function B4(c,e,{preflight:t}={}){return t?e.test(c,"insert"):e.consume(c,"insert")}function dA(c){const{schema:e,document:t}=c.model;for(const i of t.getRoots())if(i.isEmpty&&!e.checkChild(i,"$text")&&e.checkChild(i,"paragraph"))return c.insertElement("paragraph",i),!0;return!1}function hA(c,e,t){const i=t.createContext(c);return!!t.checkChild(i,"paragraph")&&!!t.checkChild(i.push("paragraph"),e)}function pA(c,e){const t=e.createElement("paragraph");return e.insert(t,c),e.createPositionAt(t,0)}var R4=Object.defineProperty,L4=Object.defineProperties,j4=Object.getOwnPropertyDescriptors,fA=Object.getOwnPropertySymbols,z4=Object.prototype.hasOwnProperty,F4=Object.prototype.propertyIsEnumerable,gA=(c,e,t)=>e in c?R4(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;class U4 extends nA{elementToElement(e){return this.add(mA(e))}elementToAttribute(e){return this.add(function(t){t=ss(t),kA(t);const i=bA(t,!1),l=Uk(t.view),d=l?`element:${l}`:"element";return p=>{p.on(d,i,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=ss(t);let i=null;(typeof t.view=="string"||t.view.key)&&(i=function(d){typeof d.view=="string"&&(d.view={key:d.view});const p=d.view.key;let g;return p=="class"||p=="style"?g={[p=="class"?"classes":"styles"]:d.view.value}:g={attributes:{[p]:d.view.value===void 0?/[\s\S]*/:d.view.value}},d.view.name&&(g.name=d.view.name),d.view=g,p}(t)),kA(t,i);const l=bA(t,!0);return d=>{d.on("element",l,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const i=function(p){return(g,b)=>{const w=typeof p=="string"?p:p(g,b);return b.writer.createElement("$marker",{"data-name":w})}}(t.model);return mA((l=((p,g)=>{for(var b in g||(g={}))z4.call(g,b)&&gA(p,b,g[b]);if(fA)for(var b of fA(g))F4.call(g,b)&&gA(p,b,g[b]);return p})({},t),d={model:i},L4(l,j4(d))));var l,d}(e))}dataToMarker(e){return this.add(function(t){t=ss(t),t.model||(t.model=p=>p?t.view+":"+p:t.view);const i={view:t.view,model:t.model},l=Vk(wA(i,"start")),d=Vk(wA(i,"end"));return p=>{p.on(`element:${t.view}-start`,l,{priority:t.converterPriority||"normal"}),p.on(`element:${t.view}-end`,d,{priority:t.converterPriority||"normal"});const g=K.low,b=K.highest,w=K.get(t.converterPriority)/b;p.on("element",function(y){return(A,E,D)=>{const M=`data-${y.view}`;function R(U,W){for(const J of W){const ie=y.model(J,D),ve=D.writer.createElement("$marker",{"data-name":ie});D.writer.insert(ve,U),E.modelCursor.isEqual(U)?E.modelCursor=E.modelCursor.getShiftedBy(1):E.modelCursor=E.modelCursor._getTransformedByInsertion(U,1),E.modelRange=E.modelRange._getTransformedByInsertion(U,1)[0]}}(D.consumable.test(E.viewItem,{attributes:M+"-end-after"})||D.consumable.test(E.viewItem,{attributes:M+"-start-after"})||D.consumable.test(E.viewItem,{attributes:M+"-end-before"})||D.consumable.test(E.viewItem,{attributes:M+"-start-before"}))&&(E.modelRange||Object.assign(E,D.convertChildren(E.viewItem,E.modelCursor)),D.consumable.consume(E.viewItem,{attributes:M+"-end-after"})&&R(E.modelRange.end,E.viewItem.getAttribute(M+"-end-after").split(",")),D.consumable.consume(E.viewItem,{attributes:M+"-start-after"})&&R(E.modelRange.end,E.viewItem.getAttribute(M+"-start-after").split(",")),D.consumable.consume(E.viewItem,{attributes:M+"-end-before"})&&R(E.modelRange.start,E.viewItem.getAttribute(M+"-end-before").split(",")),D.consumable.consume(E.viewItem,{attributes:M+"-start-before"})&&R(E.modelRange.start,E.viewItem.getAttribute(M+"-start-before").split(",")))}}(i),{priority:g+w})}}(e))}}function mA(c){const e=Vk(c=ss(c)),t=Uk(c.view),i=t?`element:${t}`:"element";return l=>{l.on(i,e,{priority:c.converterPriority||"normal"})}}function Uk(c){return typeof c=="string"?c:typeof c=="object"&&typeof c.name=="string"?c.name:null}function Vk(c){const e=new po(c.view);return(t,i,l)=>{const d=e.match(i.viewItem);if(!d)return;const p=d.match;if(p.name=!0,!l.consumable.test(i.viewItem,p))return;const g=function(b,w,y){return b instanceof Function?b(w,y):y.writer.createElement(b)}(c.model,i.viewItem,l);g&&l.safeInsert(g,i.modelCursor)&&(l.consumable.consume(i.viewItem,p),l.convertChildren(i.viewItem,g),l.updateConversionResult(g,i))}}function kA(c,e=null){const t=e===null||(d=>d.getAttribute(e)),i=typeof c.model!="object"?c.model:c.model.key,l=typeof c.model!="object"||c.model.value===void 0?t:c.model.value;c.model={key:i,value:l}}function bA(c,e){const t=new po(c.view);return(i,l,d)=>{if(!l.modelRange&&e)return;const p=t.match(l.viewItem);if(!p||(function(y,A){const E=typeof y=="function"?y(A):y;return typeof E=="object"&&!Uk(E)?!1:!E.classes&&!E.attributes&&!E.styles}(c.view,l.viewItem)?p.match.name=!0:delete p.match.name,!d.consumable.test(l.viewItem,p.match)))return;const g=c.model.key,b=typeof c.model.value=="function"?c.model.value(l.viewItem,d):c.model.value;if(b===null)return;l.modelRange||Object.assign(l,d.convertChildren(l.viewItem,l.modelCursor)),function(y,A,E,D){let M=!1;for(const R of Array.from(y.getItems({shallow:E})))D.schema.checkAttribute(R,A.key)&&(M=!0,R.hasAttribute(A.key)||D.writer.setAttribute(A.key,A.value,R));return M}(l.modelRange,{key:g,value:b},e,d)&&(d.consumable.test(l.viewItem,{name:!0})&&(p.match.name=!0),d.consumable.consume(l.viewItem,p.match))}}function wA(c,e){return{view:`${c.view}-${e}`,model:(t,i)=>{const l=t.getAttribute("name"),d=c.model(l,i);return i.writer.createElement("$marker",{"data-name":d})}}}function V4(c){c.document.registerPostFixer(e=>function(t,i){const l=i.document.selection,d=i.schema,p=[];let g=!1;for(const b of l.getRanges()){const w=vA(b,d);w&&!w.isEqual(b)?(p.push(w),g=!0):p.push(b)}return g&&t.setSelection(function(b){const w=[...b],y=new Set;let A=1;for(;A<w.length;){const E=w[A],D=w.slice(0,A);for(const[M,R]of D.entries())if(!y.has(M)){if(E.isEqual(R))y.add(M);else if(E.isIntersecting(R)){y.add(M),y.add(A);const U=E.getJoined(R);w.push(U)}}A++}return w.filter((E,D)=>!y.has(D))}(p),{backward:l.isBackward}),!1}(e,c))}function vA(c,e){return c.isCollapsed?function(t,i){const l=t.start,d=i.getNearestSelectionRange(l);if(!d){const g=l.getAncestors().reverse().find(b=>i.isObject(b));return g?oe._createOn(g):null}if(!d.isCollapsed)return d;const p=d.start;return l.isEqual(p)?null:new oe(p)}(c,e):function(t,i){const{start:l,end:d}=t,p=i.checkChild(l,"$text"),g=i.checkChild(d,"$text"),b=i.getLimitElement(l),w=i.getLimitElement(d);if(b===w){if(p&&g)return null;if(function(E,D,M){const R=E.nodeAfter&&!M.isLimit(E.nodeAfter)||M.checkChild(E,"$text"),U=D.nodeBefore&&!M.isLimit(D.nodeBefore)||M.checkChild(D,"$text");return R||U}(l,d,i)){const E=l.nodeAfter&&i.isSelectable(l.nodeAfter)?null:i.getNearestSelectionRange(l,"forward"),D=d.nodeBefore&&i.isSelectable(d.nodeBefore)?null:i.getNearestSelectionRange(d,"backward"),M=E?E.start:l,R=D?D.end:d;return new oe(M,R)}}const y=b&&!b.is("rootElement"),A=w&&!w.is("rootElement");if(y||A){const E=l.nodeAfter&&d.nodeBefore&&l.nodeAfter.parent===d.nodeBefore.parent,D=y&&(!E||!_A(l.nodeAfter,i)),M=A&&(!E||!_A(d.nodeBefore,i));let R=l,U=d;return D&&(R=ue._createBefore(yA(b,i))),M&&(U=ue._createAfter(yA(w,i))),new oe(R,U)}return null}(c,e)}function yA(c,e){let t=c,i=t;for(;e.isLimit(i)&&i.parent;)t=i,i=i.parent;return t}function _A(c,e){return c&&e.isSelectable(c)}class H4 extends Ve(){constructor(e,t){super(),this.model=e,this.view=new w4(t),this.mapper=new KC,this.downcastDispatcher=new JC({mapper:this.mapper,schema:e.schema});const i=this.model.document,l=i.selection,d=this.model.markers;var p,g,b;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(i,"change",()=>{this.view.change(w=>{this.downcastDispatcher.convertChanges(i.differ,d,w),this.downcastDispatcher.convertSelection(l,d,w)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(w,y){return(A,E)=>{const D=E.newSelection,M=[];for(const U of D.getRanges())M.push(y.toModelRange(U));const R=w.createSelection(M,{backward:D.isBackward});R.isEqual(w.document.selection)||w.change(U=>{U.setSelection(R)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(p=this.mapper,g=this.model.schema,b=this.view,(w,y)=>{if(!b.document.isComposing||_.isAndroid)for(let A=0;A<y.targetRanges.length;A++){const E=y.targetRanges[A],D=p.toModelRange(E),M=vA(D,g);M&&!M.isEqual(D)&&(y.targetRanges[A]=p.toViewRange(M))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(w,y,A)=>{if(!A.consumable.consume(y.item,w.name))return;const E=A.writer,D=A.mapper.toViewPosition(y.range.start),M=E.createText(y.item.data);E.insert(D,M)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(w,y,A)=>{A.convertAttributes(y.item),y.reconversion||!y.item.is("element")||y.item.isEmpty||A.convertChildren(y.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(w,y,A)=>{const E=A.mapper.toViewPosition(y.position),D=y.position.getShiftedBy(y.length),M=A.mapper.toViewPosition(D,{isPhantom:!0}),R=A.writer.createRange(E,M),U=A.writer.remove(R.getTrimmed());for(const W of A.writer.createRangeIn(U).getItems())A.mapper.unbindViewElement(W,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(w,y,A)=>{const E=A.writer,D=E.document.selection;for(const M of D.getRanges())M.isCollapsed&&M.end.parent.isAttached()&&A.writer.mergeAttributes(M.start);E.setSelection(null)}),this.downcastDispatcher.on("selection",(w,y,A)=>{const E=y.selection;if(E.isCollapsed||!A.consumable.consume(E,"selection"))return;const D=[];for(const M of E.getRanges())D.push(A.mapper.toViewRange(M));A.writer.setSelection(D,{backward:E.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(w,y,A)=>{const E=y.selection;if(!E.isCollapsed||!A.consumable.consume(E,"selection"))return;const D=A.writer,M=E.getFirstPosition(),R=A.mapper.toViewPosition(M),U=D.breakAttributes(R);D.setSelection(U)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(w=>{if(w.rootName=="$graveyard")return null;const y=new mC(this.view.document,w.name);return y.rootName=w.rootName,this.mapper.bindElements(w,y),y})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,i=this.model.markers.get(t);if(!i)throw new z("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(i)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class Su{constructor(){this._consumables=new Map}add(e,t){let i;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?i=this._consumables.get(e):(i=new W4(e),this._consumables.set(e,i)),i.add(t))}test(e,t){const i=this._consumables.get(e);return i===void 0?null:e.is("$text")||e.is("documentFragment")?i:i.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const i=this._consumables.get(e);i!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):i.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},i=e.getAttributeKeys();for(const p of i)p!="style"&&p!="class"&&t.attributes.push(p);const l=e.getClassNames();for(const p of l)t.classes.push(p);const d=e.getStyleNames();for(const p of d)t.styles.push(p);return t}static createFrom(e,t){if(t||(t=new Su),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,Su.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const i of e.getChildren())t=Su.createFrom(i,t);return t}}const dp=["attributes","classes","styles"];class W4{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of dp)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of dp)if(t in e){const i=this._test(t,e[t]);if(i!==!0)return i}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of dp)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of dp)t in e&&this._revert(t,e[t])}_add(e,t){const i=Ln(t)?t:[t],l=this._consumables[e];for(const d of i){if(e==="attributes"&&(d==="class"||d==="style"))throw new z("viewconsumable-invalid-attribute",this);if(l.set(d,!0),e==="styles")for(const p of this.element.document.stylesProcessor.getRelatedStyles(d))l.set(p,!0)}}_test(e,t){const i=Ln(t)?t:[t],l=this._consumables[e];for(const d of i)if(e!=="attributes"||d!=="class"&&d!=="style"){const p=l.get(d);if(p===void 0)return null;if(!p)return!1}else{const p=d=="class"?"classes":"styles",g=this._test(p,[...this._consumables[p].keys()]);if(g!==!0)return g}return!0}_consume(e,t){const i=Ln(t)?t:[t],l=this._consumables[e];for(const d of i)if(e!=="attributes"||d!=="class"&&d!=="style"){if(l.set(d,!1),e=="styles")for(const p of this.element.document.stylesProcessor.getRelatedStyles(d))l.set(p,!1)}else{const p=d=="class"?"classes":"styles";this._consume(p,[...this._consumables[p].keys()])}}_revert(e,t){const i=Ln(t)?t:[t],l=this._consumables[e];for(const d of i)if(e!=="attributes"||d!=="class"&&d!=="style")l.get(d)===!1&&l.set(d,!0);else{const p=d=="class"?"classes":"styles";this._revert(p,[...this._consumables[p].keys()])}}}class $4 extends Ve(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new la(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new la(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new z("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new z("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const i=this.getDefinition(e.last);return!!i&&i.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof ue){const i=e.nodeBefore,l=e.nodeAfter;if(!(i instanceof Tt))throw new z("schema-check-merge-no-element-before",this);if(!(l instanceof Tt))throw new z("schema-check-merge-no-element-after",this);return this.checkMerge(i,l)}for(const i of t.getChildren())if(!this.checkChild(e,i))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[i,l])=>{if(!l)return;const d=e(i,l);typeof d=="boolean"&&(t.stop(),t.return=d)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[i,l])=>{const d=e(i,l);typeof d=="boolean"&&(t.stop(),t.return=d)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof ue?t=e.parent:t=(e instanceof oe?[e]:Array.from(e.getRanges())).reduce((i,l)=>{const d=l.getCommonAncestor();return i?i.getCommonAncestor(d,{includeSelf:!0}):d},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const i=[...e.getFirstPosition().getAncestors(),new Bt("",e.getAttributes())];return this.checkAttribute(i,t)}{const i=e.getRanges();for(const l of i)for(const d of l)if(this.checkAttribute(d.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(i){for(const l of i)yield*l.getMinimalFlatRanges()}(e);for(const i of e)yield*this._getValidRangesForRange(i,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new oe(e);let i,l;const d=e.getAncestors().reverse().find(p=>this.isLimit(p))||e.root;t!="both"&&t!="backward"||(i=new Yo({boundaries:oe._createIn(d),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(l=new Yo({boundaries:oe._createIn(d),startPosition:e}));for(const p of function*(g,b){let w=!1;for(;!w;){if(w=!0,g){const y=g.next();y.done||(w=!1,yield{walker:g,value:y.value})}if(b){const y=b.next();y.done||(w=!1,yield{walker:b,value:y.value})}}}(i,l)){const g=p.walker==i?"elementEnd":"elementStart",b=p.value;if(b.type==g&&this.isObject(b.item))return oe._createOn(b.item);if(this.checkChild(b.nextPosition,"$text"))return new oe(b.nextPosition)}return null}findAllowedParent(e,t){let i=e.parent;for(;i;){if(this.checkChild(i,t))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(e,t,i){const l=i.model;for(const[d,p]of Object.entries(t))l.schema.checkAttribute(e,d)&&i.setAttribute(d,p,e)}removeDisallowedAttributes(e,t){for(const i of e)if(i.is("$text"))CA(this,i,t);else{const l=oe._createIn(i).getPositions();for(const d of l)CA(this,d.nodeBefore||d.parent,t)}}getAttributesWithProperty(e,t,i){const l={};for(const[d,p]of e.getAttributes()){const g=this.getAttributeProperties(d);g[t]!==void 0&&(i!==void 0&&i!==g[t]||(l[d]=p))}return l}createContext(e){return new la(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,i=Object.keys(t);for(const l of i)e[l]=Y4(t[l],l);for(const l of i)q4(e,l);for(const l of i)K4(e,l);for(const l of i)G4(e,l);for(const l of i)Q4(e,l),Z4(e,l);for(const l of i)J4(e,l),X4(e,l),eB(e,l);this._compiledDefinitions=e}_checkContextMatch(e,t,i=t.length-1){const l=t.getItem(i);if(e.allowIn.includes(l.name)){if(i==0)return!0;{const d=this.getDefinition(l);return this._checkContextMatch(d,t,i-1)}}return!1}*_getValidRangesForRange(e,t){let i=e.start,l=e.start;for(const d of e.getItems({shallow:!0}))d.is("element")&&(yield*this._getValidRangesForRange(oe._createIn(d),t)),this.checkAttribute(d,t)||(i.isEqual(l)||(yield new oe(i,l)),i=ue._createAfter(d)),l=ue._createAfter(d);i.isEqual(l)||(yield new oe(i,l))}}class la{constructor(e){if(e instanceof la)return e;let t;t=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(nB)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new la([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function Y4(c,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(i,l){for(const d of i){const p=Object.keys(d).filter(g=>g.startsWith("is"));for(const g of p)l[g]=!!d[g]}}(c,t),ua(c,t,"allowIn"),ua(c,t,"allowContentOf"),ua(c,t,"allowWhere"),ua(c,t,"allowAttributes"),ua(c,t,"allowAttributesOf"),ua(c,t,"allowChildren"),ua(c,t,"inheritTypesFrom"),function(i,l){for(const d of i){const p=d.inheritAllFrom;p&&(l.allowContentOf.push(p),l.allowWhere.push(p),l.allowAttributesOf.push(p),l.inheritTypesFrom.push(p))}}(c,t),t}function q4(c,e){const t=c[e];for(const i of t.allowChildren){const l=c[i];l&&l.allowIn.push(e)}t.allowChildren.length=0}function K4(c,e){for(const t of c[e].allowContentOf)c[t]&&tB(c,t).forEach(i=>{i.allowIn.push(e)});delete c[e].allowContentOf}function G4(c,e){for(const t of c[e].allowWhere){const i=c[t];if(i){const l=i.allowIn;c[e].allowIn.push(...l)}}delete c[e].allowWhere}function Q4(c,e){for(const t of c[e].allowAttributesOf){const i=c[t];if(i){const l=i.allowAttributes;c[e].allowAttributes.push(...l)}}delete c[e].allowAttributesOf}function Z4(c,e){const t=c[e];for(const i of t.inheritTypesFrom){const l=c[i];if(l){const d=Object.keys(l).filter(p=>p.startsWith("is"));for(const p of d)p in t||(t[p]=l[p])}}delete t.inheritTypesFrom}function J4(c,e){const t=c[e],i=t.allowIn.filter(l=>c[l]);t.allowIn=Array.from(new Set(i))}function X4(c,e){const t=c[e];for(const i of t.allowIn)c[i].allowChildren.push(e)}function eB(c,e){const t=c[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function ua(c,e,t){for(const i of c){const l=i[t];typeof l=="string"?e[t].push(l):Array.isArray(l)&&e[t].push(...l)}}function tB(c,e){const t=c[e];return(i=c,Object.keys(i).map(l=>i[l])).filter(l=>l.allowIn.includes(t.name));var i}function nB(c){return typeof c=="string"||c.is("documentFragment")?{name:typeof c=="string"?c:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:c.is("element")?c.name:"$text",*getAttributeKeys(){yield*c.getAttributeKeys()},getAttribute:e=>c.getAttribute(e)}}function CA(c,e,t){for(const i of e.getAttributeKeys())c.checkAttribute(e,i)||t.removeAttribute(i,e)}var rB=Object.defineProperty,oB=Object.defineProperties,iB=Object.getOwnPropertyDescriptors,AA=Object.getOwnPropertySymbols,sB=Object.prototype.hasOwnProperty,aB=Object.prototype.propertyIsEnumerable,xA=(c,e,t)=>e in c?rB(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;class cB extends ge(){constructor(e){var t;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(t=((i,l)=>{for(var d in l||(l={}))sB.call(l,d)&&xA(i,d,l[d]);if(AA)for(var d of AA(l))aB.call(l,d)&&xA(i,d,l[d]);return i})({},e),oB(t,iB({consumable:null,writer:null,store:null,convertItem:(i,l)=>this._convertItem(i,l),convertChildren:(i,l)=>this._convertChildren(i,l),safeInsert:(i,l)=>this._safeInsert(i,l),updateConversionResult:(i,l)=>this._updateConversionResult(i,l),splitToAllowedParent:(i,l)=>this._splitToAllowedParent(i,l),getSplitParts:i=>this._getSplitParts(i),keepEmptyElement:i=>this._keepEmptyElement(i)})))}convert(e,t,i=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(p,g){let b;for(const w of new la(p)){const y={};for(const E of w.getAttributeKeys())y[E]=w.getAttribute(E);const A=g.createElement(w.name,y);b&&g.insert(A,b),b=ue._createAt(A,0)}return b}(i,t),this.conversionApi.writer=t,this.conversionApi.consumable=Su.createFrom(e),this.conversionApi.store={};const{modelRange:l}=this._convertItem(e,this._modelCursor),d=t.createDocumentFragment();if(l){this._removeEmptyElements();for(const p of Array.from(this._modelCursor.parent.getChildren()))t.append(p,d);d.markers=function(p,g){const b=new Set,w=new Map,y=oe._createIn(p).getItems();for(const A of y)A.is("element","$marker")&&b.add(A);for(const A of b){const E=A.getAttribute("data-name"),D=g.createPositionBefore(A);w.has(E)?w.get(E).end=D.clone():w.set(E,new oe(D.clone())),g.remove(A)}return w}(d,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,d}_convertItem(e,t){const i={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,i,this.conversionApi):e.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof oe))throw new z("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(e,t){let i=t.is("position")?t:ue._createAt(t,0);const l=new oe(i);for(const d of Array.from(e.getChildren())){const p=this._convertItem(d,i);p.modelRange instanceof oe&&(l.end=p.modelRange.end,i=p.modelCursor)}return{modelRange:l,modelCursor:i}}_safeInsert(e,t){const i=this._splitToAllowedParent(e,t);return!!i&&(this.conversionApi.writer.insert(e,i.position),!0)}_updateConversionResult(e,t){const i=this._getSplitParts(e),l=this.conversionApi.writer;t.modelRange||(t.modelRange=l.createRange(l.createPositionBefore(e),l.createPositionAfter(i[i.length-1])));const d=this._cursorParents.get(e);t.modelCursor=d?l.createPositionAt(d,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:i,writer:l}=this.conversionApi;let d=i.findAllowedParent(t,e);if(d){if(d===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(d)&&(d=null)}if(!d)return hA(t,e,i)?{position:pA(t,l)}:null;const p=this.conversionApi.writer.split(t,d),g=[];for(const w of p.range.getWalker())if(w.type=="elementEnd")g.push(w.item);else{const y=g.pop(),A=w.item;this._registerSplitPair(y,A)}const b=p.range.end.parent;return this._cursorParents.set(e,b),{position:p.position,cursorParent:b}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const i=this._splitParts.get(e);this._splitParts.set(t,i),i.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class lB{getHtml(e){const t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class uB{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new ip(e,{renderingMode:"data"}),this.htmlWriter=new lB}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),i=t.createDocumentFragment(),l=t.body.childNodes;for(;l.length>0;)i.appendChild(l[0]);return i}}class dB extends ge(){constructor(e,t){super(),this.model=e,this.mapper=new KC,this.downcastDispatcher=new JC({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(i,l,d)=>{if(!d.consumable.consume(l.item,i.name))return;const p=d.writer,g=d.mapper.toViewPosition(l.range.start),b=p.createText(l.item.data);p.insert(g,b)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(i,l,d)=>{d.convertAttributes(l.item),l.reconversion||!l.item.is("element")||l.item.isEmpty||d.convertChildren(l.item)},{priority:"lowest"}),this.upcastDispatcher=new cB({schema:e.schema}),this.viewDocument=new np(t),this.stylesProcessor=t,this.htmlProcessor=new uB(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new bC(this.viewDocument),this.upcastDispatcher.on("text",(i,l,{schema:d,consumable:p,writer:g})=>{let b=l.modelCursor;if(!p.test(l.viewItem))return;if(!d.checkChild(b,"$text")){if(!hA(b,"$text",d)||l.viewItem.data.trim().length==0)return;const y=b.nodeBefore;b=pA(b,g),y&&y.is("element","$marker")&&(g.move(g.createRangeOn(y),b),b=g.createPositionAfter(y))}p.consume(l.viewItem);const w=g.createText(l.viewItem.data);g.insert(w,b),l.modelRange=g.createRange(b,b.getShiftedBy(w.offsetSize)),l.modelCursor=l.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(i,l,d)=>{if(!l.modelRange&&d.consumable.consume(l.viewItem,{name:!0})){const{modelRange:p,modelCursor:g}=d.convertChildren(l.viewItem,l.modelCursor);l.modelRange=p,l.modelCursor=g}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(i,l,d)=>{if(!l.modelRange&&d.consumable.consume(l.viewItem,{name:!0})){const{modelRange:p,modelCursor:g}=d.convertChildren(l.viewItem,l.modelCursor);l.modelRange=p,l.modelCursor=g}},{priority:"lowest"}),Ve().prototype.decorate.call(this,"init"),Ve().prototype.decorate.call(this,"set"),Ve().prototype.decorate.call(this,"get"),Ve().prototype.decorate.call(this,"toView"),Ve().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},dA)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:i="empty"}=e;if(!this._checkIfRootsExists([t]))throw new z("datacontroller-get-non-existent-root",this);const l=this.model.document.getRoot(t);return l.isAttached()||te("datacontroller-get-detached-root",this),i!=="empty"||this.model.hasContent(l,{ignoreWhitespaces:!0})?this.stringify(l,e):""}stringify(e,t={}){const i=this.toView(e,t);return this.processor.toData(i)}toView(e,t={}){const i=this.viewDocument,l=this._viewWriter;this.mapper.clearBindings();const d=oe._createIn(e),p=new sa(i);this.mapper.bindElements(e,p);const g=e.is("documentFragment")?e.markers:function(b){const w=[],y=b.root.document;if(!y)return new Map;const A=oe._createIn(b);for(const E of y.model.markers){const D=E.getRange(),M=D.isCollapsed,R=D.start.isEqual(A.start)||D.end.isEqual(A.end);if(M&&R)w.push([E.name,D]);else{const U=A.getIntersection(D);U&&w.push([E.name,U])}}return w.sort(([E,D],[M,R])=>{if(D.end.compareWith(R.start)!=="after")return 1;if(D.start.compareWith(R.end)!=="before")return-1;switch(D.start.compareWith(R.start)){case"before":return 1;case"after":return-1;default:switch(D.end.compareWith(R.end)){case"before":return 1;case"after":return-1;default:return M.localeCompare(E)}}}),new Map(w)}(e);return this.downcastDispatcher.convert(d,g,l,t),p}init(e){if(this.model.document.version)throw new z("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new z("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},i=>{for(const l of Object.keys(t)){const d=this.model.document.getRoot(l);i.insert(this.parse(t[l],d),d,0)}}),Promise.resolve()}set(e,t={}){let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new z("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},l=>{l.setSelection(null),l.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const d of Object.keys(i)){const p=this.model.document.getRoot(d);l.remove(l.createRangeIn(p)),l.insert(this.parse(i[d],p),p,0)}})}parse(e,t="$root"){const i=this.processor.toView(e);return this.toModel(i,t)}toModel(e,t="$root"){return this.model.change(i=>this.upcastDispatcher.convert(e,i,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class hB{constructor(e,t){this._helpers=new Map,this._downcast=Sn(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Sn(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const i=this._downcast.includes(t);if(!this._upcast.includes(t)&&!i)throw new z("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:i})}for(e){if(!this._helpers.has(e))throw new z("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:i}of Hk(e))this.for("upcast").elementToElement({model:t,view:i,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:i}of Hk(e))this.for("upcast").elementToAttribute({view:i,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:i}of Hk(e))this.for("upcast").attributeToAttribute({view:i,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:i}){if(this._helpers.has(e))throw new z("conversion-group-exists",this);const l=i?new N4(t):new U4(t);this._helpers.set(e,l)}}function*Hk(c){if(c.model.values)for(const e of c.model.values){const t={key:c.model.key,value:e},i=c.view[e],l=c.upcastAlso?c.upcastAlso[e]:void 0;yield*EA(t,i,l)}else yield*EA(c.model,c.view,c.upcastAlso)}function*EA(c,e,t){if(yield{model:c,view:e},t)for(const i of Sn(t))yield{model:c,view:i}}class Dr{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function Wk(c,e){const t=DA(e),i=t.reduce((p,g)=>p+g.offsetSize,0),l=c.parent;Iu(c);const d=c.index;return l._insertChild(d,t),Tu(l,d+t.length),Tu(l,d),new oe(c,c.getShiftedBy(i))}function SA(c){if(!c.isFlat)throw new z("operation-utils-remove-range-not-flat",this);const e=c.start.parent;Iu(c.start),Iu(c.end);const t=e._removeChildren(c.start.index,c.end.index-c.start.index);return Tu(e,c.start.index),t}function Du(c,e){if(!c.isFlat)throw new z("operation-utils-move-range-not-flat",this);const t=SA(c);return Wk(e=e._getTransformedByDeletion(c.start,c.end.offset-c.start.offset),t)}function DA(c){const e=[];(function t(i){if(typeof i=="string")e.push(new Bt(i));else if(i instanceof mo)e.push(new Bt(i.data,i.getAttributes()));else if(i instanceof aa)e.push(i);else if(se(i))for(const l of i)t(l)})(c);for(let t=1;t<e.length;t++){const i=e[t],l=e[t-1];i instanceof Bt&&l instanceof Bt&&TA(i,l)&&(e.splice(t-1,2,new Bt(l.data+i.data,l.getAttributes())),t--)}return e}function Tu(c,e){const t=c.getChild(e-1),i=c.getChild(e);if(t&&i&&t.is("$text")&&i.is("$text")&&TA(t,i)){const l=new Bt(t.data+i.data,t.getAttributes());c._removeChildren(e-1,2),c._insertChild(e-1,l)}}function Iu(c){const e=c.textNode,t=c.parent;if(e){const i=c.offset-e.startOffset,l=e.index;t._removeChildren(l,1);const d=new Bt(e.data.substr(0,i),e.getAttributes()),p=new Bt(e.data.substr(i),e.getAttributes());t._insertChild(l,[d,p])}}function TA(c,e){const t=c.getAttributes(),i=e.getAttributes();for(const l of t){if(l[1]!==e.getAttribute(l[0]))return!1;i.next()}return i.next().done}class _t extends Dr{constructor(e,t,i,l){super(l),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[oe._createFromPositionAndShift(this.sourcePosition,this.howMany),oe._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new _t(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new _t(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,i=this.sourcePosition.offset,l=this.targetPosition.offset;if(i+this.howMany>e.maxOffset)throw new z("move-operation-nodes-do-not-exist",this);if(e===t&&i<l&&l<i+this.howMany)throw new z("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&X(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const d=this.sourcePosition.path.length-1;if(this.targetPosition.path[d]>=i&&this.targetPosition.path[d]<i+this.howMany)throw new z("move-operation-node-into-itself",this)}}_execute(){Du(oe._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const i=ue.fromJSON(e.sourcePosition,t),l=ue.fromJSON(e.targetPosition,t);return new this(i,e.howMany,l,e.baseVersion)}}class Dn extends Dr{constructor(e,t,i){super(i),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Cu(DA(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Cu([...this.nodes].map(i=>i._clone(!0))),t=new Dn(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new ue(e,[0]);return new _t(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new z("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Cu([...e].map(t=>t._clone(!0))),Wk(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const i=[];for(const d of e.nodes)d.name?i.push(Tt.fromJSON(d)):i.push(Bt.fromJSON(d));const l=new Dn(ue.fromJSON(e.position,t),i,e.baseVersion);return l.shouldReceiveAttributes=e.shouldReceiveAttributes,l}}class Rt extends Dr{constructor(e,t,i,l,d){super(d),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=i,this.graveyardPosition=l?l.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new ue(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new oe(this.splitPosition,e)}get affectedSelectable(){const e=[oe._createFromPositionAndShift(this.splitPosition,0),oe._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(oe._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Rt(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new ue(e,[0]);return new tn(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new z("split-operation-position-invalid",this);if(!e.parent)throw new z("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new z("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new z("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Du(oe._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();Wk(this.insertionPosition,t)}Du(new oe(ue._createAt(e,this.splitPosition.offset),ue._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new ue(e.root,t,"toPrevious")}static fromJSON(e,t){const i=ue.fromJSON(e.splitPosition,t),l=ue.fromJSON(e.insertionPosition,t),d=e.graveyardPosition?ue.fromJSON(e.graveyardPosition,t):null;return new this(i,e.howMany,l,d,e.baseVersion)}}class tn extends Dr{constructor(e,t,i,l,d){super(d),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=l.clone()}get type(){return"merge"}get deletionPosition(){return new ue(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new oe(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[oe._createOn(e),oe._createFromPositionAndShift(this.targetPosition,0),oe._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new tn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),i=new ue(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new Rt(e,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new z("merge-operation-source-position-invalid",this);if(!t.parent)throw new z("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new z("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Du(oe._createIn(e),this.targetPosition),Du(oe._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const i=ue.fromJSON(e.sourcePosition,t),l=ue.fromJSON(e.targetPosition,t),d=ue.fromJSON(e.graveyardPosition,t);return new this(i,e.howMany,l,d,e.baseVersion)}}class hr extends Dr{constructor(e,t,i,l,d,p){super(p),this.name=e,this.oldRange=t?t.clone():null,this.newRange=i?i.clone():null,this.affectsData=d,this._markers=l}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new hr(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new hr(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new hr(e.name,e.oldRange?oe.fromJSON(e.oldRange,t):null,e.newRange?oe.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const IA=function(c,e){return UC(c,e)};class dn extends Dr{constructor(e,t,i,l,d){super(d),this.range=e.clone(),this.key=t,this.oldValue=i===void 0?null:i,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new dn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new dn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new z("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!IA(e.getAttribute(this.key),this.oldValue))throw new z("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new z("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){IA(this.oldValue,this.newValue)||function(e,t,i){Iu(e.start),Iu(e.end);for(const l of e.getItems({shallow:!0})){const d=l.is("$textProxy")?l.textNode:l;i!==null?d._setAttribute(t,i):d._removeAttribute(t),Tu(d.parent,d.index)}Tu(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new dn(oe.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class yn extends Dr{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new yn(this.baseVersion)}getReversed(){return new yn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class pr extends Dr{constructor(e,t,i,l){super(l),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=i}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new pr(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new pr(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof Tt))throw new z("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new z("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new pr(ue.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class mi extends Dr{constructor(e,t,i,l,d){super(d),this.root=e,this.key=t,this.oldValue=i===void 0?null:i,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new mi(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new mi(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new z("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new z("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new z("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new z("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new mi(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class qo extends Dr{constructor(e,t,i,l,d){super(d),this.rootName=e,this.elementName=t,this.isAdd=i,this._document=l,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new qo(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new qo(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new qo(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const Wr={};Wr[dn.className]=dn,Wr[Dn.className]=Dn,Wr[hr.className]=hr,Wr[_t.className]=_t,Wr[yn.className]=yn,Wr[Dr.className]=Dr,Wr[pr.className]=pr,Wr[mi.className]=mi,Wr[qo.className]=qo,Wr[Rt.className]=Rt,Wr[tn.className]=tn;class pB{static fromJSON(e,t){return Wr[e.__className].fromJSON(e,t)}}const $k=new Map;function ht(c,e,t){let i=$k.get(c);i||(i=new Map,$k.set(c,i)),i.set(e,t)}function fB(c){return[c]}function MA(c,e,t={}){const i=function(l,d){const p=$k.get(l);return p&&p.has(d)?p.get(d):fB}(c.constructor,e.constructor);try{return i(c=c.clone(),e,t)}catch(l){throw l}}function gB(c,e,t){c=c.slice(),e=e.slice();const i=new mB(t.document,t.useRelations,t.forceWeakRemove);i.setOriginalOperations(c),i.setOriginalOperations(e);const l=i.originalOperations;if(c.length==0||e.length==0)return{operationsA:c,operationsB:e,originalOperations:l};const d=new WeakMap;for(const b of c)d.set(b,0);const p={nextBaseVersionA:c[c.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:c.length,originalOperationsBCount:e.length};let g=0;for(;g<c.length;){const b=c[g],w=d.get(b);if(w==e.length){g++;continue}const y=e[w],A=MA(b,y,i.getContext(b,y,!0)),E=MA(y,b,i.getContext(y,b,!1));i.updateRelation(b,y),i.setOriginalOperations(A,b),i.setOriginalOperations(E,y);for(const D of A)d.set(D,w+E.length);c.splice(g,1,...A),e.splice(w,1,...E)}if(t.padWithNoOps){const b=c.length-p.originalOperationsACount,w=e.length-p.originalOperationsBCount;NA(c,w-b),NA(e,b-w)}return PA(c,p.nextBaseVersionB),PA(e,p.nextBaseVersionA),{operationsA:c,operationsB:e,originalOperations:l}}class mB{constructor(e,t,i=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(e,t=null){const i=t?this.originalOperations.get(t):null;for(const l of e)this.originalOperations.set(l,i||l)}updateRelation(e,t){if(e instanceof _t)t instanceof tn?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof _t&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof Rt){if(t instanceof tn)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof _t)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const i=oe._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){const l=i.end.offset-e.splitPosition.offset,d=e.splitPosition.offset-i.start.offset;this._setRelation(e,t,{howMany:l,offset:d})}}}else if(e instanceof tn)t instanceof tn?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof Rt&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof hr){const i=e.newRange;if(!i)return;if(t instanceof _t){const l=oe._createFromPositionAndShift(t.sourcePosition,t.howMany),d=l.containsPosition(i.start)||l.start.isEqual(i.start),p=l.containsPosition(i.end)||l.end.isEqual(i.end);!d&&!p||l.containsRange(i)||this._setRelation(e,t,{side:d?"left":"right",path:d?i.start.path.slice():i.end.path.slice()})}else if(t instanceof tn){const l=i.start.isEqual(t.targetPosition),d=i.start.isEqual(t.deletionPosition),p=i.end.isEqual(t.deletionPosition),g=i.end.isEqual(t.sourcePosition);(l||d||p||g)&&this._setRelation(e,t,{wasInLeftElement:l,wasStartBeforeMergedElement:d,wasEndBeforeMergedElement:p,wasInRightElement:g})}}}getContext(e,t,i){return{aIsStrong:i,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const i=this.originalOperations.get(t),l=this._history.getUndoneOperation(i);if(!l)return null;const d=this.originalOperations.get(e),p=this._relations.get(d);return p&&p.get(l)||null}_setRelation(e,t,i){const l=this.originalOperations.get(e),d=this.originalOperations.get(t);let p=this._relations.get(l);p||(p=new Map,this._relations.set(l,p)),p.set(d,i)}}function PA(c,e){for(const t of c)t.baseVersion=e++}function NA(c,e){for(let t=0;t<e;t++)c.push(new yn(0))}function OA(c,e,t){const i=c.nodes.getNode(0).getAttribute(e);if(i==t)return null;const l=new oe(c.position,c.position.getShiftedBy(c.howMany));return new dn(l,e,i,t,0)}function BA(c,e){return c.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Ac(c,e){const t=[];for(let i=0;i<c.length;i++){const l=c[i],d=new _t(l.start,l.end.offset-l.start.offset,e,0);t.push(d);for(let p=i+1;p<c.length;p++)c[p]=c[p]._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany)[0];e=e._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany)}return t}ht(dn,dn,(c,e,t)=>{if(c.key===e.key&&c.range.start.hasSameParentAs(e.range.start)){const i=c.range.getDifference(e.range).map(d=>new dn(d,c.key,c.oldValue,c.newValue,0)),l=c.range.getIntersection(e.range);return l&&t.aIsStrong&&i.push(new dn(l,e.key,e.newValue,c.newValue,0)),i.length==0?[new yn(0)]:i}return[c]}),ht(dn,Dn,(c,e)=>{if(c.range.start.hasSameParentAs(e.position)&&c.range.containsPosition(e.position)){const t=c.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(i=>new dn(i,c.key,c.oldValue,c.newValue,c.baseVersion));if(e.shouldReceiveAttributes){const i=OA(e,c.key,c.oldValue);i&&t.unshift(i)}return t}return c.range=c.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[c]}),ht(dn,tn,(c,e)=>{const t=[];c.range.start.hasSameParentAs(e.deletionPosition)&&(c.range.containsPosition(e.deletionPosition)||c.range.start.isEqual(e.deletionPosition))&&t.push(oe._createFromPositionAndShift(e.graveyardPosition,1));const i=c.range._getTransformedByMergeOperation(e);return i.isCollapsed||t.push(i),t.map(l=>new dn(l,c.key,c.oldValue,c.newValue,c.baseVersion))}),ht(dn,_t,(c,e)=>function(i,l){const d=oe._createFromPositionAndShift(l.sourcePosition,l.howMany);let p=null,g=[];d.containsRange(i,!0)?p=i:i.start.hasSameParentAs(d.start)?(g=i.getDifference(d),p=i.getIntersection(d)):g=[i];const b=[];for(let w of g){w=w._getTransformedByDeletion(l.sourcePosition,l.howMany);const y=l.getMovedRangeStart(),A=w.start.hasSameParentAs(y),E=w._getTransformedByInsertion(y,l.howMany,A);b.push(...E)}return p&&b.push(p._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany,!1)[0]),b}(c.range,e).map(i=>new dn(i,c.key,c.oldValue,c.newValue,c.baseVersion))),ht(dn,Rt,(c,e)=>{if(c.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||c.range.end.offset++,[c];if(c.range.start.hasSameParentAs(e.splitPosition)&&c.range.containsPosition(e.splitPosition)){const t=c.clone();return t.range=new oe(e.moveTargetPosition.clone(),c.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),c.range.end=e.splitPosition.clone(),c.range.end.stickiness="toPrevious",[c,t]}return c.range=c.range._getTransformedBySplitOperation(e),[c]}),ht(Dn,dn,(c,e)=>{const t=[c];if(c.shouldReceiveAttributes&&c.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(c.position)){const i=OA(c,e.key,e.newValue);i&&t.push(i)}return t}),ht(Dn,Dn,(c,e,t)=>(c.position.isEqual(e.position)&&t.aIsStrong||(c.position=c.position._getTransformedByInsertOperation(e)),[c])),ht(Dn,_t,(c,e)=>(c.position=c.position._getTransformedByMoveOperation(e),[c])),ht(Dn,Rt,(c,e)=>(c.position=c.position._getTransformedBySplitOperation(e),[c])),ht(Dn,tn,(c,e)=>(c.position=c.position._getTransformedByMergeOperation(e),[c])),ht(hr,Dn,(c,e)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByInsertOperation(e)[0]),c.newRange&&(c.newRange=c.newRange._getTransformedByInsertOperation(e)[0]),[c])),ht(hr,hr,(c,e,t)=>{if(c.name==e.name){if(!t.aIsStrong)return[new yn(0)];c.oldRange=e.newRange?e.newRange.clone():null}return[c]}),ht(hr,tn,(c,e)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByMergeOperation(e)),c.newRange&&(c.newRange=c.newRange._getTransformedByMergeOperation(e)),[c])),ht(hr,_t,(c,e,t)=>{if(c.oldRange&&(c.oldRange=oe._createFromRanges(c.oldRange._getTransformedByMoveOperation(e))),c.newRange){if(t.abRelation){const i=oe._createFromRanges(c.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(c.newRange.start))return c.newRange.end=i.end,c.newRange.start.path=t.abRelation.path,[c];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(c.newRange.end))return c.newRange.start=i.start,c.newRange.end.path=t.abRelation.path,[c]}c.newRange=oe._createFromRanges(c.newRange._getTransformedByMoveOperation(e))}return[c]}),ht(hr,Rt,(c,e,t)=>{if(c.oldRange&&(c.oldRange=c.oldRange._getTransformedBySplitOperation(e)),c.newRange){if(t.abRelation){const i=c.newRange._getTransformedBySplitOperation(e);return c.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?c.newRange.start=ue._createAt(e.insertionPosition):c.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(c.newRange.start=ue._createAt(e.moveTargetPosition)),c.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?c.newRange.end=ue._createAt(e.moveTargetPosition):c.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?c.newRange.end=ue._createAt(e.insertionPosition):c.newRange.end=i.end,[c]}c.newRange=c.newRange._getTransformedBySplitOperation(e)}return[c]}),ht(tn,Dn,(c,e)=>(c.sourcePosition.hasSameParentAs(e.position)&&(c.howMany+=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByInsertOperation(e),c.targetPosition=c.targetPosition._getTransformedByInsertOperation(e),[c])),ht(tn,tn,(c,e,t)=>{if(c.sourcePosition.isEqual(e.sourcePosition)&&c.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const i=e.graveyardPosition.path.slice();return i.push(0),c.sourcePosition=new ue(e.graveyardPosition.root,i),c.howMany=0,[c]}return[new yn(0)]}if(c.sourcePosition.isEqual(e.sourcePosition)&&!c.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const i=c.targetPosition.root.rootName=="$graveyard",l=e.targetPosition.root.rootName=="$graveyard";if(l&&!i||!(i&&!l)&&t.aIsStrong){const d=e.targetPosition._getTransformedByMergeOperation(e),p=c.targetPosition._getTransformedByMergeOperation(e);return[new _t(d,c.howMany,p,0)]}return[new yn(0)]}return c.sourcePosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMergeOperation(e),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),c.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(e)),[c]}),ht(tn,_t,(c,e,t)=>{const i=oe._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&c.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(c.sourcePosition)?[new yn(0)]:(c.sourcePosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.sourcePosition.hasSameParentAs(e.sourcePosition)&&(c.howMany-=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMoveOperation(e),c.targetPosition=c.targetPosition._getTransformedByMoveOperation(e),c.graveyardPosition.isEqual(e.targetPosition)||(c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(e)),[c])}),ht(tn,Rt,(c,e,t)=>{if(e.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),c.deletionPosition.isEqual(e.graveyardPosition)&&(c.howMany=e.howMany)),c.targetPosition.isEqual(e.splitPosition)){const i=e.howMany!=0,l=e.graveyardPosition&&c.deletionPosition.isEqual(e.graveyardPosition);if(i||l||t.abRelation=="mergeTargetNotMoved")return c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(e),[c]}if(c.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return c.howMany=0,c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c];if(t.abRelation=="mergeSameElement"||c.sourcePosition.offset>0)return c.sourcePosition=e.moveTargetPosition.clone(),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c]}return c.sourcePosition.hasSameParentAs(e.splitPosition)&&(c.howMany=e.splitPosition.offset),c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(e),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c]}),ht(_t,Dn,(c,e)=>{const t=oe._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByInsertOperation(e,!1)[0];return c.sourcePosition=t.start,c.howMany=t.end.offset-t.start.offset,c.targetPosition.isEqual(e.position)||(c.targetPosition=c.targetPosition._getTransformedByInsertOperation(e)),[c]}),ht(_t,_t,(c,e,t)=>{const i=oe._createFromPositionAndShift(c.sourcePosition,c.howMany),l=oe._createFromPositionAndShift(e.sourcePosition,e.howMany);let d,p=t.aIsStrong,g=!t.aIsStrong;if(t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?g=!0:t.abRelation!="insertAfter"&&t.baRelation!="insertBefore"||(g=!1),d=c.targetPosition.isEqual(e.targetPosition)&&g?c.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):c.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),BA(c,e)&&BA(e,c))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(l,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ac([i],d);if(l.containsPosition(c.targetPosition)&&l.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Ac([i],d);const b=X(c.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(b=="prefix"||b=="extension")return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ac([i],d);c.type!="remove"||e.type=="remove"||t.aWasUndone||t.forceWeakRemove?c.type=="remove"||e.type!="remove"||t.bWasUndone||t.forceWeakRemove||(p=!1):p=!0;const w=[],y=i.getDifference(l);for(const E of y){E.start=E.start._getTransformedByDeletion(e.sourcePosition,e.howMany),E.end=E.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const D=X(E.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",M=E._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,D);w.push(...M)}const A=i.getIntersection(l);return A!==null&&p&&(A.start=A.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),A.end=A.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),w.length===0?w.push(A):w.length==1?l.start.isBefore(i.start)||l.start.isEqual(i.start)?w.unshift(A):w.push(A):w.splice(1,0,A)),w.length===0?[new yn(c.baseVersion)]:Ac(w,d)}),ht(_t,Rt,(c,e,t)=>{let i=c.targetPosition.clone();c.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&t.abRelation!="moveTargetAfter"||(i=c.targetPosition._getTransformedBySplitOperation(e));const l=oe._createFromPositionAndShift(c.sourcePosition,c.howMany);if(l.end.isEqual(e.insertionPosition))return e.graveyardPosition||c.howMany++,c.targetPosition=i,[c];if(l.start.hasSameParentAs(e.splitPosition)&&l.containsPosition(e.splitPosition)){let p=new oe(e.splitPosition,l.end);return p=p._getTransformedBySplitOperation(e),Ac([new oe(l.start,e.splitPosition),p],i)}c.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(i=e.moveTargetPosition),c.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(i=c.targetPosition);const d=[l._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const p=l.start.isEqual(e.graveyardPosition)||l.containsPosition(e.graveyardPosition);c.howMany>1&&p&&!t.aWasUndone&&d.push(oe._createFromPositionAndShift(e.insertionPosition,1))}return Ac(d,i)}),ht(_t,tn,(c,e,t)=>{const i=oe._createFromPositionAndShift(c.sourcePosition,c.howMany);if(e.deletionPosition.hasSameParentAs(c.sourcePosition)&&i.containsPosition(e.sourcePosition)){if(c.type!="remove"||t.forceWeakRemove){if(c.howMany==1)return t.bWasUndone?(c.sourcePosition=e.graveyardPosition.clone(),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),[c]):[new yn(0)]}else if(!t.aWasUndone){const d=[];let p=e.graveyardPosition.clone(),g=e.targetPosition._getTransformedByMergeOperation(e);c.howMany>1&&(d.push(new _t(c.sourcePosition,c.howMany-1,c.targetPosition,0)),p=p._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1),g=g._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1));const b=e.deletionPosition._getCombined(c.sourcePosition,c.targetPosition),w=new _t(p,1,b,0),y=w.getMovedRangeStart().path.slice();y.push(0);const A=new ue(w.targetPosition.root,y);g=g._getTransformedByMove(p,b,1);const E=new _t(g,e.howMany,A,0);return d.push(w),d.push(E),d}}const l=oe._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByMergeOperation(e);return c.sourcePosition=l.start,c.howMany=l.end.offset-l.start.offset,c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),[c]}),ht(pr,Dn,(c,e)=>(c.position=c.position._getTransformedByInsertOperation(e),[c])),ht(pr,tn,(c,e)=>c.position.isEqual(e.deletionPosition)?(c.position=e.graveyardPosition.clone(),c.position.stickiness="toNext",[c]):(c.position=c.position._getTransformedByMergeOperation(e),[c])),ht(pr,_t,(c,e)=>(c.position=c.position._getTransformedByMoveOperation(e),[c])),ht(pr,pr,(c,e,t)=>{if(c.position.isEqual(e.position)){if(!t.aIsStrong)return[new yn(0)];c.oldName=e.newName}return[c]}),ht(pr,Rt,(c,e)=>{if(X(c.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const t=new pr(c.position.getShiftedBy(1),c.oldName,c.newName,0);return[c,t]}return c.position=c.position._getTransformedBySplitOperation(e),[c]}),ht(mi,mi,(c,e,t)=>{if(c.root===e.root&&c.key===e.key){if(!t.aIsStrong||c.newValue===e.newValue)return[new yn(0)];c.oldValue=e.newValue}return[c]}),ht(qo,qo,(c,e)=>c.rootName===e.rootName&&c.isAdd===e.isAdd?[new yn(0)]:[c]),ht(Rt,Dn,(c,e)=>(c.splitPosition.hasSameParentAs(e.position)&&c.splitPosition.offset<e.position.offset&&(c.howMany+=e.howMany),c.splitPosition=c.splitPosition._getTransformedByInsertOperation(e),c.insertionPosition=c.insertionPosition._getTransformedByInsertOperation(e),[c])),ht(Rt,tn,(c,e,t)=>{if(!c.graveyardPosition&&!t.bWasUndone&&c.splitPosition.hasSameParentAs(e.sourcePosition)){const i=e.graveyardPosition.path.slice();i.push(0);const l=new ue(e.graveyardPosition.root,i),d=Rt.getInsertionPosition(new ue(e.graveyardPosition.root,i)),p=new Rt(l,0,d,null,0);return c.splitPosition=c.splitPosition._getTransformedByMergeOperation(e),c.insertionPosition=Rt.getInsertionPosition(c.splitPosition),c.graveyardPosition=p.insertionPosition.clone(),c.graveyardPosition.stickiness="toNext",[p,c]}return c.splitPosition.hasSameParentAs(e.deletionPosition)&&!c.splitPosition.isAfter(e.deletionPosition)&&c.howMany--,c.splitPosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.splitPosition=c.splitPosition._getTransformedByMergeOperation(e),c.insertionPosition=Rt.getInsertionPosition(c.splitPosition),c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(e)),[c]}),ht(Rt,_t,(c,e,t)=>{const i=oe._createFromPositionAndShift(e.sourcePosition,e.howMany);if(c.graveyardPosition){const d=i.start.isEqual(c.graveyardPosition)||i.containsPosition(c.graveyardPosition);if(!t.bWasUndone&&d){const p=c.splitPosition._getTransformedByMoveOperation(e),g=c.graveyardPosition._getTransformedByMoveOperation(e),b=g.path.slice();b.push(0);const w=new ue(g.root,b);return[new _t(p,c.howMany,w,0)]}c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(e)}const l=c.splitPosition.isEqual(e.targetPosition);if(l&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return c.howMany+=e.howMany,c.splitPosition=c.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),c.insertionPosition=Rt.getInsertionPosition(c.splitPosition),[c];if(l&&t.abRelation&&t.abRelation.howMany){const{howMany:d,offset:p}=t.abRelation;return c.howMany+=d,c.splitPosition=c.splitPosition.getShiftedBy(p),[c]}if(c.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(c.splitPosition)){const d=e.howMany-(c.splitPosition.offset-e.sourcePosition.offset);return c.howMany-=d,c.splitPosition.hasSameParentAs(e.targetPosition)&&c.splitPosition.offset<e.targetPosition.offset&&(c.howMany+=e.howMany),c.splitPosition=e.sourcePosition.clone(),c.insertionPosition=Rt.getInsertionPosition(c.splitPosition),[c]}return e.sourcePosition.isEqual(e.targetPosition)||(c.splitPosition.hasSameParentAs(e.sourcePosition)&&c.splitPosition.offset<=e.sourcePosition.offset&&(c.howMany-=e.howMany),c.splitPosition.hasSameParentAs(e.targetPosition)&&c.splitPosition.offset<e.targetPosition.offset&&(c.howMany+=e.howMany)),c.splitPosition.stickiness="toNone",c.splitPosition=c.splitPosition._getTransformedByMoveOperation(e),c.splitPosition.stickiness="toNext",c.graveyardPosition?c.insertionPosition=c.insertionPosition._getTransformedByMoveOperation(e):c.insertionPosition=Rt.getInsertionPosition(c.splitPosition),[c]}),ht(Rt,Rt,(c,e,t)=>{if(c.splitPosition.isEqual(e.splitPosition)){if(!c.graveyardPosition&&!e.graveyardPosition)return[new yn(0)];if(c.graveyardPosition&&e.graveyardPosition&&c.graveyardPosition.isEqual(e.graveyardPosition))return[new yn(0)];if(t.abRelation=="splitBefore")return c.howMany=0,c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(e),[c]}if(c.graveyardPosition&&e.graveyardPosition&&c.graveyardPosition.isEqual(e.graveyardPosition)){const i=c.splitPosition.root.rootName=="$graveyard",l=e.splitPosition.root.rootName=="$graveyard";if(l&&!i||!(i&&!l)&&t.aIsStrong){const d=[];return e.howMany&&d.push(new _t(e.moveTargetPosition,e.howMany,e.splitPosition,0)),c.howMany&&d.push(new _t(c.splitPosition,c.howMany,c.moveTargetPosition,0)),d}return[new yn(0)]}if(c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(e)),c.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return c.howMany++,[c];if(e.splitPosition.isEqual(c.insertionPosition)&&t.baRelation=="splitBefore"){const i=e.insertionPosition.path.slice();i.push(0);const l=new ue(e.insertionPosition.root,i);return[c,new _t(c.insertionPosition,1,l,0)]}return c.splitPosition.hasSameParentAs(e.splitPosition)&&c.splitPosition.offset<e.splitPosition.offset&&(c.howMany-=e.howMany),c.splitPosition=c.splitPosition._getTransformedBySplitOperation(e),c.insertionPosition=Rt.getInsertionPosition(c.splitPosition),[c]});class Fn extends ge(ue){constructor(e,t,i="toNone"){if(super(e,t,i),!this.root.is("rootElement"))throw new z("model-liveposition-root-not-rootelement",e);kB.call(this)}detach(){this.stopListening()}toPosition(){return new ue(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function kB(){this.listenTo(this.root.document.model,"applyOperation",(c,e)=>{const t=e[0];t.isDocumentOperation&&bB.call(this,t)},{priority:"low"})}function bB(c){const e=this.getTransformedByOperation(c);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Fn.prototype.is=function(c){return c==="livePosition"||c==="model:livePosition"||c=="position"||c==="model:position"};class xc{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},te("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:i=!0,isUndo:l=!1,isTyping:d=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=i,this.isUndo=l,this.isTyping=d}get type(){return te("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var wB=Object.defineProperty,vB=Object.defineProperties,yB=Object.getOwnPropertyDescriptors,RA=Object.getOwnPropertySymbols,_B=Object.prototype.hasOwnProperty,CB=Object.prototype.propertyIsEnumerable,LA=(c,e,t)=>e in c?wB(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,jA=(c,e)=>{for(var t in e||(e={}))_B.call(e,t)&&LA(c,t,e[t]);if(RA)for(var t of RA(e))CB.call(e,t)&&LA(c,t,e[t]);return c};class AB{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const i of t.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const i=this._isInInsertedElement(t.sourcePosition.parent),l=this._isInInsertedElement(t.targetPosition.parent);i||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),l||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const i=oe._createFromPositionAndShift(t.position,1);for(const l of this._markerCollection.getMarkersIntersectingRange(i)){const d=l.getData();this.bufferMarkerChange(l.name,d,d)}break}case"split":{const i=t.splitPosition.parent;this._isInInsertedElement(i)||this._markRemove(i,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const i=t.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const l=t.graveyardPosition.parent;this._markInsert(l,t.graveyardPosition.offset,1);const d=t.targetPosition.parent;this._isInInsertedElement(d)||this._markInsert(d,t.targetPosition.offset,i.maxOffset);break}case"detachRoot":case"addRoot":{const i=t.affectedSelectable;if(!i._isLoaded||i.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const i=t.root.rootName;this._bufferRootAttributeChange(i,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,i){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null);let l=this._changedMarkers.get(e);l?l.newMarkerData=i:(l={newMarkerData:i,oldMarkerData:t},this._changedMarkers.set(e,l)),l.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,i]of this._changedMarkers)i.oldMarkerData.range!=null&&e.push({name:t,range:i.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,i]of this._changedMarkers)i.newMarkerData.range!=null&&e.push({name:t,range:i.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const i=e.range&&!t.range,l=!e.range&&t.range,d=e.range&&t.range&&!e.range.isEqual(t.range);if(i||l||d)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const i of this._changesInElement.keys()){const l=this._changesInElement.get(i).sort((y,A)=>y.offset===A.offset?y.type!=A.type?y.type=="remove"?-1:1:0:y.offset<A.offset?-1:1),d=this._elementSnapshots.get(i),p=zA(i.getChildren()),g=xB(d.length,l);let b=0,w=0;for(const y of g)if(y==="i")t.push(this._getInsertDiff(i,b,p[b])),b++;else if(y==="r")t.push(this._getRemoveDiff(i,b,d[w])),w++;else if(y==="a"){const A=p[b].attributes,E=d[w].attributes;let D;if(p[b].name=="$text")D=new oe(ue._createAt(i,b),ue._createAt(i,b+1));else{const M=i.offsetToIndex(b);D=new oe(ue._createAt(i,b),ue._createAt(i.getChild(M),0))}t.push(...this._getAttributesDiff(D,E,A)),b++,w++}else b++,w++}t.sort((i,l)=>i.position.root!=l.position.root?i.position.root.rootName<l.position.root.rootName?-1:1:i.position.isEqual(l.position)?i.changeCount-l.changeCount:i.position.isBefore(l.position)?-1:1);for(let i=1,l=0;i<t.length;i++){const d=t[l],p=t[i],g=d.type=="remove"&&p.type=="remove"&&d.name=="$text"&&p.name=="$text"&&d.position.isEqual(p.position),b=d.type=="insert"&&p.type=="insert"&&d.name=="$text"&&p.name=="$text"&&d.position.parent==p.position.parent&&d.position.offset+d.length==p.position.offset,w=d.type=="attribute"&&p.type=="attribute"&&d.position.parent==p.position.parent&&d.range.isFlat&&p.range.isFlat&&d.position.offset+d.length==p.position.offset&&d.attributeKey==p.attributeKey&&d.attributeOldValue==p.attributeOldValue&&d.attributeNewValue==p.attributeNewValue;g||b||w?(d.length++,w&&(d.range.end=d.range.end.getShiftedBy(1)),t[i]=null):l=i}t=t.filter(i=>i);for(const i of t)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(EB),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t=jA({},e);return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const i=this._changedRoots.get(e);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(e)):i.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,i,l){const d=this._changedRoots.get(e)||{name:e},p=d.attributes||{};if(p[t]){const g=p[t];l===g.oldValue?delete p[t]:g.newValue=l}else p[t]={oldValue:i,newValue:l};Object.entries(p).length===0?(delete d.attributes,d.state===void 0&&this._changedRoots.delete(e)):(d.attributes=p,this._changedRoots.set(e,d))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=oe._createOn(e);for(const i of this._markerCollection.getMarkersIntersectingRange(t)){const l=i.getData();this.bufferMarkerChange(i.name,l,l)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const i of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,i,null,e.getAttribute(i));for(const i of this._markerCollection)if(i.getRange().root==e){const l=i.getData();this.bufferMarkerChange(i.name,(t=jA({},l),vB(t,yB({range:null}))),l)}var t}}_markInsert(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const l={type:"insert",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,l)}_markRemove(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const l={type:"remove",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,l),this._removeAllNestedChanges(e,t,i)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const i=this._getChangesForElement(e);this._handleChange(t,i),i.push(t);for(let l=0;l<i.length;l++)i[l].howMany<1&&(i.splice(l,1),l--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,zA(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const i of t){const l=e.offset+e.howMany,d=i.offset+i.howMany;if(e.type=="insert"&&(i.type=="insert"&&(e.offset<=i.offset?i.offset+=e.howMany:e.offset<d&&(i.howMany+=e.nodesToHandle,e.nodesToHandle=0)),i.type=="remove"&&e.offset<i.offset&&(i.offset+=e.howMany),i.type=="attribute")){if(e.offset<=i.offset)i.offset+=e.howMany;else if(e.offset<d){const p=i.howMany;i.howMany=e.offset-i.offset,t.unshift({type:"attribute",offset:l,howMany:p-i.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(i.type=="insert"){if(l<=i.offset)i.offset-=e.howMany;else if(l<=d)if(e.offset<i.offset){const p=l-i.offset;i.offset=e.offset,i.howMany-=p,e.nodesToHandle-=p}else i.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=i.offset)e.nodesToHandle-=i.howMany,i.howMany=0;else if(e.offset<d){const p=d-e.offset;i.howMany-=p,e.nodesToHandle-=p}}if(i.type=="remove"&&(l<=i.offset?i.offset-=e.howMany:e.offset<i.offset&&(e.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(l<=i.offset)i.offset-=e.howMany;else if(e.offset<i.offset){const p=l-i.offset;i.offset=e.offset,i.howMany-=p}else if(e.offset<d)if(l<=d){const p=i.howMany;i.howMany=e.offset-i.offset;const g=p-i.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:g,count:this._changeCount++})}else i.howMany-=d-e.offset}}if(e.type=="attribute"){if(i.type=="insert")if(e.offset<i.offset&&l>i.offset){if(l>d){const p={type:"attribute",offset:d,howMany:l-d,count:this._changeCount++};this._handleChange(p,t),t.push(p)}e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=i.offset&&e.offset<d&&(l>d?(e.nodesToHandle=l-d,e.offset=d):e.nodesToHandle=0);if(i.type=="remove"&&e.offset<i.offset&&l>i.offset){const p={type:"attribute",offset:i.offset,howMany:l-i.offset,count:this._changeCount++};this._handleChange(p,t),t.push(p),e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}i.type=="attribute"&&(e.offset>=i.offset&&l<=d?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=i.offset&&l>=d&&(i.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,i){return{type:"insert",position:ue._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,i){return{type:"remove",position:ue._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,i){const l=[];i=new Map(i);for(const[d,p]of t){const g=i.has(d)?i.get(d):null;g!==p&&l.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:d,attributeOldValue:p,attributeNewValue:g,changeCount:this._changeCount++}),i.delete(d)}for(const[d,p]of i)l.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:d,attributeOldValue:null,attributeNewValue:p,changeCount:this._changeCount++});return l}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const i=this._changesInElement.get(t),l=e.startOffset;if(i){for(const d of i)if(d.type=="insert"&&l>=d.offset&&l<d.offset+d.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,i){const l=new oe(ue._createAt(e,t),ue._createAt(e,t+i));for(const d of l.getItems({shallow:!0}))d.is("element")&&(this._elementSnapshots.delete(d),this._changesInElement.delete(d),this._removeAllNestedChanges(d,0,d.maxOffset))}}function zA(c){const e=[];for(const t of c)if(t.is("$text"))for(let i=0;i<t.data.length;i++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function xB(c,e){const t=[];let i=0,l=0;for(const d of e){if(d.offset>i){for(let p=0;p<d.offset-i;p++)t.push("e");l+=d.offset-i}if(d.type=="insert"){for(let p=0;p<d.howMany;p++)t.push("i");i=d.offset+d.howMany}else if(d.type=="remove"){for(let p=0;p<d.howMany;p++)t.push("r");i=d.offset,l+=d.howMany}else t.push(..."a".repeat(d.howMany).split("")),i=d.offset+d.howMany,l+=d.howMany}if(l<c)for(let d=0;d<c-l-i;d++)t.push("e");return t}function EB(c){const e="position"in c&&c.position.root.rootName=="$graveyard",t="range"in c&&c.range.root.rootName=="$graveyard";return!e&&!t}class SB{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new z("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const i=this._operations[0];e===void 0&&(e=i.baseVersion);let l=t-1;for(const[g,b]of this._gaps)e>g&&e<b&&(e=b),l>g&&l<b&&(l=g-1);if(l<i.baseVersion||e>this.lastOperation.baseVersion)return[];let d=this._baseVersionToOperationIndex.get(e);d===void 0&&(d=0);let p=this._baseVersionToOperationIndex.get(l);return p===void 0&&(p=this._operations.length-1),this._operations.slice(d,p+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class hp extends Tt{constructor(e,t,i="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=i}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}hp.prototype.is=function(c,e){return e?e===this.name&&(c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"):c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"||c==="node"||c==="model:node"};var DB=Object.defineProperty,TB=Object.defineProperties,IB=Object.getOwnPropertyDescriptors,FA=Object.getOwnPropertySymbols,MB=Object.prototype.hasOwnProperty,PB=Object.prototype.propertyIsEnumerable,UA=(c,e,t)=>e in c?DB(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,VA=(c,e)=>{for(var t in e||(e={}))MB.call(e,t)&&UA(c,t,e[t]);if(FA)for(var t of FA(e))PB.call(e,t)&&UA(c,t,e[t]);return c},HA=(c,e)=>TB(c,IB(e));const WA="$graveyard";class NB extends ge(){constructor(e){super(),this.model=e,this.history=new SB,this.selection=new ko(this),this.roots=new lo({idProperty:"rootName"}),this.differ=new AB(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",WA),this.listenTo(e,"applyOperation",(t,i)=>{const l=i[0];l.isDocumentOperation&&this.differ.bufferOperation(l)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,i)=>{const l=i[0];l.isDocumentOperation&&this.history.addOperation(l)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,i,l,d,p)=>{const g=HA(VA({},i.getData()),{range:d});this.differ.bufferMarkerChange(i.name,p,g),l===null&&i.on("change",(b,w)=>{const y=i.getData();this.differ.bufferMarkerChange(i.name,HA(VA({},y),{range:w}),y)})}),this.registerPostFixer(t=>{let i=!1;for(const l of this.roots)l.isAttached()||l.isEmpty||(t.remove(t.createRangeIn(l)),i=!0);for(const l of this.model.markers)l.getRange().root.isAttached()||(t.removeMarker(l),i=!0);return i})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(WA)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new z("model-document-createroot-name-exists",this,{name:t});const i=new hp(this,e,t);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return Array.from(this.roots).filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=oC(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,i=t.schema,l=t.createPositionFromPath(e,[0]);return i.getNearestSelectionRange(l)||t.createRange(l)}_validateSelectionRange(e){return $A(e.start)&&$A(e.end)}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(this.selection.refresh(),t=i(e),t)break;while(t)}}function $A(c){const e=c.textNode;if(e){const t=e.data,i=c.offset-e.startOffset;return!ck(t,i)&&!lk(t,i)}return!0}var OB=Object.defineProperty,BB=Object.defineProperties,RB=Object.getOwnPropertyDescriptors,YA=Object.getOwnPropertySymbols,LB=Object.prototype.hasOwnProperty,jB=Object.prototype.propertyIsEnumerable,qA=(c,e,t)=>e in c?OB(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;class zB extends ge(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof Ec?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,i=!1,l=!1){const d=e instanceof Ec?e.name:e;if(d.includes(","))throw new z("markercollection-incorrect-marker-name",this);const p=this._markers.get(d);if(p){const y=p.getData(),A=p.getRange();let E=!1;return A.isEqual(t)||(p._attachLiveRange(Sr.fromRange(t)),E=!0),i!=p.managedUsingOperations&&(p._managedUsingOperations=i,E=!0),typeof l=="boolean"&&l!=p.affectsData&&(p._affectsData=l,E=!0),E&&this.fire(`update:${d}`,p,A,t,y),p}const g=Sr.fromRange(t),b=new Ec(d,g,i,l);var w;return this._markers.set(d,b),this.fire(`update:${d}`,b,null,t,(w=((y,A)=>{for(var E in A||(A={}))LB.call(A,E)&&qA(y,E,A[E]);if(YA)for(var E of YA(A))jB.call(A,E)&&qA(y,E,A[E]);return y})({},b.getData()),BB(w,RB({range:null})))),b}_remove(e){const t=e instanceof Ec?e.name:e,i=this._markers.get(t);return!!i&&(this._markers.delete(t),this.fire(`update:${t}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0)}_refresh(e){const t=e instanceof Ec?e.name:e,i=this._markers.get(t);if(!i)throw new z("markercollection-refresh-marker-not-exists",this);const l=i.getRange();this.fire(`update:${t}`,i,l,l,i.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Ec extends ge(as){constructor(e,t,i,l){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=i,this._affectsData=l}get managedUsingOperations(){if(!this._liveRange)throw new z("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new z("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new z("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new z("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new z("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ec.prototype.is=function(c){return c==="marker"||c==="model:marker"};class FB extends Dr{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new z("detach-operation-on-document-node",this)}_execute(){SA(oe._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ki extends as{constructor(e){super(),this.markers=new Map,this._children=new Cu,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const i of e)i.name?t.push(Tt.fromJSON(i)):t.push(Bt.fromJSON(i));return new ki(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=function(l){return typeof l=="string"?[new Bt(l)]:(se(l)||(l=[l]),Array.from(l).map(d=>typeof d=="string"?new Bt(d):d instanceof mo?new Bt(d.data,d.getAttributes()):d))}(t);for(const l of i)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const l of i)l.parent=null;return i}}ki.prototype.is=function(c){return c==="documentFragment"||c==="model:documentFragment"};class UB{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Bt(e,t)}createElement(e,t){return new Tt(e,t)}createDocumentFragment(){return new ki}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,i=0){if(this._assertWriterUsedCorrectly(),e instanceof Bt&&e.data=="")return;const l=ue._createAt(t,i);if(e.parent){if(QA(e.root,l.root))return void this.move(oe._createOn(e),l);if(e.root.document)throw new z("model-writer-insert-forbidden-move",this);this.remove(e)}const d=l.root.document?l.root.document.version:null,p=new Dn(l,e,d);if(e instanceof Bt&&(p.shouldReceiveAttributes=!0),this.batch.addOperation(p),this.model.applyOperation(p),e instanceof ki)for(const[g,b]of e.markers){const w=ue._createAt(b.root,0),y={range:new oe(b.start._getCombined(w,l),b.end._getCombined(w,l)),usingOperation:!0,affectsData:!0};this.model.markers.has(g)?this.updateMarker(g,y):this.addMarker(g,y)}}insertText(e,t,i,l){t instanceof ki||t instanceof Tt||t instanceof ue?this.insert(this.createText(e),t,i):this.insert(this.createText(e,t),i,l)}insertElement(e,t,i,l){t instanceof ki||t instanceof Tt||t instanceof ue?this.insert(this.createElement(e),t,i):this.insert(this.createElement(e,t),i,l)}append(e,t){this.insert(e,t,"end")}appendText(e,t,i){t instanceof ki||t instanceof Tt?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),i,"end")}appendElement(e,t,i){t instanceof ki||t instanceof Tt?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),i,"end")}setAttribute(e,t,i){if(this._assertWriterUsedCorrectly(),i instanceof oe){const l=i.getMinimalFlatRanges();for(const d of l)KA(this,e,t,d)}else GA(this,e,t,i)}setAttributes(e,t){for(const[i,l]of Ho(e))this.setAttribute(i,l,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof oe){const i=t.getMinimalFlatRanges();for(const l of i)KA(this,e,null,l)}else GA(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=i=>{for(const l of i.getAttributeKeys())this.removeAttribute(l,i)};if(e instanceof oe)for(const i of e.getItems())t(i);else t(e)}move(e,t,i){if(this._assertWriterUsedCorrectly(),!(e instanceof oe))throw new z("writer-move-invalid-range",this);if(!e.isFlat)throw new z("writer-move-range-not-flat",this);const l=ue._createAt(t,i);if(l.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!QA(e.root,l.root))throw new z("writer-move-different-document",this);const d=e.root.document?e.root.document.version:null,p=new _t(e.start,e.end.offset-e.start.offset,l,d);this.batch.addOperation(p),this.model.applyOperation(p)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof oe?e:oe._createOn(e)).getMinimalFlatRanges().reverse();for(const i of t)this._addOperationForAffectedMarkers("move",i),VB(i.start,i.end.offset-i.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,i=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Tt))throw new z("writer-merge-no-element-before",this);if(!(i instanceof Tt))throw new z("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,i){return this.model.createPositionFromPath(e,t,i)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,i=e.nodeAfter;this.move(oe._createIn(i),ue._createAt(t,"end")),this.remove(i)}_merge(e){const t=ue._createAt(e.nodeBefore,"end"),i=ue._createAt(e.nodeAfter,0),l=e.root.document.graveyard,d=new ue(l,[0]),p=e.root.document.version,g=new tn(i,e.nodeAfter.maxOffset,t,d,p);this.batch.addOperation(g),this.model.applyOperation(g)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Tt))throw new z("writer-rename-not-element-instance",this);const i=e.root.document?e.root.document.version:null,l=new pr(ue._createBefore(e),e.name,t,i);this.batch.addOperation(l),this.model.applyOperation(l)}split(e,t){this._assertWriterUsedCorrectly();let i,l,d=e.parent;if(!d.parent)throw new z("writer-split-element-no-parent",this);if(t||(t=d.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new z("writer-split-invalid-limit-element",this);do{const p=d.root.document?d.root.document.version:null,g=d.maxOffset-e.offset,b=Rt.getInsertionPosition(e),w=new Rt(e,g,b,null,p);this.batch.addOperation(w),this.model.applyOperation(w),i||l||(i=d,l=e.parent.nextSibling),d=(e=this.createPositionAfter(e.parent)).parent}while(d!==t);return{position:e,range:new oe(ue._createAt(i,"end"),ue._createAt(l,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new z("writer-wrap-range-not-flat",this);const i=t instanceof Tt?t:new Tt(t);if(i.childCount>0)throw new z("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new z("writer-wrap-element-attached",this);this.insert(i,e.start);const l=new oe(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(l,ue._createAt(i,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new z("writer-unwrap-element-no-parent",this);this.move(oe._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new z("writer-addmarker-no-usingoperation",this);const i=t.usingOperation,l=t.range,d=t.affectsData!==void 0&&t.affectsData;if(this.model.markers.has(e))throw new z("writer-addmarker-marker-exists",this);if(!l)throw new z("writer-addmarker-no-range",this);return i?(Mu(this,e,null,l,d),this.model.markers.get(e)):this.model.markers._set(e,l,i,d)}updateMarker(e,t){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name,l=this.model.markers.get(i);if(!l)throw new z("writer-updatemarker-marker-not-exists",this);if(!t)return te("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),void this.model.markers._refresh(l);const d=typeof t.usingOperation=="boolean",p=typeof t.affectsData=="boolean",g=p?t.affectsData:l.affectsData;if(!d&&!t.range&&!p)throw new z("writer-updatemarker-wrong-options",this);const b=l.getRange(),w=t.range?t.range:b;d&&t.usingOperation!==l.managedUsingOperations?t.usingOperation?Mu(this,i,null,w,g):(Mu(this,i,b,null,g),this.model.markers._set(i,w,void 0,g)):l.managedUsingOperations?Mu(this,i,b,w,g):this.model.markers._set(i,w,void 0,g)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new z("writer-removemarker-no-marker",this);const i=this.model.markers.get(t);if(!i.managedUsingOperations)return void this.model.markers._remove(t);Mu(this,t,i.getRange(),null,i.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(e);if(i&&i.isAttached())throw new z("writer-addroot-root-exists",this);const l=this.model.document,d=new qo(e,t,!0,l,l.version);return this.batch.addOperation(d),this.model.applyOperation(d),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new z("writer-detachroot-no-root",this);for(const d of this.model.markers)d.getRange().root===t&&this.removeMarker(d);for(const d of t.getAttributeKeys())this.removeAttribute(d,t);this.remove(this.createRangeIn(t));const i=this.model.document,l=new qo(t.rootName,t.name,!1,i,i.version);this.batch.addOperation(l),this.model.applyOperation(l)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[i,l]of Ho(e))this._setSelectionAttribute(i,l)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const l=ko._getStoreAttributeKey(e);this.setAttribute(l,t,i.anchor.parent)}i._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const i=ko._getStoreAttributeKey(e);this.removeAttribute(i,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new z("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const l=i.getRange();let d=!1;if(e==="move"){const p=t;d=p.containsPosition(l.start)||p.start.isEqual(l.start)||p.containsPosition(l.end)||p.end.isEqual(l.end)}else{const p=t,g=p.nodeBefore,b=p.nodeAfter,w=l.start.parent==g&&l.start.isAtEnd,y=l.end.parent==b&&l.end.offset==0,A=l.end.nodeAfter==b,E=l.start.nodeAfter==b;d=w||y||A||E}d&&this.updateMarker(i.name,{range:l})}}}function KA(c,e,t,i){const l=c.model,d=l.document;let p,g,b,w=i.start;for(const A of i.getWalker({shallow:!0}))b=A.item.getAttribute(e),p&&g!=b&&(g!=t&&y(),w=p),p=A.nextPosition,g=b;function y(){const A=new oe(w,p),E=A.root.document?d.version:null,D=new dn(A,e,g,t,E);c.batch.addOperation(D),l.applyOperation(D)}p instanceof ue&&p!=w&&g!=t&&y()}function GA(c,e,t,i){const l=c.model,d=l.document,p=i.getAttribute(e);let g,b;if(p!=t){if(i.root===i){const w=i.document?d.version:null;b=new mi(i,e,p,t,w)}else{g=new oe(ue._createBefore(i),c.createPositionAfter(i));const w=g.root.document?d.version:null;b=new dn(g,e,p,t,w)}c.batch.addOperation(b),l.applyOperation(b)}}function Mu(c,e,t,i,l){const d=c.model,p=d.document,g=new hr(e,t,i,d.markers,!!l,p.version);c.batch.addOperation(g),d.applyOperation(g)}function VB(c,e,t,i){let l;if(c.root.document){const d=i.document,p=new ue(d.graveyard,[0]);l=new _t(c,e,p,d.version)}else l=new FB(c,e);t.addOperation(l),i.applyOperation(l)}function QA(c,e){return c===e||c instanceof hp&&e instanceof hp}function HB(c,e,t={}){if(e.isCollapsed)return;const i=e.getFirstRange();if(i.root.rootName=="$graveyard")return;const l=c.schema;c.change(d=>{if(!t.doNotResetEntireContent&&function(w,y){const A=w.getLimitElement(y);if(!y.containsEntireContent(A))return!1;const E=y.getFirstRange();return E.start.parent==E.end.parent?!1:w.checkChild(A,"paragraph")}(l,e))return void function(w,y){const A=w.model.schema.getLimitElement(y);w.remove(w.createRangeIn(A)),XA(w,w.createPositionAt(A,0),y)}(d,e);const p={};if(!t.doNotAutoparagraph){const w=e.getSelectedElement();w&&Object.assign(p,l.getAttributesWithProperty(w,"copyOnReplace",!0))}const[g,b]=function(w){const y=w.root.document.model,A=w.start;let E=w.end;if(y.hasContent(w,{ignoreMarkers:!0})){const D=function(M){const R=M.parent,U=R.root.document.model.schema,W=R.getAncestors({parentFirst:!0,includeSelf:!0});for(const J of W){if(U.isLimit(J))return null;if(U.isBlock(J))return J}}(E);if(D&&E.isTouching(y.createPositionAt(D,0))){const M=y.createSelection(w);y.modifySelection(M,{direction:"backward"});const R=M.getLastPosition(),U=y.createRange(R,E);y.hasContent(U,{ignoreMarkers:!0})||(E=R)}}return[Fn.fromPosition(A,"toPrevious"),Fn.fromPosition(E,"toNext")]}(i);g.isTouching(b)||d.remove(d.createRange(g,b)),t.leaveUnmerged||(function(w,y,A){const E=w.model;if(!Yk(w.model.schema,y,A))return;const[D,M]=function(R,U){const W=R.getAncestors(),J=U.getAncestors();let ie=0;for(;W[ie]&&W[ie]==J[ie];)ie++;return[W[ie],J[ie]]}(y,A);!D||!M||(!E.hasContent(D,{ignoreMarkers:!0})&&E.hasContent(M,{ignoreMarkers:!0})?JA(w,y,A,D.parent):ZA(w,y,A,D.parent))}(d,g,b),l.removeDisallowedAttributes(g.parent.getChildren(),d)),e1(d,e,g),!t.doNotAutoparagraph&&function(w,y){const A=w.checkChild(y,"$text"),E=w.checkChild(y,"paragraph");return!A&&E}(l,g)&&XA(d,g,e,p),g.detach(),b.detach()})}function ZA(c,e,t,i){const l=e.parent,d=t.parent;if(l!=i&&d!=i){for(e=c.createPositionAfter(l),(t=c.createPositionBefore(d)).isEqual(e)||c.insert(d,e),c.merge(e);t.parent.isEmpty;){const p=t.parent;t=c.createPositionBefore(p),c.remove(p)}Yk(c.model.schema,e,t)&&ZA(c,e,t,i)}}function JA(c,e,t,i){const l=e.parent,d=t.parent;if(l!=i&&d!=i){for(e=c.createPositionAfter(l),(t=c.createPositionBefore(d)).isEqual(e)||c.insert(l,t);e.parent.isEmpty;){const p=e.parent;e=c.createPositionBefore(p),c.remove(p)}t=c.createPositionBefore(d),function(p,g){const b=g.nodeBefore,w=g.nodeAfter;b.name!=w.name&&p.rename(b,w.name),p.clearAttributes(b),p.setAttributes(Object.fromEntries(w.getAttributes()),b),p.merge(g)}(c,t),Yk(c.model.schema,e,t)&&JA(c,e,t,i)}}function Yk(c,e,t){const i=e.parent,l=t.parent;return i!=l&&!c.isLimit(i)&&!c.isLimit(l)&&function(d,p,g){const b=new oe(d,p);for(const w of b.getWalker())if(g.isLimit(w.item))return!1;return!0}(e,t,c)}function XA(c,e,t,i={}){const l=c.createElement("paragraph");c.model.schema.setAllowedAttributes(l,i,c),c.insert(l,e),e1(c,t,c.createPositionAt(l,0))}function e1(c,e,t){e instanceof ko?c.setSelection(t):e.setTo(t)}function t1(c,e){const t=[];Array.from(c.getItems({direction:"backward"})).map(i=>e.createRangeOn(i)).filter(i=>(i.start.isAfter(c.start)||i.start.isEqual(c.start))&&(i.end.isBefore(c.end)||i.end.isEqual(c.end))).forEach(i=>{t.push(i.start.parent),e.remove(i)}),t.forEach(i=>{let l=i;for(;l.parent&&l.isEmpty;){const d=e.createRangeOn(l);l=l.parent,e.remove(d)}})}class WB{constructor(e,t,i){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(e);if(i.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new z("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?oe._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new oe(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Fn.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new z("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Fn.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Fn.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Tt)||!this._canMergeLeft(e))return;const t=Fn._createBefore(e);t.stickiness="toNext";const i=Fn.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Fn._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Fn._createAt(t.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Tt)||!this._canMergeRight(e))return;const t=Fn._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new z("insertcontent-invalid-insertion-position",this);this.position=ue._createAt(t.nodeBefore,"end");const i=Fn.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Fn._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Fn._createAt(t.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof Tt&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof Tt&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===t&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function n1(c,e,t="auto"){const i=c.getSelectedElement();if(i&&e.schema.isObject(i)&&!e.schema.isInline(i))return t=="before"||t=="after"?e.createRange(e.createPositionAt(i,t)):e.createRangeOn(i);const l=vn(c.getSelectedBlocks());if(!l)return e.createRange(c.focus);if(l.isEmpty)return e.createRange(e.createPositionAt(l,0));const d=e.createPositionAfter(l);return c.focus.isTouching(d)?e.createRange(d):e.createRange(e.createPositionBefore(l))}function $B(c,e,t,i={}){if(!c.schema.isObject(e))throw new z("insertobject-element-not-an-object",c,{object:e});const l=t||c.document.selection;let d=l;i.findOptimalPosition&&c.schema.isBlock(e)&&(d=c.createSelection(n1(l,c,i.findOptimalPosition)));const p=vn(l.getSelectedBlocks()),g={};return p&&Object.assign(g,c.schema.getAttributesWithProperty(p,"copyOnReplace",!0)),c.change(b=>{d.isCollapsed||c.deleteContent(d,{doNotAutoparagraph:!0});let w=e;const y=d.anchor.parent;!c.schema.checkChild(y,e)&&c.schema.checkChild(y,"paragraph")&&c.schema.checkChild("paragraph",e)&&(w=b.createElement("paragraph"),b.insert(e,w)),c.schema.setAllowedAttributes(w,g,b);const A=c.insertContent(w,d);return A.isCollapsed||i.setSelection&&function(E,D,M,R){const U=E.model;if(M=="on")return void E.setSelection(D,"on");if(M!="after")throw new z("insertobject-invalid-place-parameter-value",U);let W=D.nextSibling;if(U.schema.isInline(D))return void E.setSelection(D,"after");!(W&&U.schema.checkChild(W,"$text"))&&U.schema.checkChild(D.parent,"paragraph")&&(W=E.createElement("paragraph"),U.schema.setAllowedAttributes(W,R,E),U.insertContent(W,E.createPositionAfter(D))),W&&E.setSelection(W,0)}(b,e,i.setSelection,g),A})}const YB=' ,.?!:;"-()';function qB(c,e){const{isForward:t,walker:i,unit:l,schema:d,treatEmojiAsSingleUnit:p}=c,{type:g,item:b,nextPosition:w}=e;if(g=="text")return c.unit==="word"?function(y,A){let E=y.position.textNode;for(E||(E=A?y.position.nodeAfter:y.position.nodeBefore);E&&E.is("$text");){const D=y.position.offset-E.startOffset;if(QB(E,D,A))E=A?y.position.nodeAfter:y.position.nodeBefore;else{if(GB(E.data,D,A))break;y.next()}}return y.position}(i,t):function(y,A,E){const D=y.position.textNode;if(D){const M=D.data;let R=y.position.offset-D.startOffset;for(;ck(M,R)||A=="character"&&lk(M,R)||E&&C_(M,R);)y.next(),R=y.position.offset-D.startOffset}return y.position}(i,l,p);if(g==(t?"elementStart":"elementEnd")){if(d.isSelectable(b))return ue._createAt(b,t?"after":"before");if(d.checkChild(w,"$text"))return w}else{if(d.isLimit(b))return void i.skip(()=>!0);if(d.checkChild(w,"$text"))return w}}function KB(c,e){const t=c.root,i=ue._createAt(t,e?"end":0);return e?new oe(c,i):new oe(i,c)}function GB(c,e,t){const i=e+(t?0:-1);return YB.includes(c.charAt(i))}function QB(c,e,t){return e===(t?c.offsetSize:0)}class ZB extends Ve(){constructor(){super(),this.markers=new zB,this.document=new NB(this),this.schema=new $4,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),V4(this),this.document.registerPostFixer(dA),this.on("insertContent",(e,[t,i])=>{e.return=function(l,d,p){return l.change(g=>{const b=p||l.document.selection;b.isCollapsed||l.deleteContent(b,{doNotAutoparagraph:!0});const w=new WB(l,g,b.anchor),y=[];let A;if(d.is("documentFragment")){if(d.markers.size){const M=[];for(const[R,U]of d.markers){const{start:W,end:J}=U,ie=W.isEqual(J);M.push({position:W,name:R,isCollapsed:ie},{position:J,name:R,isCollapsed:ie})}M.sort(({position:R},{position:U})=>R.isBefore(U)?1:-1);for(const{position:R,name:U,isCollapsed:W}of M){let J=null,ie=null;const ve=R.parent===d&&R.isAtStart,Be=R.parent===d&&R.isAtEnd;ve||Be?W&&(ie=ve?"start":"end"):(J=g.createElement("$marker"),g.insert(J,R)),y.push({name:U,element:J,collapsed:ie})}}A=d.getChildren()}else A=[d];w.handleNodes(A);let E=w.getSelectionRange();if(d.is("documentFragment")&&y.length){const M=E?Sr.fromRange(E):null,R={};for(let U=y.length-1;U>=0;U--){const{name:W,element:J,collapsed:ie}=y[U],ve=!R[W];if(ve&&(R[W]=[]),J){const Be=g.createPositionAt(J,"before");R[W].push(Be),g.remove(J)}else{const Be=w.getAffectedRange();if(!Be){ie&&R[W].push(w.position);continue}ie?R[W].push(Be[ie]):R[W].push(ve?Be.start:Be.end)}}for(const[U,[W,J]]of Object.entries(R))W&&J&&W.root===J.root&&g.addMarker(U,{usingOperation:!0,affectsData:!0,range:new oe(W,J)});M&&(E=M.toRange(),M.detach())}E&&(b instanceof ko?g.setSelection(E):b.setTo(E));const D=w.getAffectedRange()||l.createRange(b.anchor);return w.destroy(),D})}(this,t,i)}),this.on("insertObject",(e,[t,i,l])=>{e.return=$B(this,t,i,l)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new xc,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){z.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new xc):e instanceof xc||(e=new xc(e)):e=new xc,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(i){z.rethrowUnexpectedError(i,this)}}applyOperation(e){e._execute()}insertContent(e,t,i,...l){const d=qk(t,i);return this.fire("insertContent",[e,d,i,...l])}insertObject(e,t,i,l,...d){const p=qk(t,i);return this.fire("insertObject",[e,p,l,l,...d])}deleteContent(e,t){HB(this,e,t)}modifySelection(e,t){(function(i,l,d={}){const p=i.schema,g=d.direction!="backward",b=d.unit?d.unit:"character",w=!!d.treatEmojiAsSingleUnit,y=l.focus,A=new Yo({boundaries:KB(y,g),singleCharacters:!0,direction:g?"forward":"backward"}),E={walker:A,schema:p,isForward:g,unit:b,treatEmojiAsSingleUnit:w};let D;for(;D=A.next();){if(D.done)return;const M=qB(E,D.value);if(M)return void(l instanceof ko?i.change(R=>{R.setSelectionFocus(M)}):l.setFocus(M))}})(this,e,t)}getSelectedContent(e){return function(t,i){return t.change(l=>{const d=l.createDocumentFragment(),p=i.getFirstRange();if(!p||p.isCollapsed)return d;const g=p.start.root,b=p.start.getCommonPath(p.end),w=g.getNodeByPath(b);let y;y=p.start.parent==p.end.parent?p:l.createRange(l.createPositionAt(w,p.start.path[b.length]),l.createPositionAt(w,p.end.path[b.length]+1));const A=y.end.offset-y.start.offset;for(const E of y.getItems({shallow:!0}))E.is("$textProxy")?l.appendText(E.data,E.getAttributes(),d):l.append(l.cloneElement(E,!0),d);if(y!=p){const E=p._getTransformedByMove(y.start,l.createPositionAt(d,0),A)[0],D=l.createRange(l.createPositionAt(d,0),E.start);t1(l.createRange(E.end,l.createPositionAt(d,"end")),l),t1(D,l)}return d})}(this,e)}hasContent(e,t={}){const i=e instanceof oe?e:oe._createIn(e);if(i.isCollapsed)return!1;const{ignoreWhitespaces:l=!1,ignoreMarkers:d=!1}=t;if(!d){for(const p of this.markers.getMarkersIntersectingRange(i))if(p.affectsData)return!0}for(const p of i.getItems())if(this.schema.isContent(p)&&(!p.is("$textProxy")||!l||p.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const t=qk(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,i){return new ue(e,t,i)}createPositionAt(e,t){return ue._createAt(e,t)}createPositionAfter(e){return ue._createAfter(e)}createPositionBefore(e){return ue._createBefore(e)}createRange(e,t){return new oe(e,t)}createRangeIn(e){return oe._createIn(e)}createRangeOn(e){return oe._createOn(e)}createSelection(...e){return new Er(...e)}createBatch(e){return new xc(e)}createOperationFromJSON(e){return pB.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new UB(this,t);const i=this._pendingChanges[0].callback(this._currentWriter);e.push(i),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function qk(c,e){if(c)return c instanceof Er||c instanceof ko?c:c instanceof aa?e||e===0?new Er(c,e):c.is("rootElement")?new Er(c,"in"):new Er(c,"on"):new Er(c)}class JB extends is{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Kk extends is{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class da{constructor(e){this.document=e}createDocumentFragment(e){return new sa(this.document,e)}createElement(e,t,i){return new Ar(this.document,e,t,i)}createText(e){return new Ot(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,i){return i._insertChild(e,t)}removeChildren(e,t,i){return i._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const i=e.parent;if(i){const l=i.getChildIndex(e);return this.removeChildren(l,1,i),this.insertChild(l,t,i),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const i=t.getChildIndex(e);this.remove(e),this.insertChild(i,e.getChildren(),t)}}rename(e,t){const i=new Ar(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,i)?i:null}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){bn(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return be._createAt(e,t)}createPositionAfter(e){return be._createAfter(e)}createPositionBefore(e){return be._createBefore(e)}createRange(e,t){return new ze(e,t)}createRangeOn(e){return ze._createOn(e)}createRangeIn(e){return ze._createIn(e)}createSelection(...e){return new fo(...e)}}class XB{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const i=this.get(e);if(!i)throw new z("commandcollection-command-not-found",this,{commandName:e});return i.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class eR extends Ve(){constructor(e={}){super();const t=this.constructor,i=e.language||t.defaultConfig&&t.defaultConfig.language;this._context=e.context||new X_({language:i}),this._context._addEditor(this,!e.context);const l=Array.from(t.builtinPlugins||[]);this.config=new Vo(e,t.defaultConfig),this.config.define("plugins",l),this.config.define(this._context._getEditorConfig()),this.plugins=new J_(this,l,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new XB,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new ZB,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const d=new x3;this.data=new dB(this.model,d),this.editing=new H4(this.model,d),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new hB([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new WO(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new z("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new z("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new z("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,t=e.get("plugins"),i=e.get("removePlugins")||[],l=e.get("extraPlugins")||[],d=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(l),i,d)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(i){z.rethrowUnexpectedError(i,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function pp(c){return class extends c{setData(e){this.data.set(e)}getData(e){return this.data.get(e)}}}{const c=pp(Object);pp.setData=c.prototype.setData,pp.getData=c.prototype.getData}function Gk(c){return class extends c{updateSourceElement(e=this.data.get()){if(!this.sourceElement)throw new z("editor-missing-sourceelement",this);const t=this.config.get("updateSourceElementOnDestroy"),i=this.sourceElement instanceof HTMLTextAreaElement;uO(this.sourceElement,t||i?e:"")}}}Gk.updateSourceElement=Gk(Object).prototype.updateSourceElement;class r1 extends Qh{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new lo({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new z("pendingactions-add-invalid-message",this);const t=new(Ve());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Wt={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>'};var o1=a(5542),tR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(o1.Z,tR),o1.Z.locals;const{threeVerticalDots:i1}=Wt,nR={alignLeft:Wt.alignLeft,bold:Wt.bold,importExport:Wt.importExport,paragraph:Wt.paragraph,plus:Wt.plus,text:Wt.text,threeVerticalDots:Wt.threeVerticalDots,pilcrow:Wt.pilcrow,dragIndicator:Wt.dragIndicator};class Qk extends Ke{constructor(e,t){super(e);const i=this.bindTemplate,l=this.t;this.options=t||{},this.set("ariaLabel",l("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new dr,this.keystrokes=new uo,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new rR(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const d=e.uiLanguageDirection==="rtl";this._focusCycler=new os({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[d?"arrowright":"arrowleft","arrowup"],focusNext:[d?"arrowleft":"arrowright","arrowdown"]}});const p=["ck","ck-toolbar",i.to("class"),i.if("isCompact","ck-toolbar_compact")];var g;this.options.shouldGroupWhenFull&&this.options.isFloating&&p.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:p,role:"toolbar","aria-label":i.to("ariaLabel"),style:{maxWidth:i.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(g=this,g.bindTemplate.to(b=>{b.target===g.element&&b.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new iR(this):new oR(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,i){this.items.addMany(this._buildItemsFromConfig(e,t,i))}_buildItemsFromConfig(e,t,i){const l=K_(e),d=i||l.removeItems;return this._cleanItemsConfiguration(l.items,t,d).map(p=>Ne(p)?this._createNestedToolbarDropdown(p,t,d):p==="|"?new q_:p==="-"?new HO:t.create(p)).filter(p=>!!p)}_cleanItemsConfiguration(e,t,i){const l=e.filter((d,p,g)=>d==="|"||i.indexOf(d)===-1&&(d==="-"?!this.options.shouldGroupWhenFull||(te("toolbarview-line-break-ignored-when-grouping-items",g),!1):!(!Ne(d)&&!t.has(d))||(te("toolbarview-item-unavailable",{item:d}),!1)));return this._cleanSeparatorsAndLineBreaks(l)}_cleanSeparatorsAndLineBreaks(e){const t=p=>p!=="-"&&p!=="|",i=e.length,l=e.findIndex(t);if(l===-1)return[];const d=i-e.slice().reverse().findIndex(t);return e.slice(l,d).filter((p,g,b)=>t(p)?!0:!(g>0&&b[g-1]===p))}_createNestedToolbarDropdown(e,t,i){let{label:l,icon:d,items:p,tooltip:g=!0,withText:b=!1}=e;if(p=this._cleanItemsConfiguration(p,t,i),!p.length)return null;const w=cs(this.locale);return l||te("toolbarview-nested-toolbar-dropdown-missing-label",e),w.class="ck-toolbar__nested-toolbar-dropdown",w.buttonView.set({label:l,tooltip:g,withText:!!b}),d!==!1?w.buttonView.icon=nR[d]||d||i1:w.buttonView.withText=!0,Jk(w,()=>w.toolbarView._buildItemsFromConfig(p,t,i)),w}}class rR extends Ke{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class oR{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(i=>i),e.focusables.bindTo(e.items).using(i=>i),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class iR{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(t,i)=>{const l=i.index,d=Array.from(i.added);for(const p of i.removed)l>=this.ungroupedItems.length?this.groupedItems.remove(p):this.ungroupedItems.remove(p);for(let p=l;p<l+d.length;p++){const g=d[p-l];p>this.ungroupedItems.length?this.groupedItems.add(g,p-this.ungroupedItems.length):this.ungroupedItems.add(g,p)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Xs(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,i=new ft(e.lastChild),l=new ft(e);if(!this.cachedPadding){const d=Oe.window.getComputedStyle(e),p=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(d[p])}return t==="ltr"?i.right>l.right-this.cachedPadding:i.left<l.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new hu(this.viewElement,t=>{e&&e===t.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new q_),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,i=cs(e);return i.class="ck-toolbar__grouped-dropdown",i.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",Jk(i,this.groupedItems),i.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:i1}),i}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class fp extends Ke{constructor(e){super(e);const t=this.bindTemplate,i=`ck-editor__label_${V()}`,l=new a1(e);this.children=this.createCollection(),this.children.addMany([this._createLabel(i),l]),this.set({label:"",isVisible:!0}),l.set({role:"group",ariaLabelledBy:i}),l.focusTracker.destroy(),l.keystrokes.destroy(),this.items=l.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",t.if("isVisible","ck-hidden",d=>!d)]},children:this.children})}_createLabel(e){const t=new Ke(this.locale),i=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{id:e},children:[{text:i.to("label")}]}),t}focus(){this.items.first&&this.items.first.focus()}}var s1=a(1046),sR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(s1.Z,sR),s1.Z.locals;class a1 extends Ke{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const t=this.bindTemplate;this.focusables=new gi,this.items=this.createCollection(),this.focusTracker=new dr,this.keystrokes=new uo,this._focusCycler=new os({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof fp?this._registerFocusableItemsGroup(e):this._registerFocusableListItem(e);this.items.on("change",(e,t)=>{for(const i of t.removed)i instanceof fp?this._deregisterFocusableItemsGroup(i):this._deregisterFocusableListItem(i);for(const i of Array.from(t.added).reverse())i instanceof fp?this._registerFocusableItemsGroup(i,t.index):this._registerFocusableListItem(i,t.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,i)=>{for(const l of i.removed)this._deregisterFocusableListItem(l);for(const l of Array.from(i.added).reverse())this._registerFocusableListItem(l,this.items.getIndex(e)+i.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach((l,d)=>{const p=t!==void 0?t+d:void 0;this._registerFocusableListItem(l,p)});const i=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,i),e.items.on("change",i)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}class c1 extends Ke{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",i=>!i)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class aR extends Ke{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var l1=a(7686),cR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(l1.Z,cR),l1.Z.locals;class Zk extends Ke{constructor(e){super(e);const t=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new uo,this.focusTracker=new dr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.to("class"),t.if("isVisible","ck-hidden",i=>!i),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new zt;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new zt,t=e.bindTemplate;return e.icon=Y_,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",i=>String(i))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var u1=a(7339),lR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(u1.Z,lR),u1.Z.locals;var d1=a(3949),uR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(d1.Z,uR),d1.Z.locals;function cs(c,e=VO){const t=new e(c),i=new FO(c),l=new pk(c,t,i);return t.bind("isEnabled").to(l),t instanceof Zk?t.arrowView.bind("isOn").to(l,"isOpen"):t.bind("isOn").to(l,"isOpen"),function(d){(function(p){p.on("render",()=>{h({emitter:p,activator:()=>p.isOpen,callback:()=>{p.isOpen=!1},contextElements:()=>[p.element,...p.focusTracker._elements]})})})(d),function(p){p.on("execute",g=>{g.source instanceof Kh||(p.isOpen=!1)})}(d),function(p){p.focusTracker.on("change:isFocused",(g,b,w)=>{p.isOpen&&!w&&(p.isOpen=!1)})}(d),function(p){p.keystrokes.set("arrowdown",(g,b)=>{p.isOpen&&(p.panelView.focus(),b())}),p.keystrokes.set("arrowup",(g,b)=>{p.isOpen&&(p.panelView.focusLast(),b())})}(d),function(p){p.on("change:isOpen",(g,b,w)=>{if(w)return;const y=p.panelView.element;y&&y.contains(Oe.document.activeElement)&&p.buttonView.focus()})}(d),function(p){p.on("change:isOpen",(g,b,w)=>{w&&p.panelView.focus()},{priority:"low"})}(d)}(l),l}function Jk(c,e,t={}){c.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),c.isOpen?h1(c,e,t):c.once("change:isOpen",()=>h1(c,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&g1(c,()=>c.toolbarView.items.find(i=>i.isOn))}function h1(c,e,t){const i=c.locale,l=i.t,d=c.toolbarView=new Qk(i),p=typeof e=="function"?e():e;d.ariaLabel=t.ariaLabel||l("Dropdown toolbar"),t.maxWidth&&(d.maxWidth=t.maxWidth),t.class&&(d.class=t.class),t.isCompact&&(d.isCompact=t.isCompact),t.isVertical&&(d.isVertical=!0),p instanceof gi?d.items.bindTo(p).using(g=>g):d.items.addMany(p),c.panelView.children.add(d),d.items.delegate("execute").to(c)}function p1(c,e,t={}){c.isOpen?f1(c,e,t):c.once("change:isOpen",()=>f1(c,e,t),{priority:"highest"}),g1(c,()=>c.listView.items.find(i=>i instanceof c1&&i.children.first.isOn))}function f1(c,e,t){const i=c.locale,l=c.listView=new a1(i),d=typeof e=="function"?e():e;l.ariaLabel=t.ariaLabel,l.role=t.role,m1(c,l.items,d,i),c.panelView.children.add(l),l.items.delegate("execute").to(c)}function g1(c,e){c.on("change:isOpen",()=>{if(!c.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():te("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:K.low-10})}function m1(c,e,t,i){e.bindTo(t).using(l=>{if(l.type==="separator")return new aR(i);if(l.type==="group"){const d=new fp(i);return d.set({label:l.label}),m1(c,d.items,l.items,i),d.items.delegate("execute").to(c),d}if(l.type==="button"||l.type==="switchbutton"){const d=new c1(i);let p;return p=l.type==="button"?new zt(i):new Kh(i),p.bind(...Object.keys(l.model)).to(l.model),p.delegate("execute").to(d),d.children.add(p),d}return null})}const gp=(c,e,t)=>{const i=new jO(c.locale);return i.set({id:e,ariaDescribedById:t}),i.bind("isReadOnly").to(c,"isEnabled",l=>!l),i.bind("hasError").to(c,"errorText",l=>!!l),i.on("input",()=>{c.errorText=null}),c.bind("isEmpty","isFocused","placeholder").to(i),i},Pu=(c,e=0,t=1)=>c>t?t:c<e?e:c,Un=(c,e=0,t=Math.pow(10,e))=>Math.round(t*c)/t,Xk=c=>(c[0]==="#"&&(c=c.substring(1)),c.length<6?{r:parseInt(c[0]+c[0],16),g:parseInt(c[1]+c[1],16),b:parseInt(c[2]+c[2],16),a:c.length===4?Un(parseInt(c[3]+c[3],16)/255,2):1}:{r:parseInt(c.substring(0,2),16),g:parseInt(c.substring(2,4),16),b:parseInt(c.substring(4,6),16),a:c.length===8?Un(parseInt(c.substring(6,8),16)/255,2):1}),dR=({h:c,s:e,v:t,a:i})=>{const l=(200-e)*t/100;return{h:Un(c),s:Un(l>0&&l<200?e*t/100/(l<=100?l:200-l)*100:0),l:Un(l/2),a:Un(i,2)}},eb=c=>{const{h:e,s:t,l:i}=dR(c);return`hsl(${e}, ${t}%, ${i}%)`},hR=({h:c,s:e,v:t,a:i})=>{c=c/360*6,e/=100,t/=100;const l=Math.floor(c),d=t*(1-e),p=t*(1-(c-l)*e),g=t*(1-(1-c+l)*e),b=l%6;return{r:Un(255*[t,p,d,d,g,t][b]),g:Un(255*[g,t,t,p,d,d][b]),b:Un(255*[d,d,g,t,t,p][b]),a:Un(i,2)}},mp=c=>{const e=c.toString(16);return e.length<2?"0"+e:e},pR=({r:c,g:e,b:t,a:i})=>{const l=i<1?mp(Un(255*i)):"";return"#"+mp(c)+mp(e)+mp(t)+l},fR=({r:c,g:e,b:t,a:i})=>{const l=Math.max(c,e,t),d=l-Math.min(c,e,t),p=d?l===c?(e-t)/d:l===e?2+(t-c)/d:4+(c-e)/d:0;return{h:Un(60*(p<0?p+6:p)),s:Un(l?d/l*100:0),v:Un(l/255*100),a:i}},k1=(c,e)=>{if(c===e)return!0;for(const t in c)if(c[t]!==e[t])return!1;return!0},b1={},w1=c=>{let e=b1[c];return e||(e=document.createElement("template"),e.innerHTML=c,b1[c]=e),e},tb=(c,e,t)=>{c.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:t}))};let Sc=!1;const nb=c=>"touches"in c,v1=(c,e)=>{const t=nb(e)?e.touches[0]:e,i=c.el.getBoundingClientRect();tb(c.el,"move",c.getMove({x:Pu((t.pageX-(i.left+window.pageXOffset))/i.width),y:Pu((t.pageY-(i.top+window.pageYOffset))/i.height)}))};class y1{constructor(e,t,i,l){const d=w1(`<div role="slider" tabindex="0" part="${t}" ${i}><div part="${t}-pointer"></div></div>`);e.appendChild(d.content.cloneNode(!0));const p=e.querySelector(`[part=${t}]`);p.addEventListener("mousedown",this),p.addEventListener("touchstart",this),p.addEventListener("keydown",this),this.el=p,this.xy=l,this.nodes=[p.firstChild,p]}set dragging(e){const t=e?document.addEventListener:document.removeEventListener;t(Sc?"touchmove":"mousemove",this),t(Sc?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!(t=>!(Sc&&!nb(t)||(Sc||(Sc=nb(t)),0)))(e)||!Sc&&e.button!=0)return;this.el.focus(),v1(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),v1(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((t,i)=>{const l=i.keyCode;l>40||t.xy&&l<37||l<33||(i.preventDefault(),tb(t.el,"move",t.getMove({x:l===39?.01:l===37?-.01:l===34?.05:l===33?-.05:l===35?1:l===36?-1:0,y:l===40?.01:l===38?-.01:0},!0)))})(this,e)}}style(e){e.forEach((t,i)=>{for(const l in t)this.nodes[i].style.setProperty(l,t[l])})}}class gR extends y1{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:e/360*100+"%",color:eb({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${Un(e)}`)}getMove(e,t){return{h:t?Pu(this.h+360*e.x,0,360):360*e.x}}}class mR extends y1{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:100-e.v+"%",left:`${e.s}%`,color:eb(e)},{"background-color":eb({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${Un(e.s)}%, Brightness ${Un(e.v)}%`)}getMove(e,t){return{s:t?Pu(this.hsva.s+100*e.x,0,100):100*e.x,v:t?Pu(this.hsva.v-100*e.y,0,100):Math.round(100-100*e.y)}}}const kp=Symbol("same"),rb=Symbol("color"),_1=Symbol("hsva"),ob=Symbol("update"),C1=Symbol("parts"),A1=Symbol("css"),x1=Symbol("sliders");class kR extends HTMLElement{static get observedAttributes(){return["color"]}get[A1](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[x1](){return[mR,gR]}get color(){return this[rb]}set color(e){if(!this[kp](e)){const t=this.colorModel.toHsva(e);this[ob](t),this[rb]=e}}constructor(){super();const e=w1(`<style>${this[A1].join("")}</style>`),t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(!0)),t.addEventListener("move",this),this[C1]=this[x1].map(i=>new i(t))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,t,i){const l=this.colorModel.fromAttr(i);this[kp](l)||(this.color=l)}handleEvent(e){const t=this[_1],i={...t,...e.detail};let l;this[ob](i),k1(i,t)||this[kp](l=this.colorModel.fromHsva(i))||(this[rb]=l,tb(this,"color-changed",{value:l}))}[kp](e){return this.color&&this.colorModel.equal(e,this.color)}[ob](e){this[_1]=e,this[C1].forEach(t=>t.update(e))}}const bR={defaultColor:"#000",toHsva:c=>fR(Xk(c)),fromHsva:({h:c,s:e,v:t})=>pR(hR({h:c,s:e,v:t,a:1})),equal:(c,e)=>c.toLowerCase()===e.toLowerCase()||k1(Xk(c),Xk(e)),fromAttr:c=>c};class wR extends kR{get colorModel(){return bR}}customElements.define("hex-color-picker",class extends wR{});var E1=a(3398),vR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(E1.Z,vR),E1.Z.locals;var S1=a(4157),yR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(S1.Z,yR),S1.Z.locals;class _R{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(ib(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new z("componentfactory-item-missing",this,{name:e});return this._components.get(ib(e)).callback(this.editor.locale)}has(e){return this._components.has(ib(e))}}function ib(c){return String(c).toLowerCase()}var D1=a(8793),CR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(D1.Z,CR),D1.Z.locals;var AR=Object.defineProperty,T1=Object.getOwnPropertySymbols,xR=Object.prototype.hasOwnProperty,ER=Object.prototype.propertyIsEnumerable,I1=(c,e,t)=>e in c?AR(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,gt=(c,e)=>{for(var t in e||(e={}))xR.call(e,t)&&I1(c,t,e[t]);if(T1)for(var t of T1(e))ER.call(e,t)&&I1(c,t,e[t]);return c};const M1=pu("px"),P1=Oe.document.body,SR={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},sb=class extends Ke{constructor(c){super(c);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",t=>`ck-balloon-panel_${t}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",M1),left:e.to("left",M1)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(c){this.show();const e=sb.defaultPositions,t=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:P1,fitInViewport:!0},c),i=sb._getOptimalPosition(t)||SR,l=parseInt(i.left),d=parseInt(i.top),p=i.name,g=i.config||{},{withArrow:b=!0}=g;this.top=d,this.left=l,this.position=p,this.withArrow=b}pin(c){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(c):this._stopPinning()},this._startPinning(c),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(c){this.attachTo(c);const e=ab(c.target),t=c.limiter?ab(c.limiter):P1;this.listenTo(Oe.document,"scroll",(i,l)=>{const d=l.target,p=e&&d.contains(e),g=t&&d.contains(t);!p&&!g&&e&&t||this.attachTo(c)},{useCapture:!0}),this.listenTo(Oe.window,"resize",()=>{this.attachTo(c)})}_stopPinning(){this.stopListening(Oe.document,"scroll"),this.stopListening(Oe.window,"resize")}};let fr=sb;function ab(c){return zn(c)?c:Hh(c)?c.commonAncestorContainer:typeof c=="function"?ab(c()):null}function N1(c={}){const{sideOffset:e=fr.arrowSideOffset,heightOffset:t=fr.arrowHeightOffset,stickyVerticalOffset:i=fr.stickyVerticalOffset,config:l}=c;return{northWestArrowSouthWest:(g,b)=>gt({top:d(g,b),left:g.left-e,name:"arrow_sw"},l&&{config:l}),northWestArrowSouthMiddleWest:(g,b)=>gt({top:d(g,b),left:g.left-.25*b.width-e,name:"arrow_smw"},l&&{config:l}),northWestArrowSouth:(g,b)=>gt({top:d(g,b),left:g.left-b.width/2,name:"arrow_s"},l&&{config:l}),northWestArrowSouthMiddleEast:(g,b)=>gt({top:d(g,b),left:g.left-.75*b.width+e,name:"arrow_sme"},l&&{config:l}),northWestArrowSouthEast:(g,b)=>gt({top:d(g,b),left:g.left-b.width+e,name:"arrow_se"},l&&{config:l}),northArrowSouthWest:(g,b)=>gt({top:d(g,b),left:g.left+g.width/2-e,name:"arrow_sw"},l&&{config:l}),northArrowSouthMiddleWest:(g,b)=>gt({top:d(g,b),left:g.left+g.width/2-.25*b.width-e,name:"arrow_smw"},l&&{config:l}),northArrowSouth:(g,b)=>gt({top:d(g,b),left:g.left+g.width/2-b.width/2,name:"arrow_s"},l&&{config:l}),northArrowSouthMiddleEast:(g,b)=>gt({top:d(g,b),left:g.left+g.width/2-.75*b.width+e,name:"arrow_sme"},l&&{config:l}),northArrowSouthEast:(g,b)=>gt({top:d(g,b),left:g.left+g.width/2-b.width+e,name:"arrow_se"},l&&{config:l}),northEastArrowSouthWest:(g,b)=>gt({top:d(g,b),left:g.right-e,name:"arrow_sw"},l&&{config:l}),northEastArrowSouthMiddleWest:(g,b)=>gt({top:d(g,b),left:g.right-.25*b.width-e,name:"arrow_smw"},l&&{config:l}),northEastArrowSouth:(g,b)=>gt({top:d(g,b),left:g.right-b.width/2,name:"arrow_s"},l&&{config:l}),northEastArrowSouthMiddleEast:(g,b)=>gt({top:d(g,b),left:g.right-.75*b.width+e,name:"arrow_sme"},l&&{config:l}),northEastArrowSouthEast:(g,b)=>gt({top:d(g,b),left:g.right-b.width+e,name:"arrow_se"},l&&{config:l}),southWestArrowNorthWest:g=>gt({top:p(g),left:g.left-e,name:"arrow_nw"},l&&{config:l}),southWestArrowNorthMiddleWest:(g,b)=>gt({top:p(g),left:g.left-.25*b.width-e,name:"arrow_nmw"},l&&{config:l}),southWestArrowNorth:(g,b)=>gt({top:p(g),left:g.left-b.width/2,name:"arrow_n"},l&&{config:l}),southWestArrowNorthMiddleEast:(g,b)=>gt({top:p(g),left:g.left-.75*b.width+e,name:"arrow_nme"},l&&{config:l}),southWestArrowNorthEast:(g,b)=>gt({top:p(g),left:g.left-b.width+e,name:"arrow_ne"},l&&{config:l}),southArrowNorthWest:g=>gt({top:p(g),left:g.left+g.width/2-e,name:"arrow_nw"},l&&{config:l}),southArrowNorthMiddleWest:(g,b)=>gt({top:p(g),left:g.left+g.width/2-.25*b.width-e,name:"arrow_nmw"},l&&{config:l}),southArrowNorth:(g,b)=>gt({top:p(g),left:g.left+g.width/2-b.width/2,name:"arrow_n"},l&&{config:l}),southArrowNorthMiddleEast:(g,b)=>gt({top:p(g),left:g.left+g.width/2-.75*b.width+e,name:"arrow_nme"},l&&{config:l}),southArrowNorthEast:(g,b)=>gt({top:p(g),left:g.left+g.width/2-b.width+e,name:"arrow_ne"},l&&{config:l}),southEastArrowNorthWest:g=>gt({top:p(g),left:g.right-e,name:"arrow_nw"},l&&{config:l}),southEastArrowNorthMiddleWest:(g,b)=>gt({top:p(g),left:g.right-.25*b.width-e,name:"arrow_nmw"},l&&{config:l}),southEastArrowNorth:(g,b)=>gt({top:p(g),left:g.right-b.width/2,name:"arrow_n"},l&&{config:l}),southEastArrowNorthMiddleEast:(g,b)=>gt({top:p(g),left:g.right-.75*b.width+e,name:"arrow_nme"},l&&{config:l}),southEastArrowNorthEast:(g,b)=>gt({top:p(g),left:g.right-b.width+e,name:"arrow_ne"},l&&{config:l}),westArrowEast:(g,b)=>gt({top:g.top+g.height/2-b.height/2,left:g.left-b.width-t,name:"arrow_e"},l&&{config:l}),eastArrowWest:(g,b)=>gt({top:g.top+g.height/2-b.height/2,left:g.right+t,name:"arrow_w"},l&&{config:l}),viewportStickyNorth:(g,b,w,y)=>{const A=y||w;return g.getIntersection(A)?A.height-g.height>i?null:{top:A.top+i,left:g.left+g.width/2-b.width/2,name:"arrowless",config:gt({withArrow:!1},l)}:null}};function d(g,b){return g.top-b.height-t}function p(g){return g.bottom+t}}fr.arrowSideOffset=25,fr.arrowHeightOffset=10,fr.stickyVerticalOffset=20,fr._getOptimalPosition=ok,fr.defaultPositions=N1();var O1=a(3332),DR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(O1.Z,DR),O1.Z.locals;const B1="ck-tooltip",gr=class extends Hr(){constructor(c){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,gr._editors.add(c),gr._instance)return gr._instance;gr._instance=this,this.tooltipTextView=new Ke(c.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new fr(c.locale),this.balloonPanelView.class=B1,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=_u(this._pinTooltip,600),this.listenTo(Oe.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Oe.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Oe.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Oe.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Oe.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(c){const e=c.ui.view&&c.ui.view.body;gr._editors.delete(c),this.stopListening(c.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),gr._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),gr._instance=null)}static getPositioningFunctions(c){const e=gr.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[c]}_onEnterOrFocus(c,{target:e}){const t=cb(e);var i;t&&t!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(t,{text:(i=t).dataset.ckeTooltipText,position:i.dataset.ckeTooltipPosition||"s",cssClass:i.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(c,{target:e,relatedTarget:t}){if(c.name==="mouseleave"){if(!zn(e)||this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const i=cb(e),l=cb(t);i&&i!==l&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(c,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(c,{text:e,position:t,cssClass:i}){const l=vn(gr._editors.values()).ui.view.body;l.has(this.balloonPanelView)||l.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:c,positions:gr.getPositioningFunctions(t)}),this._resizeObserver=new hu(c,()=>{Xs(c)||this._unpinTooltip()}),this.balloonPanelView.class=[B1,i].filter(d=>d).join(" ");for(const d of gr._editors)this.listenTo(d.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=c,this._currentTooltipPosition=t}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const c of gr._editors)this.stopListening(c.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){Xs(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:gr.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}};let bp=gr;function cb(c){return zn(c)?c.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}bp.defaultBalloonPositions=N1({heightOffset:5,sideOffset:13}),bp._editors=new Set,bp._instance=null;const wp=function(c,e,t){var i=!0,l=!0;if(typeof c!="function")throw new TypeError("Expected a function");return Ne(t)&&(i="leading"in t?!!t.leading:i,l="trailing"in t?!!t.trailing:l),_u(c,e,{leading:i,maxWait:e,trailing:l})};var TR=Object.defineProperty,R1=Object.getOwnPropertySymbols,IR=Object.prototype.hasOwnProperty,MR=Object.prototype.propertyIsEnumerable,L1=(c,e,t)=>e in c?TR(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,PR=(c,e)=>{for(var t in e||(e={}))IR.call(e,t)&&L1(c,t,e[t]);if(R1)for(var t of R1(e))MR.call(e,t)&&L1(c,t,e[t]);return c};const NR=50,OR=350,BR="Powered by";class RR extends Hr(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=wp(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(t){function i(D){return D.length>=40&&D.length<=255?"VALID":"INVALID"}if(!t)return"INVALID";let l="";try{l=atob(t)}catch{return"INVALID"}const d=l.split("-"),p=d[0],g=d[1];if(!g)return i(t);try{atob(g)}catch{try{if(atob(p),!atob(p).length)return i(t)}catch{return i(t)}}if(p.length<40||p.length>255)return"INVALID";let b="";try{atob(p),b=atob(g)}catch{return"INVALID"}if(b.length!==8)return"INVALID";const w=Number(b.substring(0,4)),y=Number(b.substring(4,6))-1,A=Number(b.substring(6,8)),E=new Date(w,y,A);return E<et||isNaN(Number(E))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(t,i,l)=>{this._updateLastFocusedEditableElement(),l?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(t,i,l)=>{this._updateLastFocusedEditableElement(),l&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,t=this._balloonView=new fr,i=z1(e),l=new LR(e.locale,i.label);t.content.add(l),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),e.ui.focusTracker.add(t.element),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(t,i){const l=z1(t),d=l.side==="right"?function(p,g){return j1(p,g,(b,w)=>b.left+b.width-w.width-g.horizontalOffset)}(i,l):function(p,g){return j1(p,g,b=>b.left+g.horizontalOffset)}(i,l);return{target:i,positions:[d]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,i=e.ui.focusTracker.focusedElement;if(!t||!i)return void(this._lastFocusedEditableElement=null);const l=Array.from(e.ui.getEditableElementsNames()).map(d=>e.ui.getEditableElement(d));l.includes(i)?this._lastFocusedEditableElement=i:this._lastFocusedEditableElement=l[0]}}class LR extends Ke{constructor(e,t){super(e);const i=new ea,l=this.bindTemplate;i.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),i.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],i],on:{dragstart:l.to(d=>d.preventDefault())}}]})}}function j1(c,e,t){return(i,l)=>{const d=new ft(c);if(d.width<OR||d.height<NR)return null;let p;p=e.position==="inside"?d.bottom-l.height:d.bottom-l.height/2,p-=e.verticalOffset;const g=t(d,l),b=i.clone().moveTo(g,p).getIntersection(l.clone().moveTo(g,p)).getVisible();return!b||b.getArea()<l.getArea()?null:{top:p,left:g,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function z1(c){const e=c.config.get("ui.poweredBy"),t=e&&e.position||"border";return PR({position:t,label:BR,verticalOffset:t==="inside"?5:0,horizontalOffset:5,side:c.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var jR=Object.defineProperty,F1=Object.getOwnPropertySymbols,zR=Object.prototype.hasOwnProperty,FR=Object.prototype.propertyIsEnumerable,U1=(c,e,t)=>e in c?jR(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;class UR extends Ve(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e,this.componentFactory=new _R(e),this.focusTracker=new dr,this.tooltipManager=new bp(e),this.poweredBy=new RR(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const i=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?i():this.once("ready",i)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const i=e.config.get("toolbar.viewportTopOffset");return i?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:i}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let i,l;e.keystrokes.set("Alt+F10",(d,p)=>{const g=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(g)&&!Array.from(t.domRoots.values()).includes(g)&&(i=g);const b=this._getCurrentFocusedToolbarDefinition();b&&l||(l=this._getFocusableCandidateToolbarDefinitions());for(let w=0;w<l.length;w++){const y=l.shift();if(l.push(y),y!==b&&this._focusFocusableCandidateToolbar(y)){b&&b.options.afterBlur&&b.options.afterBlur();break}}p()}),e.keystrokes.set("Esc",(d,p)=>{const g=this._getCurrentFocusedToolbarDefinition();g&&(i?(i.focus(),i=null):e.editing.view.focus(),g.options.afterBlur&&g.options.afterBlur(),p())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:i,options:l}=t;(Xs(i.element)||l.beforeFocus)&&e.push(t)}return e.sort((t,i)=>V1(t)-V1(i)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:i}}=e;return i&&i(),!!Xs(t.element)&&(t.focus(),!0)}_handleScrollToTheSelection(e,t){const i=((l,d)=>{for(var p in d||(d={}))zR.call(d,p)&&U1(l,p,d[p]);if(F1)for(var p of F1(d))FR.call(d,p)&&U1(l,p,d[p]);return l})({top:0,bottom:0,left:0,right:0},this.viewportOffset);t.viewportOffset.top+=i.top,t.viewportOffset.bottom+=i.bottom,t.viewportOffset.left+=i.left,t.viewportOffset.right+=i.right}}function V1(c){const{toolbarView:e,options:t}=c;let i=10;return Xs(e.element)&&i--,t.isContextual&&i--,i}var H1=a(9688),VR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(H1.Z,VR),H1.Z.locals;class HR extends Ke{constructor(e){super(e),this.body=new SO(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class WR extends HR{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new U_;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class $R extends Ke{constructor(e,t,i){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=i,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function t(i){e.change(l=>{const d=e.document.getRoot(i.name);l.addClass(i.isFocused?"ck-focused":"ck-blurred",d),l.removeClass(i.isFocused?"ck-blurred":"ck-focused",d)})}e.isRenderingInProgress?function i(l){e.once("change:isRenderingInProgress",(d,p,g)=>{g?i(l):t(l)})}(this):t(this)}}class YR extends $R{constructor(e,t,i,l={}){super(e,t,i);const d=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=l.label||(()=>d("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const i=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),i)})}}var W1=a(8847),qR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(W1.Z,qR),W1.Z.locals;class lb extends Qh{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class $1 extends Ve(){constructor(e,t){super(),t&&OC(this,t),e&&this.set(e)}}var Y1=a(4650),KR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Y1.Z,KR),Y1.Z.locals;var q1=a(7676),GR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(q1.Z,GR),q1.Z.locals;const vp=pu("px");class yp extends pe{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,i=t.document.selection.editableElement;return i?t.domConverter.mapViewToDom(i.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new z("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const i=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),i.set(e.view,e),this._viewToStack.set(e.view,i),i===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new z("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new z("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new fr(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(t=>t[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new QR(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(i,l)=>!l&&i>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(i,l)=>{if(l<2)return"";const d=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[d,l])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new ZR(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,i)=>!i&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:i=!0,singleViewMode:l=!1}){this.view.class=t,this.view.withArrow=i,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),l&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class QR extends Ke{constructor(e){super(e);const t=e.t,i=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new dr,this.buttonPrevView=this._createButtonView(t("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(t("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",i.to("isNavigationVisible",l=>l?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:i.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const i=new zt(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i}}class ZR extends Ke{constructor(e,t){super(e);const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",i.to("numberOfPanels",l=>l?"":"ck-hidden")],style:{top:i.to("top",vp),left:i.to("left",vp),width:i.to("width",vp),height:i.to("height",vp)}},children:this.content}),this.on("change:numberOfPanels",(l,d,p,g)=>{p>g?this._addPanels(p-g):this._removePanels(g-p),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new Ke;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:i,height:l}=new ft(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:i,height:l})}}}var K1=a(5868),JR={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(K1.Z,JR),K1.Z.locals;const Dc=pu("px");class XR extends Ke{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new ho({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",i=>i?"block":"none"),height:t.to("isSticky",i=>i?Dc(this._contentPanelRect.height):null)}}}).render(),this._contentPanel=new ho({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",i=>i?Dc(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_stickyTopOffset",i=>i&&Dc(i)),bottom:t.to("_stickyBottomOffset",i=>i&&Dc(i)),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(Oe.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new ft(this.limiterElement);let t=e.getVisible();if(t){const i=new ft(Oe.window);i.top+=this.viewportTopOffset,i.height-=this.viewportTopOffset,t=t.getIntersection(i)}if(t&&e.top<t.top){const i=t.top;if(i+this._contentPanelRect.height+this.limiterBottomOffset>t.bottom){const l=Math.max(e.bottom-t.bottom,0)+this.limiterBottomOffset;e.bottom-l>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(l):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(i):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=Dc(-Oe.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=Dc(-Oe.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new ft(this._contentPanel)}}class eL extends Gh{constructor(e,t){const i=e.t,l=Object.assign({},{showResetButton:!0,showIcon:!0,creator:gp},t);super(e,l.creator),this.label=t.label,this._viewConfig=l,this._viewConfig.showIcon&&(this.iconView=new ea,this.iconView.content=Wt.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new zt(e),this.resetButtonView.set({label:i("Clear"),icon:Wt.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",d=>!d),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class tL extends Ke{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",t=>!t)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class nL extends Ke{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new dr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new os({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var G1=/[\\^$.*+?()[\]{}|]/g,rL=RegExp(G1.source);const Q1=function(c){return(c=bk(c))&&rL.test(c)?c.replace(G1,"\\$&"):c};var Z1=a(6770),oL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Z1.Z,oL),Z1.Z.locals;var iL=Object.defineProperty,J1=Object.getOwnPropertySymbols,sL=Object.prototype.hasOwnProperty,aL=Object.prototype.propertyIsEnumerable,X1=(c,e,t)=>e in c?iL(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;class cL extends Ke{constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new dr,this.keystrokes=new uo,this.resultsView=new nL(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new tL,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new os({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(i,{resultsCount:l,totalItemsCount:d})=>{this.resultsCount=l,this.totalItemsCount=d}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=t=>t.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const t=e?new RegExp(Q1(e),"ig"):null,i=this.filteredView.filter(t);this.fire("search",((l,d)=>{for(var p in d||(d={}))sL.call(d,p)&&X1(l,p,d[p]);if(J1)for(var p of J1(d))aL.call(d,p)&&X1(l,p,d[p]);return l})({query:e},i))}_createSearchTextQueryView(){const e=new eL(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;function i(l,{query:d,resultsCount:p,totalItemsCount:g}){return typeof l=="function"?l(d,p,g):l}this.on("search",(l,d)=>{if(d.resultsCount)t.set({isVisible:!1});else{const p=this._config.infoView&&this._config.infoView.text;let g,b;d.totalItemsCount?p&&p.notFound?(g=p.notFound.primary,b=p.notFound.secondary):(g=e("No results found"),b=""):p&&p.noSearchableItems?(g=p.noSearchableItems.primary,b=p.noSearchableItems.secondary):(g=e("No searchable items"),b=""),t.set({primaryText:i(g,d),secondaryText:i(b,d),isVisible:!0})}})}}var ex=a(8157),lL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(ex.Z,lL),ex.Z.locals;const ub=class extends cL{constructor(c,e){super(c,e),this._config=e;const t=pu("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const i=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[i.if("isVisible","ck-hidden",l=>!l),i.to("_position",l=>`ck-search__results_${l}`)],style:{width:i.to("_width",t)}}}),this.focusTracker.on("change:isFocused",(l,d,p)=>{this._updateResultsVisibility(),p?this.resultsView.element.scrollTop=0:e.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(l,d)=>{this.resultsView.isVisible=!1,d()}),this.listenTo(Oe.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(l,{value:d})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=d,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new ft(this.queryView.fieldView.element).width;const c=ub._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:ub.defaultResultsPositions});this.resultsView._position=c?c.name:"s"}_updateResultsVisibility(){const c=this._config.queryMinChars===void 0?0:this._config.queryMinChars,e=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&e>=c}};let tx=ub;tx.defaultResultsPositions=[c=>({top:c.bottom,left:c.left,name:"s"}),(c,e)=>({top:c.top-e.height,left:c.left,name:"n"})],tx._getOptimalPosition=ok;var nx=a(8960),uL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(nx.Z,uL),nx.Z.locals;var rx=a(498),dL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(rx.Z,dL),rx.Z.locals;var ox=a(9695),hL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(ox.Z,hL),ox.Z.locals;class pL extends UR{constructor(e,t){super(e),this.view=t,this._toolbarConfig=K_(e.config.get("toolbar")),this._elementReplacer=new O,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const t=this.editor,i=this.view,l=t.editing.view,d=i.editable,p=l.document.getRoot();d.name=p.rootName,i.render();const g=d.element;this.setEditableElement(d.name,g),i.editable.bind("isFocused").to(this.focusTracker),l.attachDomRoot(g),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,i=t.document.getRoot(),l=e.sourceElement;let d;const p=e.config.get("placeholder");p&&(d=typeof p=="string"?p:p[this.view.editable.name]),!d&&l&&l.tagName.toLowerCase()==="textarea"&&(d=l.getAttribute("placeholder")),d&&(i.placeholder=d),nC({view:t,element:i,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,t,i){const l=this.view.stickyPanel;if(l.isSticky){const d=new ft(l.element).height;t.viewportOffset.top+=d}else{const d=()=>{this.editor.editing.view.scrollToTheSelection(i)};this.listenTo(l,"change:isSticky",d),setTimeout(()=>{this.stopListening(l,"change:isSticky",d)},20)}}}var ix=a(3143),fL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(ix.Z,fL),ix.Z.locals;class gL extends WR{constructor(e,t,i={}){super(e),this.stickyPanel=new XR(e),this.toolbar=new Qk(e,{shouldGroupWhenFull:i.shouldToolbarGroupWhenFull}),this.editable=new YR(e,t)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class sx{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const i="error"in t?t.error:t.reason;i instanceof Error&&this._handleError(i,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(i=>i!==t)}_fire(e,...t){const i=this._listeners[e]||[];for(const l of i)l.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const i=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:i}),i?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function db(c,e=new Set){const t=[c],i=new Set;let l=0;for(;t.length>l;){const d=t[l++];if(!i.has(d)&&mL(d)&&!e.has(d))if(i.add(d),Symbol.iterator in d)try{for(const p of d)t.push(p)}catch{}else for(const p in d)p!=="defaultValue"&&t.push(d[p])}return i}function mL(c){const e=Object.prototype.toString.call(c),t=typeof c;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||c==null||c._watchdogExcluded||c instanceof EventTarget||c instanceof Event)}function ax(c,e,t=new Set){if(c===e&&typeof(i=c)=="object"&&i!==null)return!0;var i;const l=db(c,t),d=db(e,t);for(const p of l)if(d.has(p))return!0;return!1}var kL=Object.defineProperty,bL=Object.defineProperties,wL=Object.getOwnPropertyDescriptors,_p=Object.getOwnPropertySymbols,cx=Object.prototype.hasOwnProperty,lx=Object.prototype.propertyIsEnumerable,ux=(c,e,t)=>e in c?kL(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,hb=(c,e)=>{for(var t in e||(e={}))cx.call(e,t)&&ux(c,t,e[t]);if(_p)for(var t of _p(e))lx.call(e,t)&&ux(c,t,e[t]);return c};class dx extends sx{constructor(e,t={}){super(t),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=wp(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(i,l)=>e.create(i,l)),this._destructor=i=>i.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],i=this._config.rootsAttributes||{},l={};for(const[b,w]of Object.entries(this._data.roots))w.isLoaded?(e[b]="",l[b]=i[b]||{}):t.push(b);const d=(p=hb({},this._config),g={extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:l,_watchdogInitialData:this._data},bL(p,wL(g)));var p,g;return delete d.initialData,d.extraPlugins.push(vL),this._initUsingData?this.create(e,d,d.context):zn(this._elementOrData)?this.create(this._elementOrData,d,d.context):this.create(this._editables,d,d.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,i){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=i,this._creator(e,this._config))).then(l=>{this._editor=l,l.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=l.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(g=>g.isAttached()&&g.rootName!="$graveyard"),{plugins:i}=e,l=i.has("CommentsRepository")&&i.get("CommentsRepository"),d=i.has("TrackChanges")&&i.get("TrackChanges"),p={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(g=>{p.roots[g.rootName]={content:JSON.stringify(Array.from(g.getChildren())),attributes:JSON.stringify(Array.from(g.getAttributes())),isLoaded:g._isLoaded}});for(const g of e.model.markers)g._affectsData&&(p.markers[g.name]={rangeJSON:g.getRange().toJSON(),usingOperation:g._managedUsingOperations,affectsData:g._affectsData});return l&&(p.commentThreads=JSON.stringify(l.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),d&&(p.suggestions=JSON.stringify(d.getSuggestions({toJSON:!0,skipNotAttached:!0}))),p}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const i=this.editor.ui.getEditableElement(t);i&&(e[t]=i)}return e}_isErrorComingFromThisItem(e){return ax(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return jn(e,(t,i)=>zn(t)||i==="context"?t:void 0)}}class vL{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){const i=e.createElement(t.name,t.attributes);if(t.children)for(const l of t.children)i._appendChild(this._createNode(e,l));return i}return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([i,{content:l,attributes:d}])=>{const p=JSON.parse(l),g=JSON.parse(d),b=t.model.document.getRoot(i);for(const[w,y]of g)e.setAttribute(w,y,b);for(const w of p){const y=this._createNode(e,w);e.insert(y,b,"end")}}),Object.entries(this._data.markers).forEach(([i,l])=>{const{document:d}=t.model,p=l,{rangeJSON:{start:g,end:b}}=p,w=((M,R)=>{var U={};for(var W in M)cx.call(M,W)&&R.indexOf(W)<0&&(U[W]=M[W]);if(M!=null&&_p)for(var W of _p(M))R.indexOf(W)<0&&lx.call(M,W)&&(U[W]=M[W]);return U})(p,["rangeJSON"]),y=d.getRoot(g.root),A=e.createPositionFromPath(y,g.path,g.stickiness),E=e.createPositionFromPath(y,b.path,b.stickiness),D=e.createRange(A,E);e.addMarker(i,hb({range:D},w))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(i=>{const l=this.editor.config.get("collaboration.channelId"),d=this.editor.plugins.get("CommentsRepository");d.hasCommentThread(i.threadId)&&d.getCommentThread(i.threadId).remove(),d.addCommentThread(hb({channelId:l},i))}),t.forEach(i=>{const l=this.editor.plugins.get("TrackChangesEditing");l.hasSuggestion(i.id)?l.getSuggestion(i.id).attributes=i.attributes:l.addSuggestionData(i)})}}const Nu=Symbol("MainQueueId");class yL{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const i=e===Nu;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const l=(i?Promise.all(this._queues.values()):Promise.all([this._queues.get(Nu),this._queues.get(e)])).then(t),d=l.catch(()=>{});return this._queues.set(e,d),l.finally(()=>{this._activeActions--,this._queues.get(e)===d&&this._activeActions===0&&this._onEmptyCallbacks.forEach(p=>p())})}}function hx(c){return Array.isArray(c)?c:[c]}class Cp extends pp(Gk(eR)){constructor(e,t={}){if(!Ap(e)&&t.initialData!==void 0)throw new z("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",function(d){return Ap(d)?(p=d,p instanceof HTMLTextAreaElement?p.value:p.innerHTML):d;var p}(e)),Ap(e)&&(this.sourceElement=e),this.model.document.createRoot();const i=!this.config.get("toolbar.shouldNotGroupWhenFull"),l=new gL(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:i});this.ui=new pL(this,l),function(d){if(!Bo(d.updateSourceElement))throw new z("attachtoform-missing-elementapi-interface",d);const p=d.sourceElement;if(function(g){return!!g&&g.tagName.toLowerCase()==="textarea"}(p)&&p.form){let g;const b=p.form,w=()=>d.updateSourceElement();Bo(b.submit)&&(g=b.submit,b.submit=()=>{w(),g.apply(b)}),b.addEventListener("submit",w),d.on("destroy",()=>{b.removeEventListener("submit",w),g&&(b.submit=g)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(i=>{const l=new this(e,t);i(l.initPlugins().then(()=>l.ui.init(Ap(e)?e:null)).then(()=>l.data.init(l.config.get("initialData"))).then(()=>l.fire("ready")).then(()=>l))})}}function Ap(c){return zn(c)}Cp.Context=X_,Cp.EditorWatchdog=dx,Cp.ContextWatchdog=class extends sx{constructor(c,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new yL,this._watchdogConfig=e,this._creator=t=>c.create(t),this._destructor=t=>t.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(c){this._creator=c}setDestructor(c){this._destructor=c}get context(){return this._context}create(c={}){return this._actionQueues.enqueue(Nu,()=>(this._contextConfig=c,this._create()))}getItem(c){return this._getWatchdog(c)._item}getItemState(c){return this._getWatchdog(c).state}add(c){const e=hx(c);return Promise.all(e.map(t=>this._actionQueues.enqueue(t.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let i;if(this._watchdogs.has(t.id))throw new Error(`Item with the given id is already added: '${t.id}'.`);if(t.type==="editor")return i=new dx(null,this._watchdogConfig),i.setCreator(t.creator),i._setExcludedProperties(this._contextProps),t.destructor&&i.setDestructor(t.destructor),this._watchdogs.set(t.id,i),i.on("error",(l,{error:d,causesRestart:p})=>{this._fire("itemError",{itemId:t.id,error:d}),p&&this._actionQueues.enqueue(t.id,()=>new Promise(g=>{const b=()=>{i.off("restart",b),this._fire("itemRestart",{itemId:t.id}),g()};i.on("restart",b)}))}),i.create(t.sourceElementOrData,t.config,this._context);throw new Error(`Not supported item type: '${t.type}'.`)})))}remove(c){const e=hx(c);return Promise.all(e.map(t=>this._actionQueues.enqueue(t,()=>{const i=this._getWatchdog(t);return this._watchdogs.delete(t),i.destroy()})))}destroy(){return this._actionQueues.enqueue(Nu,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Nu,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(c=>{console.error("An error happened during destroying the context or items.",c)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(c=>(this._context=c,this._contextProps=db(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const c=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(c))})}_getWatchdog(c){const e=this._watchdogs.get(c);if(!e)throw new Error(`Item with the given id was not registered: ${c}.`);return e}_isErrorComingFromThisItem(c){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(c))return!1;return ax(this._context,c.context)}};class Ou extends is{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;function i(l){return(d,p)=>{p.preventDefault();const g=p.dropRange?[p.dropRange]:null,b=new I(t,l);t.fire(b,{dataTransfer:p.dataTransfer,method:d.name,targetRanges:g,target:p.target,domEvent:p.domEvent}),b.stop.called&&p.stopPropagation()}}this.listenTo(t,"paste",i("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",i("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",i("dragging"),{priority:"low"})}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,i=e.type=="drop"||e.type=="paste",l={dataTransfer:new HC(t,{cacheFiles:i})};e.type!="drop"&&e.type!="dragover"||(l.dropRange=function(d,p){const g=p.target.ownerDocument,b=p.clientX,w=p.clientY;let y;return g.caretRangeFromPoint&&g.caretRangeFromPoint(b,w)?y=g.caretRangeFromPoint(b,w):p.rangeParent&&(y=g.createRange(),y.setStart(p.rangeParent,p.rangeOffset),y.collapse(!0)),y?d.domConverter.domRangeToView(y):null}(this.view,e)),this.fire(e.type,e,l)}}const px=["figcaption","li"];function fx(c){let e="";if(c.is("$text")||c.is("$textProxy"))e=c.data;else if(c.is("element","img")&&c.hasAttribute("alt"))e=c.getAttribute("alt");else if(c.is("element","br"))e=`
`;else{let t=null;for(const i of c.getChildren()){const l=fx(i);t&&(t.is("containerElement")||i.is("containerElement"))&&(px.includes(t.name)||px.includes(i.name)?e+=`
`:e+=`

`),e+=l,t=i}}return e}class Ko extends pe{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Ou),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,i){const l=this.editor.model.getSelectedContent(t);this.fire("outputTransformation",{dataTransfer:e,content:l,method:i})}_setupPasteDrop(){const e=this.editor,t=e.model,i=e.editing.view,l=i.document;this.listenTo(l,"clipboardInput",(d,p)=>{p.method!="paste"||e.model.canEditAt(e.model.document.selection)||d.stop()},{priority:"highest"}),this.listenTo(l,"clipboardInput",(d,p)=>{const g=p.dataTransfer;let b;if(p.content)b=p.content;else{let A="";g.getData("text/html")?A=function(E){return E.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(D,M)=>M.length==1?" ":M).replace(/<!--[\s\S]*?-->/g,"")}(g.getData("text/html")):g.getData("text/plain")&&(((w=(w=g.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||w.includes("<br>"))&&(w=`<p>${w}</p>`),A=w),b=this.editor.data.htmlProcessor.toView(A)}var w;const y=new I(this,"inputTransformation");this.fire(y,{content:b,dataTransfer:g,targetRanges:p.targetRanges,method:p.method}),y.stop.called&&d.stop(),i.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(d,p)=>{if(p.content.isEmpty)return;const g=this.editor.data.toModel(p.content,"$clipboardHolder");g.childCount!=0&&(d.stop(),t.change(()=>{this.fire("contentInsertion",{content:g,method:p.method,dataTransfer:p.dataTransfer,targetRanges:p.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(d,p)=>{p.resultRange=t.insertContent(p.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,i=e.editing.view.document,l=(d,p)=>{const g=p.dataTransfer;p.preventDefault(),this._fireOutputTransformationEvent(g,t.selection,d.name)};this.listenTo(i,"copy",l,{priority:"low"}),this.listenTo(i,"cut",(d,p)=>{e.model.canEditAt(e.model.document.selection)?l(d,p):p.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(d,p)=>{const g=e.data.toView(p.content);i.fire("clipboardOutput",{dataTransfer:p.dataTransfer,content:g,method:p.method})},{priority:"low"}),this.listenTo(i,"clipboardOutput",(d,p)=>{p.content.isEmpty||(p.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(p.content)),p.dataTransfer.setData("text/plain",fx(p.content))),p.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}class gx{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(i,l)=>{l.isLocal&&l.isUndoable&&l!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class _L extends nt{constructor(e,t){super(e),this._buffer=new gx(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,i=t.document,l=e.text||"",d=l.length;let p=i.selection;if(e.selection?p=e.selection:e.range&&(p=t.createSelection(e.range)),!t.canEditAt(p))return;const g=e.resultRange;t.enqueueChange(this._buffer.batch,b=>{this._buffer.lock(),t.deleteContent(p),l&&t.insertContent(b.createText(l,i.selection.getAttributes()),p),g?b.setSelection(g):p.is("documentSelection")||b.setSelection(p),this._buffer.unlock(),this._buffer.input(d)})}}const mx=["insertText","insertReplacementText"];class CL extends $o{constructor(e){super(e),this.focusObserver=e.getObserver(cp),_.isAndroid&&mx.push("insertCompositionText");const t=e.document;t.on("beforeinput",(i,l)=>{if(!this.isEnabled)return;const{data:d,targetRanges:p,inputType:g,domEvent:b}=l;if(!mx.includes(g))return;this.focusObserver.flush();const w=new I(t,"insertText");t.fire(w,new Cc(e,b,{text:d,selection:e.createSelection(p)})),w.stop.called&&i.stop()}),t.on("compositionend",(i,{data:l,domEvent:d})=>{this.isEnabled&&!_.isAndroid&&l&&t.fire("insertText",new Cc(e,d,{text:l,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class kx extends pe{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,i=e.editing.view,l=t.document.selection;i.addObserver(CL);const d=new _L(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",d),e.commands.add("input",d),this.listenTo(i.document,"insertText",(p,g)=>{i.document.isComposing||g.preventDefault();const{text:b,selection:w,resultRange:y}=g,A=Array.from(w.getRanges()).map(M=>e.editing.mapper.toModelRange(M));let E=b;if(_.isAndroid){const M=Array.from(A[0].getItems()).reduce((R,U)=>R+(U.is("$textProxy")?U.data:""),"");M&&(M.length<=E.length?E.startsWith(M)&&(E=E.substring(M.length),A[0].start=A[0].start.getShiftedBy(M.length)):M.startsWith(E)&&(A[0].start=A[0].start.getShiftedBy(E.length),E=""))}const D={text:E,selection:t.createSelection(A)};y&&(D.resultRange=e.editing.mapper.toModelRange(y)),e.execute("insertText",D),i.scrollToTheSelection()}),_.isAndroid?this.listenTo(i.document,"keydown",(p,g)=>{!l.isCollapsed&&g.keyCode==229&&i.document.isComposing&&bx(t,d)}):this.listenTo(i.document,"compositionstart",()=>{l.isCollapsed||bx(t,d)})}}function bx(c,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),c.enqueueChange(t.batch,()=>{c.deleteContent(c.document.selection)}),t.unlock()}class wx extends nt{constructor(e,t){super(e),this.direction=t,this._buffer=new gx(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,i=t.document;t.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const d=l.createSelection(e.selection||i.selection);if(!t.canEditAt(d))return;const p=e.sequence||1,g=d.isCollapsed;if(d.isCollapsed&&t.modifySelection(d,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(p))return void this._replaceEntireContentWithParagraph(l);if(this._shouldReplaceFirstBlockWithParagraph(d,p))return void this.editor.execute("paragraph",{selection:d});if(d.isCollapsed)return;let b=0;d.getFirstRange().getMinimalFlatRanges().forEach(w=>{b+=$(w.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(d,{doNotResetEntireContent:g,direction:this.direction}),this._buffer.input(b),l.setSelection(d),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,i=t.document.selection,l=t.schema.getLimitElement(i);if(!(i.isCollapsed&&i.containsEntireContent(l))||!t.schema.checkChild(l,"paragraph"))return!1;const d=l.getChild(0);return!d||!d.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const t=this.editor.model,i=t.document.selection,l=t.schema.getLimitElement(i),d=e.createElement("paragraph");e.remove(e.createRangeIn(l)),e.insert(d,l),e.setSelection(d,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const i=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const l=e.getFirstPosition(),d=i.schema.getLimitElement(l),p=d.getChild(0);return l.parent==p&&!!e.containsEntireContent(p)&&!!i.schema.checkChild(d,"paragraph")&&p.name!="paragraph"}}const vx="word",ls="selection",Tc="backward",Bu="forward",yx={deleteContent:{unit:ls,direction:Tc},deleteContentBackward:{unit:"codePoint",direction:Tc},deleteWordBackward:{unit:vx,direction:Tc},deleteHardLineBackward:{unit:ls,direction:Tc},deleteSoftLineBackward:{unit:ls,direction:Tc},deleteContentForward:{unit:"character",direction:Bu},deleteWordForward:{unit:vx,direction:Bu},deleteHardLineForward:{unit:ls,direction:Bu},deleteSoftLineForward:{unit:ls,direction:Bu}};class AL extends $o{constructor(e){super(e);const t=e.document;let i=0;t.on("keydown",()=>{i++}),t.on("keyup",()=>{i=0}),t.on("beforeinput",(l,d)=>{if(!this.isEnabled)return;const{targetRanges:p,domEvent:g,inputType:b}=d,w=yx[b];if(!w)return;const y={direction:w.direction,unit:w.unit,sequence:i};y.unit==ls&&(y.selectionToRemove=e.createSelection(p[0])),b==="deleteContentBackward"&&(_.isAndroid&&(y.sequence=1),function(E){if(E.length!=1||E[0].isCollapsed)return!1;const D=E[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let M=0;for(const{nextPosition:R}of D){if(R.parent.is("$text")){const U=R.parent.data,W=R.offset;if(ck(U,W)||lk(U,W)||C_(U,W))continue;M++}else M++;if(M>1)return!0}return!1}(p)&&(y.unit=ls,y.selectionToRemove=e.createSelection(p)));const A=new yc(t,"delete",p[0]);t.fire(A,new Cc(e,g,y)),A.stop.called&&l.stop()}),_.isBlink&&function(l){const d=l.view,p=d.document;let g=null,b=!1;function w(A){return A==dt.backspace||A==dt.delete}function y(A){return A==dt.backspace?Tc:Bu}p.on("keydown",(A,{keyCode:E})=>{g=E,b=!1}),p.on("keyup",(A,{keyCode:E,domEvent:D})=>{const M=p.selection,R=l.isEnabled&&E==g&&w(E)&&!M.isCollapsed&&!b;if(g=null,R){const U=M.getFirstRange(),W=new yc(p,"delete",U),J={unit:ls,direction:y(E),selectionToRemove:M};p.fire(W,new Cc(d,D,J))}}),p.on("beforeinput",(A,{inputType:E})=>{const D=yx[E];w(g)&&D&&D.direction==y(g)&&(b=!0)},{priority:"high"}),p.on("beforeinput",(A,{inputType:E,data:D})=>{g==dt.delete&&E=="insertText"&&D==""&&A.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class bi extends pe{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,i=t.document,l=e.model.document;t.addObserver(AL),this._undoOnBackspace=!1;const d=new wx(e,"forward");e.commands.add("deleteForward",d),e.commands.add("forwardDelete",d),e.commands.add("delete",new wx(e,"backward")),this.listenTo(i,"delete",(p,g)=>{i.isComposing||g.preventDefault();const{direction:b,sequence:w,selectionToRemove:y,unit:A}=g,E=b==="forward"?"deleteForward":"delete",D={sequence:w};if(A=="selection"){const M=Array.from(y.getRanges()).map(R=>e.editing.mapper.toModelRange(R));D.selection=e.model.createSelection(M)}else D.unit=A;e.execute(E,D),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(i,"delete",(p,g)=>{this._undoOnBackspace&&g.direction=="backward"&&g.sequence==1&&g.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),g.preventDefault(),p.stop())},{context:"$capture"}),this.listenTo(l,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class xL extends pe{static get requires(){return[kx,bi]}static get pluginName(){return"Typing"}}function _x(c,e){let t=c.start;return{text:Array.from(c.getWalker({ignoreElementEnd:!1})).reduce((i,{item:l})=>l.is("$text")||l.is("$textProxy")?i+l.data:(t=e.createPositionAfter(l),""),""),range:e.createRange(t,c.end)}}class Cx extends Ve(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(t,{directChange:i})=>{i&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(t,i)=>{!i.isUndo&&i.isLocal&&this._evaluateTextBeforeSelection("data",{batch:i})})}_evaluateTextBeforeSelection(e,t={}){const i=this.model,l=i.document.selection,d=i.createRange(i.createPositionAt(l.focus.parent,0),l.focus),{text:p,range:g}=_x(d,i),b=this.testCallback(p);if(!b&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!b,b){const w=Object.assign(t,{text:p,range:g});typeof b=="object"&&Object.assign(w,b),this.fire(`matched:${e}`,w)}}}class Ax extends pe{constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,t=e.model,i=e.editing.view,l=e.locale,d=t.document.selection;this.listenTo(i.document,"arrowKey",(p,g)=>{if(!d.isCollapsed||g.shiftKey||g.altKey||g.ctrlKey)return;const b=g.keyCode==dt.arrowright,w=g.keyCode==dt.arrowleft;if(!b&&!w)return;const y=l.contentLanguageDirection;let A=!1;A=y==="ltr"&&b||y==="rtl"&&w?this._handleForwardMovement(g):this._handleBackwardMovement(g),A===!0&&p.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(d,"change:range",(p,g)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!g.directChange&&Ep(d.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,i=this.editor.model.document.selection,l=i.getFirstPosition();return!this._isGravityOverridden&&(!l.isAtStart||!pb(i,t))&&!!Ep(l,t)&&(xp(e),this._overrideGravity(),!0)}_handleBackwardMovement(e){const t=this.attributes,i=this.editor.model,l=i.document.selection,d=l.getFirstPosition();return this._isGravityOverridden?(xp(e),this._restoreGravity(),fb(i,t,d),!0):d.isAtStart?!!pb(l,t)&&(xp(e),fb(i,t,d),!0):!!function(p,g){const b=p.getShiftedBy(-1);return Ep(b,g)}(d,t)&&(d.isAtEnd&&!pb(l,t)&&Ep(d,t)?(xp(e),fb(i,t,d),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function pb(c,e){for(const t of e)if(c.hasAttribute(t))return!0;return!1}function fb(c,e,t){const i=t.nodeBefore;c.change(l=>{if(i){const d=[],p=c.schema.isObject(i)&&c.schema.isInline(i);for(const[g,b]of i.getAttributes())!c.schema.checkAttribute("$text",g)||p&&c.schema.getAttributeProperties(g).copyFromObject===!1||d.push([g,b]);l.setSelectionAttribute(d)}else l.removeSelectionAttribute(e)})}function xp(c){c.preventDefault()}function Ep(c,e){const{nodeBefore:t,nodeAfter:i}=c;for(const l of e){const d=t?t.getAttribute(l):void 0;if((i?i.getAttribute(l):void 0)!==d)return!0}return!1}const xx={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:Ic('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:Ic("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:Ic("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:Ic('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:Ic('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:Ic("'"),to:[null,"‚",null,"’"]}},Ex={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},EL=["symbols","mathematical","typography","quotes"];function SL(c){return typeof c=="string"?new RegExp(`(${Q1(c)})$`):c}function DL(c){return typeof c=="string"?()=>[c]:c instanceof Array?()=>c:c}function TL(c){return(c.textNode?c.textNode:c.nodeAfter).getAttributes()}function Ic(c){return new RegExp(`(^|\\s)(${c})([^${c}]*)(${c})$`)}function Mc(c,e,t,i){return i.createRange(Sx(c,e,t,!0,i),Sx(c,e,t,!1,i))}function Sx(c,e,t,i,l){let d=c.textNode||(i?c.nodeBefore:c.nodeAfter),p=null;for(;d&&d.getAttribute(e)==t;)p=d,d=i?d.previousSibling:d.nextSibling;return p?l.createPositionAt(p,i?"before":"after"):c}function*Dx(c,e){for(const t of e)t&&c.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class IL extends nt{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,i=t.document.selection,l=t.schema,d=i.isCollapsed,p=i.getFirstRange(),g=p.start.parent,b=p.end.parent;if(l.isLimit(g)||l.isLimit(b))return d||g!=b||t.deleteContent(i),!1;if(d){const w=Dx(e.model.schema,i.getAttributes());return Tx(e,p.start),e.setSelectionAttribute(w),!0}{const w=!(p.start.isAtStart&&p.end.isAtEnd),y=g==b;if(t.deleteContent(i,{leaveUnmerged:w}),w){if(y)return Tx(e,i.focus),!0;e.setSelection(b,0)}}return!1}}function Tx(c,e){c.split(e),c.setSelection(e.parent.nextSibling,0)}const ML={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class Ix extends $o{constructor(e){super(e);const t=this.document;let i=!1;t.on("keydown",(l,d)=>{i=d.shiftKey}),t.on("beforeinput",(l,d)=>{if(!this.isEnabled)return;let p=d.inputType;_.isSafari&&i&&p=="insertParagraph"&&(p="insertLineBreak");const g=d.domEvent,b=ML[p];if(!b)return;const w=new yc(t,"enter",d.targetRanges[0]);t.fire(w,new Cc(e,g,{isSoft:b.isSoft})),w.stop.called&&l.stop()})}observe(){}stopObserving(){}}class Sp extends pe{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,i=t.document;t.addObserver(Ix),e.commands.add("enter",new IL(e)),this.listenTo(i,"enter",(l,d)=>{i.isComposing||d.preventDefault(),d.isSoft||(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"})}}class PL extends nt{execute(){const e=this.editor.model,t=e.document;e.change(i=>{(function(l,d,p){const g=p.isCollapsed,b=p.getFirstRange(),w=b.start.parent,y=b.end.parent,A=w==y;if(g){const E=Dx(l.schema,p.getAttributes());Mx(l,d,b.end),d.removeSelectionAttribute(p.getAttributeKeys()),d.setSelectionAttribute(E)}else{const E=!(b.start.isAtStart&&b.end.isAtEnd);l.deleteContent(p,{leaveUnmerged:E}),A?Mx(l,d,p.focus):E&&d.setSelection(y,0)}})(e,i,t.selection),this.fire("afterExecute",{writer:i})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=function(i,l){if(l.rangeCount>1)return!1;const d=l.anchor;if(!d||!i.checkChild(d,"softBreak"))return!1;const p=l.getFirstRange(),g=p.start.parent,b=p.end.parent;return!((gb(g,i)||gb(b,i))&&g!==b)}(e.schema,t.selection)}}function Mx(c,e,t){const i=e.createElement("softBreak");c.insertContent(i,t),e.setSelection(i,"after")}function gb(c,e){return!c.is("rootElement")&&(e.isLimit(c)||gb(c.parent,e))}class NL extends pe{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,i=e.conversion,l=e.editing.view,d=l.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),i.for("upcast").elementToElement({model:"softBreak",view:"br"}),i.for("downcast").elementToElement({model:"softBreak",view:(p,{writer:g})=>g.createEmptyElement("br")}),l.addObserver(Ix),e.commands.add("shiftEnter",new PL(e)),this.listenTo(d,"enter",(p,g)=>{d.isComposing||g.preventDefault(),g.isSoft&&(e.execute("shiftEnter"),l.scrollToTheSelection())},{priority:"low"})}}class OL extends ge(){constructor(){super(...arguments),this._stack=[]}add(e,t){const i=this._stack,l=i[0];this._insertDescriptor(e);const d=i[0];l===d||mb(l,d)||this.fire("change:top",{oldDescriptor:l,newDescriptor:d,writer:t})}remove(e,t){const i=this._stack,l=i[0];this._removeDescriptor(e);const d=i[0];l===d||mb(l,d)||this.fire("change:top",{oldDescriptor:l,newDescriptor:d,writer:t})}_insertDescriptor(e){const t=this._stack,i=t.findIndex(d=>d.id===e.id);if(mb(e,t[i]))return;i>-1&&t.splice(i,1);let l=0;for(;t[l]&&BL(t[l],e);)l++;t.splice(l,0,e)}_removeDescriptor(e){const t=this._stack,i=t.findIndex(l=>l.id===e);i>-1&&t.splice(i,1)}}function mb(c,e){return c&&e&&c.priority==e.priority&&Dp(c.classes)==Dp(e.classes)}function BL(c,e){return c.priority>e.priority||!(c.priority<e.priority)&&Dp(c.classes)>Dp(e.classes)}function Dp(c){return Array.isArray(c)?c.sort().join(","):c}const RL='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',LL="ck-widget",Px="ck-widget_selected";function An(c){return!!c.is("element")&&!!c.getCustomProperty("widget")}function kb(c,e,t={}){if(!c.is("containerElement"))throw new z("widget-to-widget-wrong-element-type",null,{element:c});return e.setAttribute("contenteditable","false",c),e.addClass(LL,c),e.setCustomProperty("widget",!0,c),c.getFillerOffset=FL,e.setCustomProperty("widgetLabel",[],c),t.label&&function(i,l){i.getCustomProperty("widgetLabel").push(l)}(c,t.label),t.hasSelectionHandle&&function(i,l){const d=l.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(p){const g=this.toDomElement(p),b=new ea;return b.set("content",RL),b.render(),g.appendChild(b.element),g});l.insert(l.createPositionAt(i,0),d),l.addClass(["ck-widget_with-selection-handle"],i)}(c,e),Nx(c,e),c}function jL(c,e,t){if(e.classes&&t.addClass(Sn(e.classes),c),e.attributes)for(const i in e.attributes)t.setAttribute(i,e.attributes[i],c)}function zL(c,e,t){if(e.classes&&t.removeClass(Sn(e.classes),c),e.attributes)for(const i in e.attributes)t.removeAttribute(i,c)}function Nx(c,e,t=jL,i=zL){const l=new OL;l.on("change:top",(d,p)=>{p.oldDescriptor&&i(c,p.oldDescriptor,p.writer),p.newDescriptor&&t(c,p.newDescriptor,p.writer)}),e.setCustomProperty("addHighlight",(d,p,g)=>l.add(p,g),c),e.setCustomProperty("removeHighlight",(d,p,g)=>l.remove(p,g),c)}function Ox(c,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],c),e.setAttribute("role","textbox",c),t.label&&e.setAttribute("aria-label",t.label,c),e.setAttribute("contenteditable",c.isReadOnly?"false":"true",c),c.on("change:isReadOnly",(i,l,d)=>{e.setAttribute("contenteditable",d?"false":"true",c)}),c.on("change:isFocused",(i,l,d)=>{d?e.addClass("ck-editor__nested-editable_focused",c):e.removeClass("ck-editor__nested-editable_focused",c)}),Nx(c,e),c}function Bx(c,e){const t=c.getSelectedElement();if(t){const i=us(c);if(i)return e.createRange(e.createPositionAt(t,i))}return n1(c,e)}function FL(){return null}const wi="widget-type-around";function ha(c,e,t){return!!c&&An(c)&&!t.isInline(e)}function us(c){return c.getAttribute(wi)}var Rx=a(4921),UL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Rx.Z,UL),Rx.Z.locals;const Lx=["before","after"],VL=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,jx="ck-widget__type-around_disabled";class HL extends pe{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Sp,bi]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(i,l,d)=>{t.change(p=>{for(const g of t.document.roots)d?p.removeClass(jx,g):p.addClass(jx,g)}),d||e.model.change(p=>{p.removeSelectionAttribute(wi)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const i=this.editor,l=i.editing.view,d=i.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);i.execute("insertParagraph",{position:i.model.createPositionAt(e,t),attributes:d}),l.focus(),l.scrollToTheSelection()}_listenToIfEnabled(e,t,i,l){this.listenTo(e,t,(...d)=>{this.isEnabled&&i(...d)},l)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=us(e);if(!t)return!1;const i=e.getSelectedElement();return this._insertParagraph(i,t),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,i=e.locale.t,l={before:i("Insert paragraph before block"),after:i("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(d,p,g)=>{const b=g.mapper.toViewElement(p.item);b&&ha(b,p.item,t)&&(function(w,y,A){const E=w.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(D){const M=this.toDomElement(D);return function(R,U){for(const W of Lx){const J=new ho({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${W}`],title:U[W],"aria-hidden":"true"},children:[R.ownerDocument.importNode(VL,!0)]});R.appendChild(J.render())}}(M,y),function(R){const U=new ho({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});R.appendChild(U.render())}(M),M});w.insert(w.createPositionAt(A,"end"),E)}(g.writer,l,b),b.getCustomProperty("widgetLabel").push(()=>this.isEnabled?i("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,i=t.document.selection,l=t.schema,d=e.editing.view;function p(g){return`ck-widget_type-around_show-fake-caret_${g}`}this._listenToIfEnabled(d.document,"arrowKey",(g,b)=>{this._handleArrowKeyPress(g,b)},{context:[An,"$text"],priority:"high"}),this._listenToIfEnabled(i,"change:range",(g,b)=>{b.directChange&&e.model.change(w=>{w.removeSelectionAttribute(wi)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const g=i.getSelectedElement();g&&ha(e.editing.mapper.toViewElement(g),g,l)||e.model.change(b=>{b.removeSelectionAttribute(wi)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(g,b,w)=>{const y=w.writer;if(this._currentFakeCaretModelElement){const M=w.mapper.toViewElement(this._currentFakeCaretModelElement);M&&(y.removeClass(Lx.map(p),M),this._currentFakeCaretModelElement=null)}const A=b.selection.getSelectedElement();if(!A)return;const E=w.mapper.toViewElement(A);if(!ha(E,A,l))return;const D=us(b.selection);D&&(y.addClass(p(D),E),this._currentFakeCaretModelElement=A)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(g,b,w)=>{w||e.model.change(y=>{y.removeSelectionAttribute(wi)})})}_handleArrowKeyPress(e,t){const i=this.editor,l=i.model,d=l.document.selection,p=l.schema,g=i.editing.view,b=function(A,E){const D=sk(A,E);return D==="down"||D==="right"}(t.keyCode,i.locale.contentLanguageDirection),w=g.document.selection.getSelectedElement();let y;ha(w,i.editing.mapper.toModelElement(w),p)?y=this._handleArrowKeyPressOnSelectedWidget(b):d.isCollapsed?y=this._handleArrowKeyPressWhenSelectionNextToAWidget(b):t.shiftKey||(y=this._handleArrowKeyPressWhenNonCollapsedSelection(b)),y&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor.model,i=us(t.document.selection);return t.change(l=>i?i!==(e?"after":"before")?(l.removeSelectionAttribute(wi),!0):!1:(l.setSelectionAttribute(wi,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,i=t.model,l=i.schema,d=t.plugins.get("Widget"),p=d._getObjectElementNextToSelection(e);return!!ha(t.editing.mapper.toViewElement(p),p,l)&&(i.change(g=>{d._setSelectionOverElement(p),g.setSelectionAttribute(wi,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,i=t.model,l=i.schema,d=t.editing.mapper,p=i.document.selection,g=e?p.getLastPosition().nodeBefore:p.getFirstPosition().nodeAfter;return!!ha(d.toViewElement(g),g,l)&&(i.change(b=>{b.setSelection(g,"on"),b.setSelectionAttribute(wi,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(i,l)=>{const d=l.domTarget.closest(".ck-widget__type-around__button");if(!d)return;const p=function(w){return w.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(d),g=function(w,y){const A=w.closest(".ck-widget");return y.mapDomToView(A)}(d,t.domConverter),b=e.editing.mapper.toModelElement(g);this._insertParagraph(b,p),l.preventDefault(),i.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,i=e.editing.view;this._listenToIfEnabled(i.document,"enter",(l,d)=>{if(l.eventPhase!="atTarget")return;const p=t.getSelectedElement(),g=e.editing.mapper.toViewElement(p),b=e.model.schema;let w;this._insertParagraphAccordingToFakeCaretPosition()?w=!0:ha(g,p,b)&&(this._insertParagraph(p,d.isSoft?"before":"after"),w=!0),w&&(d.preventDefault(),l.stop())},{context:An})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(t,i)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(i.selection=e.selection)},{priority:"high"}),_.isAndroid?this._listenToIfEnabled(e,"keydown",(t,i)=>{i.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,i=e.model,l=i.schema;this._listenToIfEnabled(t.document,"delete",(d,p)=>{if(d.eventPhase!="atTarget")return;const g=us(i.document.selection);if(!g)return;const b=p.direction,w=i.document.selection.getSelectedElement(),y=b=="forward";if(g==="before"===y)e.execute("delete",{selection:i.createSelection(w,"on")});else{const A=l.getNearestSelectionRange(i.createPositionAt(w,g),b);if(A)if(A.isCollapsed){const E=i.createSelection(A.start);if(i.modifySelection(E,{direction:b}),E.focus.isEqual(A.start)){const D=function(M,R){let U=R;for(const W of R.getAncestors({parentFirst:!0})){if(W.childCount>1||M.isLimit(W))break;U=W}return U}(l,A.start.parent);i.deleteContent(i.createSelection(D,"on"),{doNotAutoparagraph:!0})}else i.change(D=>{D.setSelection(A),e.execute(y?"deleteForward":"delete")})}else i.change(E=>{E.setSelection(A),e.execute(y?"deleteForward":"delete")})}p.preventDefault(),d.stop()},{context:An})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,i=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(l,[d,p])=>{if(p&&!p.is("documentSelection"))return;const g=us(i);return g?(l.stop(),t.change(b=>{const w=i.getSelectedElement(),y=t.createPositionAt(w,g),A=b.createSelection(y),E=t.insertContent(d,A);return b.setSelection(A),E})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(i,l)=>{const[,d,p={}]=l;if(d&&!d.is("documentSelection"))return;const g=us(t);g&&(p.findOptimalPosition=g,l[3]=p)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(i,[l])=>{l&&!l.is("documentSelection")||us(t)&&i.stop()},{priority:"high"})}}function WL(c){const e=c.model;return(t,i)=>{const l=i.keyCode==dt.arrowup,d=i.keyCode==dt.arrowdown,p=i.shiftKey,g=e.document.selection;if(!l&&!d)return;const b=d;if(p&&function(y,A){return!y.isCollapsed&&y.isBackward==A}(g,b))return;const w=function(y,A,E){const D=y.model;if(E){const M=A.isCollapsed?A.focus:A.getLastPosition(),R=zx(D,M,"forward");if(!R)return null;const U=D.createRange(M,R),W=Fx(D.schema,U,"backward");return W?D.createRange(M,W):null}{const M=A.isCollapsed?A.focus:A.getFirstPosition(),R=zx(D,M,"backward");if(!R)return null;const U=D.createRange(R,M),W=Fx(D.schema,U,"forward");return W?D.createRange(W,M):null}}(c,g,b);if(w){if(w.isCollapsed&&(g.isCollapsed||p))return;(w.isCollapsed||function(y,A,E){const D=y.model,M=y.view.domConverter;if(E){const ie=D.createSelection(A.start);D.modifySelection(ie),ie.focus.isAtEnd||A.start.isEqual(ie.focus)||(A=D.createRange(ie.focus,A.end))}const R=y.mapper.toViewRange(A),U=M.viewRangeToDom(R),W=ft.getDomRangeRects(U);let J;for(const ie of W)if(J!==void 0){if(Math.round(ie.top)>=J)return!1;J=Math.max(J,Math.round(ie.bottom))}else J=Math.round(ie.bottom);return!0}(c,w,b))&&(e.change(y=>{const A=b?w.end:w.start;if(p){const E=e.createSelection(g.anchor);E.setFocus(A),y.setSelection(E)}else y.setSelection(A)}),t.stop(),i.preventDefault(),i.stopPropagation())}}}function zx(c,e,t){const i=c.schema,l=c.createRangeIn(e.root),d=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:p,item:g,type:b}of l.getWalker({startPosition:e,direction:t})){if(i.isLimit(g)&&!i.isInline(g))return p;if(b==d&&i.isBlock(g))return null}return null}function Fx(c,e,t){const i=t=="backward"?e.end:e.start;if(c.checkChild(i,"$text"))return i;for(const{nextPosition:l}of e.getWalker({direction:t}))if(c.checkChild(l,"$text"))return l;return null}var Ux=a(3488),$L={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Ux.Z,$L),Ux.Z.locals;class Ru extends pe{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[HL,bi]}init(){const e=this.editor,t=e.editing.view,i=t.document;this.editor.editing.downcastDispatcher.on("selection",(l,d,p)=>{const g=p.writer,b=d.selection;if(b.isCollapsed)return;const w=b.getSelectedElement();if(!w)return;const y=e.editing.mapper.toViewElement(w);var A;An(y)&&p.consumable.consume(b,"selection")&&g.setSelection(g.createRangeOn(y),{fake:!0,label:(A=y,A.getCustomProperty("widgetLabel").reduce((E,D)=>typeof D=="function"?E?E+". "+D():D():E?E+". "+D:D,""))})}),this.editor.editing.downcastDispatcher.on("selection",(l,d,p)=>{this._clearPreviouslySelectedWidgets(p.writer);const g=p.writer,b=g.document.selection;let w=null;for(const y of b.getRanges())for(const A of y){const E=A.item;An(E)&&!YL(E,w)&&(g.addClass(Px,E),this._previouslySelected.add(E),w=E)}},{priority:"low"}),t.addObserver(Kk),this.listenTo(i,"mousedown",(...l)=>this._onMousedown(...l)),this.listenTo(i,"arrowKey",(...l)=>{this._handleSelectionChangeOnArrowKeyPress(...l)},{context:[An,"$text"]}),this.listenTo(i,"arrowKey",(...l)=>{this._preventDefaultOnArrowKeyPress(...l)},{context:"$root"}),this.listenTo(i,"arrowKey",WL(this.editor.editing),{context:"$text"}),this.listenTo(i,"delete",(l,d)=>{this._handleDelete(d.direction=="forward")&&(d.preventDefault(),l.stop())},{context:"$root"})}_onMousedown(e,t){const i=this.editor,l=i.editing.view,d=l.document;let p=t.target;if(function(b){let w=b;for(;w;){if(w.is("editableElement")&&!w.is("rootElement"))return!0;if(An(w))return!1;w=w.parent}return!1}(p)){if((_.isSafari||_.isGecko)&&t.domEvent.detail>=3){const b=i.editing.mapper,w=p.is("attributeElement")?p.findAncestor(A=>!A.is("attributeElement")):p,y=b.toModelElement(w);t.preventDefault(),this.editor.model.change(A=>{A.setSelection(y,"in")})}return}if(!An(p)&&(p=p.findAncestor(An),!p))return;_.isAndroid&&t.preventDefault(),d.isFocused||l.focus();const g=i.editing.mapper.toModelElement(p);this._setSelectionOverElement(g)}_handleSelectionChangeOnArrowKeyPress(e,t){const i=t.keyCode,l=this.editor.model,d=l.schema,p=l.document.selection,g=p.getSelectedElement(),b=sk(i,this.editor.locale.contentLanguageDirection),w=b=="down"||b=="right",y=b=="up"||b=="down";if(g&&d.isObject(g)){const E=w?p.getLastPosition():p.getFirstPosition(),D=d.getNearestSelectionRange(E,w?"forward":"backward");return void(D&&(l.change(M=>{M.setSelection(D)}),t.preventDefault(),e.stop()))}if(!p.isCollapsed&&!t.shiftKey){const E=p.getFirstPosition(),D=p.getLastPosition(),M=E.nodeAfter,R=D.nodeBefore;return void((M&&d.isObject(M)||R&&d.isObject(R))&&(l.change(U=>{U.setSelection(w?D:E)}),t.preventDefault(),e.stop()))}if(!p.isCollapsed)return;const A=this._getObjectElementNextToSelection(w);if(A&&d.isObject(A)){if(d.isInline(A)&&y)return;this._setSelectionOverElement(A),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const i=this.editor.model,l=i.schema,d=i.document.selection.getSelectedElement();d&&l.isObject(d)&&(t.preventDefault(),e.stop())}_handleDelete(e){const t=this.editor.model.document.selection;if(!this.editor.model.canEditAt(t)||!t.isCollapsed)return;const i=this._getObjectElementNextToSelection(e);return i?(this.editor.model.change(l=>{let d=t.anchor.parent;for(;d.isEmpty;){const p=d;d=p.parent,l.remove(p)}this._setSelectionOverElement(i)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,i=t.schema,l=t.document.selection,d=t.createSelection(l);if(t.modifySelection(d,{direction:e?"forward":"backward"}),d.isEqual(l))return null;const p=e?d.focus.nodeBefore:d.focus.nodeAfter;return p&&i.isObject(p)?p:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(Px,t);this._previouslySelected.clear()}}function YL(c,e){return!!e&&Array.from(c.getAncestors()).includes(e)}class Tp extends pe{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[yp]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",i=>{(function(l){const d=l.getSelectedElement();return!(!d||!An(d))})(e.editing.view.document.selection)&&i.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:i,getRelatedElement:l,balloonClassName:d="ck-toolbar-container"}){if(!i.length)return void te("widget-toolbar-no-items",{toolbarId:e});const p=this.editor,g=p.t,b=new Qk(p.locale);if(b.ariaLabel=t||g("Widget toolbar"),this._toolbarDefinitions.has(e))throw new z("widget-toolbar-duplicated",this,{toolbarId:e});const w={view:b,getRelatedElement:l,balloonClassName:d,itemsConfig:i,initialized:!1};p.ui.addToolbar(b,{isContextual:!0,beforeFocus:()=>{const y=l(p.editing.view.document.selection);y&&this._showToolbar(w,y)},afterBlur:()=>{this._hideToolbar(w)}}),this._toolbarDefinitions.set(e,w)}_updateToolbarsVisibility(){let e=0,t=null,i=null;for(const l of this._toolbarDefinitions.values()){const d=l.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&d)if(this.editor.ui.focusTracker.isFocused){const p=d.getAncestors().length;p>e&&(e=p,t=d,i=l)}else this._isToolbarVisible(l)&&this._hideToolbar(l);else this._isToolbarInBalloon(l)&&this._hideToolbar(l)}i&&this._showToolbar(i,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?Vx(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:Hx(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const i of this._toolbarDefinitions.values())if(this._isToolbarVisible(i)){const l=i.getRelatedElement(this.editor.editing.view.document.selection);Vx(this.editor,l)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function Vx(c,e){const t=c.plugins.get("ContextualBalloon"),i=Hx(c,e);t.updatePosition(i)}function Hx(c,e){const t=c.editing.view,i=fr.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}var Wx=a(8506),qL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Wx.Z,qL),Wx.Z.locals;const bb=pu("px");class KL extends Ke{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",t=>!t)],style:{left:e.to("left",t=>bb(t)),top:e.to("top",t=>bb(t)),width:e.to("width",t=>bb(t))}}})}}class Ip extends pe{constructor(){super(...arguments),this.removeDropMarkerDelayed=ak(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=wp(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=wp(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new KL,this._domEmitter=new(Hr()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,i,l,d){this.removeDropMarkerDelayed.cancel();const p=$x(this.editor,e,t,i,l,d);p&&this._updateDropMarkerThrottled(p)}getFinalDropRange(e,t,i,l,d){const p=$x(this.editor,e,t,i,l,d);return this.removeDropMarker(),p}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:i})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(i);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,i=t.model.markers;t.model.change(l=>{i.has("drop-target")?i.get("drop-target").getRange().isEqual(e)||l.updateMarker("drop-target",{range:e}):l.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){const i=this.toDomElement(t);return i.append("⁠",t.createElement("span"),"⁠"),i})}_updateDropTargetLine(e){const t=this.editor.editing,i=e.start.nodeBefore,l=e.start.nodeAfter,d=e.start.parent,p=i?t.mapper.toViewElement(i):null,g=p?t.view.domConverter.mapViewToDom(p):null,b=l?t.mapper.toViewElement(l):null,w=b?t.view.domConverter.mapViewToDom(b):null,y=t.mapper.toViewElement(d),A=t.view.domConverter.mapViewToDom(y),E=this._getScrollableRect(y),{scrollX:D,scrollY:M}=Oe.window,R=g?new ft(g):null,U=w?new ft(w):null,W=new ft(A).excludeScrollbarsAndBorders(),J=R?R.bottom:W.top,ie=U?U.top:W.bottom,ve=Oe.window.getComputedStyle(A),Be=J<=ie?(J+ie)/2:ie;if(E.top<Be&&Be<E.bottom){const Ct=W.left+parseFloat(ve.paddingLeft),at=W.right-parseFloat(ve.paddingRight),rn=Math.max(Ct+D,E.left),on=Math.min(at+D,E.right);this._dropTargetLineView.set({isVisible:!0,left:rn,top:Be+M,width:on-rn})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let i;if(this._scrollables.has(t))i=this._scrollables.get(t).domElement;else{i=function(d){let p=d;do{p=p.parentElement;const g=Oe.window.getComputedStyle(p).overflowY;if(g=="auto"||g=="scroll")break}while(p.tagName!="BODY");return p}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(i,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const l=new hu(i,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:i,resizeObserver:l})}return new ft(i).excludeScrollbarsAndBorders()}}function $x(c,e,t,i,l,d){const p=c.model,g=c.editing.mapper;let b=qx(c,e);for(;b;){if(!d){if(p.schema.checkChild(b,"$text")){const w=t?t[0].start:null,y=w?g.toModelPosition(w):null;if(y){if(p.schema.checkChild(y,"$text"))return p.createRange(y);if(w)return Mp(c,qx(c,w.parent),i,l)}}else if(p.schema.isInline(b))return Mp(c,b,i,l)}if(p.schema.isBlock(b))return Mp(c,b,i,l);if(p.schema.checkChild(b,"$block")){const w=Array.from(b.getChildren()).filter(E=>E.is("element")&&!GL(c,E));let y=0,A=w.length;if(A==0)return p.createRange(p.createPositionAt(b,"end"));for(;y<A-1;){const E=Math.floor((y+A)/2);Yx(c,w[E],i,l)=="before"?A=E:y=E}return Mp(c,w[y],i,l)}b=b.parent}return null}function GL(c,e){const t=c.editing.mapper,i=c.editing.view.domConverter,l=t.toViewElement(e),d=i.mapViewToDom(l);return Oe.window.getComputedStyle(d).float!="none"}function Mp(c,e,t,i){const l=c.model;return l.createRange(l.createPositionAt(e,Yx(c,e,t,i)))}function Yx(c,e,t,i){const l=c.editing.mapper,d=c.editing.view.domConverter,p=l.toViewElement(e),g=d.mapViewToDom(p),b=new ft(g);return c.model.schema.isInline(e)?t<(b.left+b.right)/2?"before":"after":i<(b.top+b.bottom)/2?"before":"after"}function qx(c,e){const t=c.editing.mapper,i=c.editing.view,l=t.toModelElement(e);if(l)return l;const d=i.createPositionBefore(e),p=t.findMappedViewAncestor(d);return t.toModelElement(p)}var QL=Object.defineProperty,ZL=Object.defineProperties,JL=Object.getOwnPropertyDescriptors,Kx=Object.getOwnPropertySymbols,XL=Object.prototype.hasOwnProperty,ej=Object.prototype.propertyIsEnumerable,Gx=(c,e,t)=>e in c?QL(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;class tj extends pe{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Hr())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(t,i,l)=>{l?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),_.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const t=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(t,"dragstart",(i,l)=>this._handleBlockDragStart(l)),this._domEmitter.listenTo(Oe.document,"dragover",(i,l)=>this._handleBlockDragging(l)),this._domEmitter.listenTo(Oe.document,"drop",(i,l)=>this._handleBlockDragging(l)),this._domEmitter.listenTo(Oe.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&t.setAttribute("draggable","true"),this.on("change:isEnabled",(i,l,d)=>{t.setAttribute("draggable",d?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,i=t.document.selection,l=this.editor.editing.view,d=Array.from(i.getSelectedBlocks()),p=t.createRange(t.createPositionBefore(d[0]),t.createPositionAfter(d[d.length-1]));t.change(g=>g.setSelection(p)),this._isBlockDragging=!0,l.focus(),l.getObserver(Ou).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),i=e.clientY,l=document.elementFromPoint(t,i),d=this.editor.editing.view;var p,g;l&&l.closest(".ck-editor__editable")&&d.getObserver(Ou).onDomEvent((p=((b,w)=>{for(var y in w||(w={}))XL.call(w,y)&&Gx(b,y,w[y]);if(Kx)for(var y of Kx(w))ej.call(w,y)&&Gx(b,y,w[y]);return b})({},e),g={type:e.type,dataTransfer:e.dataTransfer,target:l,clientX:t,clientY:i,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()},ZL(p,JL(g))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var Qx=a(903),nj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(Qx.Z,nj),Qx.Z.locals;class rj extends pe{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=ak(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(Hr())}static get pluginName(){return"DragDrop"}static get requires(){return[Ko,Ru,Ip,tj]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(Ou),t.addObserver(Kk),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(i,l,d)=>{d?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(i,l,d)=>{d||this._finalizeDragging(!1)}),_.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,i=e.editing.view,l=i.document,d=e.plugins.get(Ip);this.listenTo(l,"dragstart",(p,g)=>{if(g.target&&g.target.is("editableElement")||(this._prepareDraggedRange(g.target),!this._draggedRange))return void g.preventDefault();this._draggingUid=V(),g.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",g.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const b=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(g.dataTransfer,b,"dragstart");const{dataTransfer:w,domTarget:y,domEvent:A}=g,{clientX:E}=A;this._updatePreview({dataTransfer:w,domTarget:y,clientX:E}),g.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(l,"dragend",(p,g)=>{this._finalizeDragging(!g.dataTransfer.isCanceled&&g.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(Oe.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(l,"dragenter",()=>{this.isEnabled&&i.focus()}),this.listenTo(l,"dragleave",()=>{d.removeDropMarkerDelayed()}),this.listenTo(l,"dragging",(p,g)=>{if(!this.isEnabled)return void(g.dataTransfer.dropEffect="none");const{clientX:b,clientY:w}=g.domEvent;d.updateDropMarker(g.target,g.targetRanges,b,w,this._blockMode),this._draggedRange||(g.dataTransfer.dropEffect="copy"),_.isGecko||(g.dataTransfer.effectAllowed=="copy"?g.dataTransfer.dropEffect="copy":["all","copyMove"].includes(g.dataTransfer.effectAllowed)&&(g.dataTransfer.dropEffect="move")),p.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,t=e.editing.view.document,i=e.plugins.get(Ip);this.listenTo(t,"clipboardInput",(l,d)=>{if(d.method!="drop")return;const{clientX:p,clientY:g}=d.domEvent,b=i.getFinalDropRange(d.target,d.targetRanges,p,g,this._blockMode);if(!b)return this._finalizeDragging(!1),void l.stop();if(this._draggedRange&&this._draggingUid!=d.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),Zx(d.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(b,!0))return this._finalizeDragging(!1),void l.stop();d.targetRanges=[e.editing.mapper.toViewRange(b)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Ko);e.on("contentInsertion",(t,i)=>{if(!this.isEnabled||i.method!=="drop")return;const l=i.targetRanges.map(d=>this.editor.editing.mapper.toModelRange(d));this.editor.model.change(d=>d.setSelection(l))},{priority:"high"}),e.on("contentInsertion",(t,i)=>{if(!this.isEnabled||i.method!=="drop")return;const l=Zx(i.dataTransfer)=="move",d=!i.resultRange||!i.resultRange.isCollapsed;this._finalizeDragging(d&&l)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,i=t.document;this.listenTo(i,"mousedown",(l,d)=>{if(_.isAndroid||!d)return;this._clearDraggableAttributesDelayed.cancel();let p=Jx(d.target);if(_.isBlink&&!e.isReadOnly&&!p&&!i.selection.isCollapsed){const g=i.selection.getSelectedElement();g&&An(g)||(p=i.selection.editableElement)}p&&(t.change(g=>{g.setAttribute("draggable","true",p)}),this._draggableElement=e.editing.mapper.toModelElement(p))}),this.listenTo(i,"mouseup",()=>{_.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const t=this.editor,i=t.model;t.plugins.get(Ip).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&i.change(l=>{const d=i.createSelection(this._draggedRange);i.deleteContent(d,{doNotAutoparagraph:!0});const p=d.getFirstPosition().parent;p.isEmpty&&!i.schema.checkChild(p,"$text")&&i.schema.checkChild(p,"paragraph")&&l.insertElement("paragraph",p,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,i=t.model,l=i.document.selection,d=e?Jx(e):null;if(d){const w=t.editing.mapper.toModelElement(d);this._draggedRange=Sr.fromRange(i.createRangeOn(w)),this._blockMode=i.schema.isBlock(w),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(l.isCollapsed&&!l.getFirstPosition().parent.isEmpty)return;const p=Array.from(l.getSelectedBlocks()),g=l.getFirstRange();if(p.length==0)return void(this._draggedRange=Sr.fromRange(g));const b=Xx(i,p);if(p.length>1)this._draggedRange=Sr.fromRange(b),this._blockMode=!0;else if(p.length==1){const w=g.start.isTouching(b.start)&&g.end.isTouching(b.end);this._draggedRange=Sr.fromRange(w?b:g),this._blockMode=w}i.change(w=>w.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:t,clientX:i}){const l=this.editor.editing.view,d=l.document.selection.editableElement,p=l.domConverter.mapViewToDom(d),g=Oe.window.getComputedStyle(p);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Oo(Oe.document,"div",{style:"position: fixed; left: -999999px;"}),Oe.document.body.appendChild(this._previewContainer));const b=new ft(p);if(p.contains(t))return;const w=parseFloat(g.paddingLeft),y=Oo(Oe.document,"div");y.className="ck ck-content",y.style.width=g.width,y.style.paddingLeft=`${b.left-i+w}px`,_.isiOS&&(y.style.backgroundColor="white"),y.innerHTML=e.getData("text/html"),e.setDragImage(y,0,0),this._previewContainer.appendChild(y)}}function Zx(c){return _.isGecko?c.dropEffect:["all","copyMove"].includes(c.effectAllowed)?"move":"copy"}function Jx(c){if(c.is("editableElement"))return null;if(c.hasClass("ck-widget__selection-handle"))return c.findAncestor(An);if(An(c))return c;const e=c.findAncestor(t=>An(t)||t.is("editableElement"));return An(e)?e:null}function Xx(c,e){const t=e[0],i=e[e.length-1],l=t.getCommonAncestor(i),d=c.createPositionBefore(t),p=c.createPositionAfter(i);if(l&&l.is("element")&&!c.schema.isLimit(l)){const g=c.createRangeOn(l),b=d.isTouching(g.start),w=p.isTouching(g.end);if(b&&w)return Xx(c,[l])}return c.createRange(d,p)}class oj extends pe{static get pluginName(){return"PastePlainText"}static get requires(){return[Ko]}init(){const e=this.editor,t=e.model,i=e.editing.view,l=i.document,d=t.document.selection;let p=!1;i.addObserver(Ou),this.listenTo(l,"keydown",(g,b)=>{p=b.shiftKey}),e.plugins.get(Ko).on("contentInsertion",(g,b)=>{(p||function(w,y){if(w.childCount>1)return!1;const A=w.getChild(0);return y.isObject(A)?!1:Array.from(A.getAttributeKeys()).length==0}(b.content,t.schema))&&t.change(w=>{const y=Array.from(d.getAttributes()).filter(([E])=>t.schema.getAttributeProperties(E).isFormatting);d.isCollapsed||t.deleteContent(d,{doNotAutoparagraph:!0}),y.push(...d.getAttributes());const A=w.createRangeIn(b.content);for(const E of A.getItems())E.is("$textProxy")&&w.setAttributes(y,E)})})}}class eE extends pe{static get pluginName(){return"Clipboard"}static get requires(){return[Ko,rj,oj]}}class ij extends nt{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let i=e.schema.getLimitElement(t);if(t.containsEntireContent(i)||!tE(e.schema,i))do if(i=i.parent,!i)return;while(!tE(e.schema,i));e.change(l=>{l.setSelection(i,"in")})}}function tE(c,e){return c.isLimit(e)&&(c.checkChild(e,"$text")||c.checkChild(e,"paragraph"))}const sj=gu("Ctrl+A");class aj extends pe{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,t=e.editing.view.document;e.commands.add("selectAll",new ij(e)),this.listenTo(t,"keydown",(i,l)=>{wc(l)===sj&&(e.execute("selectAll"),l.preventDefault())})}}class cj extends pe{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",t=>{const i=e.commands.get("selectAll"),l=new zt(t),d=t.t;return l.set({label:d("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),l.bind("isEnabled").to(i,"isEnabled"),this.listenTo(l,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),l})}}class lj extends pe{static get requires(){return[aj,cj]}static get pluginName(){return"SelectAll"}}var uj=Object.defineProperty,nE=Object.getOwnPropertySymbols,dj=Object.prototype.hasOwnProperty,hj=Object.prototype.propertyIsEnumerable,rE=(c,e,t)=>e in c?uj(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;class oE extends nt{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,i)=>{i[1]=((d,p)=>{for(var g in p||(p={}))dj.call(p,g)&&rE(d,g,p[g]);if(nE)for(var g of nE(p))hj.call(p,g)&&rE(d,g,p[g]);return d})({},i[1]);const l=i[1];l.batchType||(l.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,i)=>{i[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,i={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:i}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,i){const l=this.editor.model,d=l.document,p=[],g=e.map(w=>w.getTransformedByOperations(i)),b=g.flat();for(const w of g){const y=w.filter(A=>A.root!=d.graveyard).filter(A=>!fj(A,b));y.length&&(pj(y),p.push(y[0]))}p.length&&l.change(w=>{w.setSelection(p,{backward:t})})}_undo(e,t){const i=this.editor.model,l=i.document;this._createdBatches.add(t);const d=e.operations.slice().filter(p=>p.isDocumentOperation);d.reverse();for(const p of d){const g=p.baseVersion+1,b=Array.from(l.history.getOperations(g)),w=gB([p.getReversed()],b,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let y of w){const A=y.affectedSelectable;A&&!i.canEditAt(A)&&(y=new yn(y.baseVersion)),t.addOperation(y),i.applyOperation(y),l.history.setOperationAsUndone(p,y)}}}}function pj(c){c.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<c.length;e++){const t=c[e-1].getJoined(c[e],!0);t&&(e--,c.splice(e,2,t))}}function fj(c,e){return e.some(t=>t!==c&&t.containsRange(c,!0))}class gj extends oE{execute(e=null){const t=e?this._stack.findIndex(d=>d.batch==e):this._stack.length-1,i=this._stack.splice(t,1)[0],l=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(l,()=>{this._undo(i.batch,l);const d=this.editor.model.document.history.getOperations(i.batch.baseVersion);this._restoreSelection(i.selection.ranges,i.selection.isBackward,d)}),this.fire("revert",i.batch,l),this.refresh()}}class mj extends oE{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const i=e.batch.operations[e.batch.operations.length-1].baseVersion+1,l=this.editor.model.document.history.getOperations(i);this._restoreSelection(e.selection.ranges,e.selection.isBackward,l),this._undo(e.batch,t)}),this.refresh()}}class kj extends pe{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new gj(e),this._redoCommand=new mj(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(t,i)=>{const l=i[0];if(!l.isDocumentOperation)return;const d=l.batch,p=this._redoCommand.createdBatches.has(d),g=this._undoCommand.createdBatches.has(d);this._batchRegistry.has(d)||(this._batchRegistry.add(d),d.isUndoable&&(p?this._undoCommand.addBatch(d):g||(this._undoCommand.addBatch(d),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,i,l)=>{this._redoCommand.addBatch(l)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const iE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',sE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class bj extends pe{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,i=e.t,l=t.uiLanguageDirection=="ltr"?iE:sE,d=t.uiLanguageDirection=="ltr"?sE:iE;this._addButton("undo",i("Undo"),"CTRL+Z",l),this._addButton("redo",i("Redo"),"CTRL+Y",d)}_addButton(e,t,i,l){const d=this.editor;d.ui.componentFactory.add(e,p=>{const g=d.commands.get(e),b=new zt(p);return b.set({label:t,icon:l,keystroke:i,tooltip:!0}),b.bind("isEnabled").to(g,"isEnabled"),this.listenTo(b,"execute",()=>{d.execute(e),d.editing.view.focus()}),b})}}class aE extends pe{static get requires(){return[kj,bj]}static get pluginName(){return"Undo"}}class wj extends Ve(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((i,l)=>{t.onload=()=>{const d=t.result;this._data=d,i(d)},t.onerror=()=>{l("error")},t.onabort=()=>{l("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class bo extends pe{constructor(){super(...arguments),this.loaders=new lo,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[r1]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return te("filerepository-no-upload-adapter"),null;const t=new cE(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(i=>{this._loadersMap.set(i,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let i=0;for(const l of this.loaders)i+=l.uploaded;this.uploaded=i}),t.on("change:uploadTotal",()=>{let i=0;for(const l of this.loaders)l.uploadTotal&&(i+=l.uploadTotal);this.uploadTotal=i}),t}destroyLoader(e){const t=e instanceof cE?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((i,l)=>{i===t&&this._loadersMap.delete(l)})}_updatePendingAction(){const e=this.editor.plugins.get(r1);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,i=l=>`${t("Upload in progress")} ${parseInt(l)}%.`;this._pendingAction=e.add(i(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",i)}}else e.remove(this._pendingAction),this._pendingAction=null}}class cE extends Ve(){constructor(e,t){super(),this.id=V(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new wj,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(i,l)=>l?i/l*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new z("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new z("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((i,l)=>{t.rejecter=l,t.isFulfilled=!1,e.then(d=>{t.isFulfilled=!0,i(d)}).catch(d=>{t.isFulfilled=!0,l(d)})}),t}}class vj extends Ke{constructor(e){super(e),this.buttonView=new zt(e),this._fileInputView=new yj(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class yj extends Ke{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const lE="ckCsrfToken",uE="abcdefghijklmnopqrstuvwxyz0123456789";function _j(){let c=function(i){i=i.toLowerCase();const l=document.cookie.split(";");for(const d of l){const p=d.split("=");if(decodeURIComponent(p[0].trim().toLowerCase())===i)return decodeURIComponent(p[1])}return null}(lE);var e,t;return c&&c.length==40||(c=function(i){let l="";const d=new Uint8Array(i);window.crypto.getRandomValues(d);for(let p=0;p<d.length;p++){const g=uE.charAt(d[p]%uE.length);l+=Math.random()>.5?g.toUpperCase():g}return l}(40),e=lE,t=c,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/"),c}class Cj{constructor(e,t,i){this.loader=e,this.url=t,this.t=i}upload(){return this.loader.file.then(e=>new Promise((t,i)=>{this._initRequest(),this._initListeners(t,i,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,t,i){const l=this.xhr,d=this.loader,p=(0,this.t)("Cannot upload file:")+` ${i.name}.`;l.addEventListener("error",()=>t(p)),l.addEventListener("abort",()=>t()),l.addEventListener("load",()=>{const g=l.response;if(!g||!g.uploaded)return t(g&&g.error&&g.error.message?g.error.message:p);e({default:g.url})}),l.upload&&l.upload.addEventListener("progress",g=>{g.lengthComputable&&(d.uploadTotal=g.total,d.uploaded=g.loaded)})}_sendRequest(e){const t=new FormData;t.append("upload",e),t.append("ckCsrfToken",_j()),this.xhr.send(t)}}function ds(c,e,t,i){let l,d=null;typeof i=="function"?l=i:(d=c.commands.get(i),l=()=>{c.execute(i)}),c.model.document.on("change:data",(p,g)=>{if(d&&!d.isEnabled||!e.isEnabled)return;const b=vn(c.model.document.selection.getRanges());if(!b.isCollapsed||g.isUndo||!g.isLocal)return;const w=Array.from(c.model.document.differ.getChanges()),y=w[0];if(w.length!=1||y.type!=="insert"||y.name!="$text"||y.length!=1)return;const A=y.position.parent;if(A.is("element","codeBlock")||A.is("element","listItem")&&typeof i!="function"&&!["numberedList","bulletedList","todoList"].includes(i)||d&&d.value===!0)return;const E=A.getChild(0),D=c.model.createRangeOn(E);if(!D.containsRange(b)&&!b.end.isEqual(D.end))return;const M=t.exec(E.data.substr(0,b.end.offset));M&&c.model.enqueueChange(R=>{const U=R.createPositionAt(A,0),W=R.createPositionAt(A,M[0].length),J=new Sr(U,W);if(l({match:M})!==!1){R.remove(J);const ie=c.model.document.selection.getFirstRange(),ve=R.createRangeIn(A);!A.isEmpty||ve.isEqual(ie)||ve.containsRange(ie,!0)||R.remove(A)}J.detach(),c.model.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})})})}function Pc(c,e,t,i){let l,d;t instanceof RegExp?l=t:d=t,d=d||(p=>{let g;const b=[],w=[];for(;(g=l.exec(p))!==null&&!(g&&g.length<4);){let{index:y,1:A,2:E,3:D}=g;const M=A+E+D;y+=g[0].length-M.length;const R=[y,y+A.length],U=[y+A.length+E.length,y+A.length+E.length+D.length];b.push(R),b.push(U),w.push([y+A.length,y+A.length+E.length])}return{remove:b,format:w}}),c.model.document.on("change:data",(p,g)=>{if(g.isUndo||!g.isLocal||!e.isEnabled)return;const b=c.model,w=b.document.selection;if(!w.isCollapsed)return;const y=Array.from(b.document.differ.getChanges()),A=y[0];if(y.length!=1||A.type!=="insert"||A.name!="$text"||A.length!=1)return;const E=w.focus,D=E.parent,{text:M,range:R}=function(ie,ve){let Be=ie.start;return{text:Array.from(ie.getItems()).reduce((at,rn)=>!rn.is("$text")&&!rn.is("$textProxy")||rn.getAttribute("code")?(Be=ve.createPositionAfter(rn),""):at+rn.data,""),range:ve.createRange(Be,ie.end)}}(b.createRange(b.createPositionAt(D,0),E),b),U=d(M),W=dE(R.start,U.format,b),J=dE(R.start,U.remove,b);W.length&&J.length&&b.enqueueChange(ie=>{if(i(ie,W)!==!1){for(const ve of J.reverse())ie.remove(ve);b.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})}})})}function dE(c,e,t){return e.filter(i=>i[0]!==void 0&&i[1]!==void 0).map(i=>t.createRange(c.getShiftedBy(i[0]),c.getShiftedBy(i[1])))}function Pp(c,e){return(t,i)=>{if(!c.commands.get(e).isEnabled)return!1;const l=c.model.schema.getValidRanges(i,e);for(const d of l)t.setAttribute(e,!0,d);t.removeSelectionAttribute(e)}}class hE extends nt{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,i=t.document.selection,l=e.forceValue===void 0?!this.value:e.forceValue;t.change(d=>{if(i.isCollapsed)l?d.setSelectionAttribute(this.attributeKey,!0):d.removeSelectionAttribute(this.attributeKey);else{const p=t.schema.getValidRanges(i.getRanges(),this.attributeKey);for(const g of p)l?d.setAttribute(this.attributeKey,l,g):d.removeAttribute(this.attributeKey,g)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,i=e.document.selection;if(i.isCollapsed)return i.hasAttribute(this.attributeKey);for(const l of i.getRanges())for(const d of l.getItems())if(t.checkAttribute(d,this.attributeKey))return d.hasAttribute(this.attributeKey);return!1}}const Nc="bold";class Aj extends pe{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Nc}),e.model.schema.setAttributeProperties(Nc,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Nc,view:"strong",upcastAlso:["b",t=>{const i=t.getStyle("font-weight");return i&&(i=="bold"||Number(i)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Nc,new hE(e,Nc)),e.keystrokes.set("CTRL+B",Nc)}}const wb="bold";class xj extends pe{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(wb,i=>{const l=e.commands.get(wb),d=new zt(i);return d.set({label:t("Bold"),icon:Wt.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(d,"execute",()=>{e.execute(wb),e.editing.view.focus()}),d})}}var pE=a(8603),Ej={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(pE.Z,Ej),pE.Z.locals;const Oc="italic";class Sj extends pe{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Oc}),e.model.schema.setAttributeProperties(Oc,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Oc,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Oc,new hE(e,Oc)),e.keystrokes.set("CTRL+I",Oc)}}const vb="italic";class Dj extends pe{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(vb,i=>{const l=e.commands.get(vb),d=new zt(i);return d.set({label:t("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(d,"execute",()=>{e.execute(vb),e.editing.view.focus()}),d})}}class Tj extends nt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,i=t.schema,l=t.document.selection,d=Array.from(l.getSelectedBlocks()),p=e.forceValue===void 0?!this.value:e.forceValue;t.change(g=>{if(p){const b=d.filter(w=>Np(w)||gE(i,w));this._applyQuote(g,b)}else this._removeQuote(g,d.filter(Np))})}_getValue(){const e=vn(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!Np(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,i=vn(e.getSelectedBlocks());return!!i&&gE(t,i)}_removeQuote(e,t){fE(e,t).reverse().forEach(i=>{if(i.start.isAtStart&&i.end.isAtEnd)return void e.unwrap(i.start.parent);if(i.start.isAtStart){const d=e.createPositionBefore(i.start.parent);return void e.move(i,d)}i.end.isAtEnd||e.split(i.end);const l=e.createPositionAfter(i.end.parent);e.move(i,l)})}_applyQuote(e,t){const i=[];fE(e,t).reverse().forEach(l=>{let d=Np(l.start);d||(d=e.createElement("blockQuote"),e.wrap(l,d)),i.push(d)}),i.reverse().reduce((l,d)=>l.nextSibling==d?(e.merge(e.createPositionAfter(l)),l):d)}}function Np(c){return c.parent.name=="blockQuote"?c.parent:null}function fE(c,e){let t,i=0;const l=[];for(;i<e.length;){const d=e[i],p=e[i+1];t||(t=c.createPositionBefore(d)),p&&d.nextSibling==p||(l.push(c.createRange(t,c.createPositionAfter(d))),t=null),i++}return l}function gE(c,e){const t=c.checkChild(e.parent,"blockQuote"),i=c.checkChild(["$root","blockQuote"],e);return t&&i}class Ij extends pe{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Sp,bi]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new Tj(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(p=>{const g=e.model.document.differ.getChanges();for(const b of g)if(b.type=="insert"){const w=b.position.nodeAfter;if(!w)continue;if(w.is("element","blockQuote")&&w.isEmpty)return p.remove(w),!0;if(w.is("element","blockQuote")&&!t.checkChild(b.position,w))return p.unwrap(w),!0;if(w.is("element")){const y=p.createRangeIn(w);for(const A of y.getItems())if(A.is("element","blockQuote")&&!t.checkChild(p.createPositionBefore(A),A))return p.unwrap(A),!0}}else if(b.type=="remove"){const w=b.position.parent;if(w.is("element","blockQuote")&&w.isEmpty)return p.remove(w),!0}return!1});const i=this.editor.editing.view.document,l=e.model.document.selection,d=e.commands.get("blockQuote");this.listenTo(i,"enter",(p,g)=>{!l.isCollapsed||!d.value||l.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),g.preventDefault(),p.stop())},{context:"blockquote"}),this.listenTo(i,"delete",(p,g)=>{if(g.direction!="backward"||!l.isCollapsed||!d.value)return;const b=l.getLastPosition().parent;b.isEmpty&&!b.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),g.preventDefault(),p.stop())},{context:"blockquote"})}}var mE=a(3062),Mj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(mE.Z,Mj),mE.Z.locals;class Pj extends pe{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("blockQuote",i=>{const l=e.commands.get("blockQuote"),d=new zt(i);return d.set({label:t("Block quote"),icon:Wt.quote,tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(d,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),d})}}class Nj extends pe{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor,t=e.commands.get("ckbox");if(!t)return;const i=e.t;e.ui.componentFactory.add("ckbox",l=>{const d=new zt(l);return d.set({label:i("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),d.bind("isOn","isEnabled").to(t,"value","isEnabled"),d.on("execute",()=>{e.execute("ckbox")}),d})}}function kE(c){const e=[];let t=0;for(const l in c){const d=parseInt(l,10);isNaN(d)||(d>t&&(t=d),e.push(`${c[l]} ${l}w`))}const i=[{srcset:e.join(","),sizes:`(max-width: ${t}px) 100vw, ${t}px`,type:"image/webp"}];return{imageFallbackUrl:c.default,imageSources:i}}class Oj extends nt{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");return!(!e.isEnabled&&!t.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:t=>this.fire("ckbox:choose",t)}}}_initListeners(){const e=this.editor,t=e.model,i=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=Oo(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(l,d)=>{if(!this.isEnabled)return;const p=e.commands.get("insertImage"),g=e.commands.get("link"),b=function({assets:w,isImageAllowed:y,isLinkAllowed:A}){return w.map(E=>function(D){const M=D.data.metadata;return M?M.width&&M.height:!1}(E)?{id:E.data.id,type:"image",attributes:Bj(E)}:{id:E.data.id,type:"link",attributes:Rj(E)}).filter(E=>E.type==="image"?y:A)}({assets:d,isImageAllowed:p.isEnabled,isLinkAllowed:g.isEnabled});b.length!==0&&t.change(w=>{for(const y of b){const A=y===b[b.length-1];this._insertAsset(y,A,w),i&&(setTimeout(()=>this._chosenAssets.delete(y),1e3),this._chosenAssets.add(y))}})}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,t,i){const l=this.editor.model.document.selection;i.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,i),t||i.setSelection(l.getLastPosition())}_insertImage(e){const t=this.editor,{imageFallbackUrl:i,imageSources:l,imageTextAlternative:d}=e.attributes;t.execute("insertImage",{source:{src:i,sources:l,alt:d}})}_insertLink(e,t){const i=this.editor,l=i.model,d=l.document.selection,{linkName:p,linkHref:g}=e.attributes;if(d.isCollapsed){const b=Ho(d.getAttributes()),w=t.createText(p,b),y=l.insertContent(w);t.setSelection(y)}i.execute("link",g)}}function Bj(c){const{imageFallbackUrl:e,imageSources:t}=kE(c.data.imageUrls);return{imageFallbackUrl:e,imageSources:t,imageTextAlternative:c.data.metadata.description||""}}function Rj(c){return{linkName:c.data.name,linkHref:Lj(c)}}function Lj(c){const e=new URL(c.data.url);return e.searchParams.set("download","true"),e.toString()}var pa=(c,e,t)=>new Promise((i,l)=>{var d=b=>{try{g(t.next(b))}catch(w){l(w)}},p=b=>{try{g(t.throw(b))}catch(w){l(w)}},g=b=>b.done?i(b.value):Promise.resolve(b.value).then(d,p);g((t=t.apply(c,e)).next())});class jj extends pe{static get requires(){return["ImageUploadEditing","ImageUploadProgress",bo,yb]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return pa(this,null,function*(){const e=this.editor,t=!!e.config.get("ckbox"),i=!!window.CKBox;if(!t&&!i)return;const l=e.plugins.get(bo),d=e.plugins.get(yb);l.createUploadAdapter=b=>new zj(b,d.getToken(),e);const p=!e.config.get("ckbox.ignoreDataId"),g=e.plugins.get("ImageUploadEditing");p&&g.on("uploadComplete",(b,{imageElement:w,data:y})=>{e.model.change(A=>{A.setAttribute("ckboxImageId",y.ckboxImageId,w)})})})}}class zj{constructor(e,t,i){this.loader=e,this.token=t,this.editor=i,this.controller=new AbortController,this.serviceOrigin=i.config.get("ckbox.serviceOrigin")}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),t=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),i=function(l,d){const[,p]=l.value.split("."),g=JSON.parse(atob(p)),b=g.auth&&g.auth.ckbox&&g.auth.ckbox.workspaces||[g.aud];return d?(g.auth&&g.auth.ckbox&&g.auth.ckbox.role)=="superadmin"||b.includes(d)?d:null:b[0]}(this.token,t);if(i==null)throw ae("ckbox-access-default-workspace-error"),e;return i}getAvailableCategories(e=0){return pa(this,null,function*(){const t=new URL("categories",this.serviceOrigin);return t.searchParams.set("limit",50 .toString()),t.searchParams.set("offset",e.toString()),t.searchParams.set("workspaceId",this.getWorkspaceId()),this._sendHttpRequest({url:t}).then(i=>pa(this,null,function*(){if(i.totalCount-(e+50)>0){const l=yield this.getAvailableCategories(e+50);return[...i.items,...l]}return i.items})).catch(()=>{this.controller.signal.throwIfAborted(),ae("ckbox-fetch-category-http-error")})})}getCategoryIdForFile(e){return pa(this,null,function*(){const t=function(p){const g=new RegExp("\\.(?<ext>[^.]+)$");return p.match(g).groups.ext.toLowerCase()}(e.name),i=yield this.getAvailableCategories();if(!i)return null;const l=this.editor.config.get("ckbox.defaultUploadCategories");if(l){const p=Object.keys(l).find(g=>l[g].find(b=>b.toLowerCase()==t));if(p){const g=i.find(b=>b.id===p||b.name===p);return g?g.id:null}}const d=i.find(p=>p.extensions.find(g=>g.toLowerCase()==t));return d?d.id:null})}upload(){return pa(this,null,function*(){const e=this.editor.t,t=e("Cannot determine a category for the uploaded file."),i=yield this.loader.file,l=yield this.getCategoryIdForFile(i);if(!l)return Promise.reject(t);const d=new URL("assets",this.serviceOrigin),p=new FormData;d.searchParams.set("workspaceId",this.getWorkspaceId()),p.append("categoryId",l),p.append("file",i);const g={method:"POST",url:d,data:p,onUploadProgress:b=>{b.lengthComputable&&(this.loader.uploadTotal=b.total,this.loader.uploaded=b.loaded)}};return this._sendHttpRequest(g).then(b=>pa(this,null,function*(){const w=kE(b.imageUrls);return{ckboxImageId:b.id,default:w.imageFallbackUrl,sources:w.imageSources}})).catch(()=>{const b=e("Cannot upload file:")+` ${i.name}.`;return Promise.reject(b)})})}abort(){this.controller.abort()}_sendHttpRequest({url:e,method:t="GET",data:i,onUploadProgress:l}){const d=this.controller.signal,p=new XMLHttpRequest;p.open(t,e.toString(),!0),p.setRequestHeader("Authorization",this.token.value),p.setRequestHeader("CKBox-Version","CKEditor 5"),p.responseType="json";const g=()=>{p.abort()};return new Promise((b,w)=>{d.addEventListener("abort",g),p.addEventListener("loadstart",()=>{d.addEventListener("abort",g)}),p.addEventListener("loadend",()=>{d.removeEventListener("abort",g)}),p.addEventListener("error",()=>{w()}),p.addEventListener("abort",()=>{w()}),p.addEventListener("load",()=>pa(this,null,function*(){const y=p.response;return!y||y.statusCode>=400?w(y&&y.message):b(y)})),l&&p.upload.addEventListener("progress",y=>{l(y)}),p.send(i)})}}class yb extends pe{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",jj]}init(){return e=this,t=null,i=function*(){const l=this.editor,d=!!l.config.get("ckbox"),p=!!window.CKBox;if(!d&&!p)return;this._initConfig();const g=l.plugins.get("CloudServicesCore"),b=l.config.get("ckbox.tokenUrl");if(b===l.config.get("cloudServices.tokenUrl")){const w=l.plugins.get("CloudServices");this._token=w.token}else this._token=yield g.createToken(b).init();l.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),p&&l.commands.add("ckbox",new Oj(l))},new Promise((l,d)=>{var p=w=>{try{b(i.next(w))}catch(y){d(y)}},g=w=>{try{b(i.throw(w))}catch(y){d(y)}},b=w=>w.done?l(w.value):Promise.resolve(w.value).then(p,g);b((i=i.apply(e,t)).next())});var e,t,i}getToken(){return this._token}_initConfig(){const e=this.editor;if(e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"default",tokenUrl:e.config.get("cloudServices.tokenUrl")}),!e.config.get("ckbox.tokenUrl"))throw new z("ckbox-plugin-missing-token-url",this);e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||ae("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((t,i)=>{if(!t.last.getAttribute("linkHref")&&i==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(t=>{t.on("attribute:ckboxLinkId:imageBlock",(i,l,d)=>{const{writer:p,mapper:g,consumable:b}=d;if(!b.consume(l.item,i.name))return;const w=[...g.toViewElement(l.item).getChildren()].find(y=>y.name==="a");w&&(l.item.hasAttribute("ckboxLinkId")?p.setAttribute("data-ckbox-resource-id",l.item.getAttribute("ckboxLinkId"),w):p.removeAttribute("data-ckbox-resource-id",w))},{priority:"low"}),t.on("attribute:ckboxLinkId",(i,l,d)=>{const{writer:p,mapper:g,consumable:b}=d;if(b.consume(l.item,i.name)){if(l.attributeOldValue){const w=bE(p,l.attributeOldValue);p.unwrap(g.toViewRange(l.range),w)}if(l.attributeNewValue){const w=bE(p,l.attributeNewValue);if(l.item.is("selection")){const y=p.document.selection;p.wrap(y.getFirstRange(),w)}else p.wrap(g.toViewRange(l.range),w)}}},{priority:"low"})}),e.conversion.for("upcast").add(t=>{t.on("element:a",(i,l,d)=>{const{writer:p,consumable:g}=d;if(!l.viewItem.getAttribute("href")||!g.consume(l.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const b=l.viewItem.getAttribute("data-ckbox-resource-id");if(b)if(l.modelRange)for(let w of l.modelRange.getItems())w.is("$textProxy")&&(w=w.textNode),Uj(w)&&p.setAttribute("ckboxLinkId",b,w);else{const w=l.modelCursor.nodeBefore||l.modelCursor.parent;p.setAttribute("ckboxLinkId",b,w)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:t=>t.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const e=this.editor,t=e.model,i=t.document.selection;t.document.registerPostFixer(function(l){return d=>{let p=!1;const g=l.model,b=l.commands.get("ckbox");if(!b)return p;for(const w of g.document.differ.getChanges()){if(w.type!=="insert"&&w.type!=="attribute")continue;const y=w.type==="insert"?new oe(w.position,w.position.getShiftedBy(w.length)):w.range,A=w.type==="attribute"&&w.attributeKey==="linkHref"&&w.attributeNewValue===null;for(const E of y.getItems()){if(A&&E.hasAttribute("ckboxLinkId")){d.removeAttribute("ckboxLinkId",E),p=!0;continue}const D=Fj(E,b._chosenAssets);for(const M of D){const R=M.type==="image"?"ckboxImageId":"ckboxLinkId";M.id!==E.getAttribute(R)&&(d.setAttribute(R,M.id,E),p=!0)}}}return p}}(e)),t.document.registerPostFixer(function(l){return d=>!(l.hasAttribute("linkHref")||!l.hasAttribute("ckboxLinkId"))&&(d.removeSelectionAttribute("ckboxLinkId"),!0)}(i))}}function Fj(c,e){const t=c.is("element","imageInline")||c.is("element","imageBlock"),i=c.hasAttribute("linkHref");return[...e].filter(l=>l.type==="image"&&t?l.attributes.imageFallbackUrl===c.getAttribute("src"):l.type==="link"&&i?l.attributes.linkHref===c.getAttribute("linkHref"):void 0)}function bE(c,e){const t=c.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return c.setCustomProperty("link",!0,t),t}function Uj(c){return!!c.is("$text")||!(!c.is("element","imageInline")&&!c.is("element","imageBlock"))}class Vj extends pe{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,t=e.ui.componentFactory,i=e.t;t.add("ckfinder",l=>{const d=e.commands.get("ckfinder"),p=new zt(l);return p.set({label:i("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),p.bind("isEnabled").to(d),p.on("execute",()=>{e.execute("ckfinder"),e.editing.view.focus()}),p})}}class Hj extends nt{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}execute(){const e=this.editor,t=this.editor.config.get("ckfinder.openerMethod")||"modal";if(t!="popup"&&t!="modal")throw new z("ckfinder-unknown-openermethod",e);const i=this.editor.config.get("ckfinder.options")||{};i.chooseFiles=!0;const l=i.onInit;i.language||(i.language=e.locale.uiLanguage),i.onInit=d=>{l&&l(d),d.on("files:choose",p=>{const g=p.data.files.toArray(),b=g.filter(A=>!A.isImage()),w=g.filter(A=>A.isImage());for(const A of b)e.execute("link",A.getUrl());const y=[];for(const A of w){const E=A.getUrl();y.push(E||d.request("file:getProxyUrl",{file:A}))}y.length&&wE(e,y)}),d.on("file:choose:resizedImage",p=>{const g=p.data.resizedUrl;if(g)wE(e,[g]);else{const b=e.plugins.get("Notification"),w=e.locale.t;b.showWarning(w("Could not obtain resized image URL."),{title:w("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[t](i)}}function wE(c,e){if(c.commands.get("insertImage").isEnabled)c.execute("insertImage",{source:e});else{const t=c.plugins.get("Notification"),i=c.locale.t;t.showWarning(i("Could not insert image at the current position."),{title:i("Inserting image failed"),namespace:"ckfinder"})}}class Wj extends pe{static get pluginName(){return"CKFinderEditing"}static get requires(){return[lb,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new z("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new Hj(e))}}class $j extends pe{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",bo]}init(){const e=this.editor,t=e.plugins.get("CloudServices"),i=t.token,l=t.uploadUrl;if(!i)return;const d=e.plugins.get("CloudServicesCore");this._uploadGateway=d.createUploadGateway(i,l),e.plugins.get(bo).createUploadAdapter=p=>new Yj(this._uploadGateway,p)}}class Yj{constructor(e,t){this.uploadGateway=e,this.loader=t}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(t,i)=>{this.loader.uploadTotal=i.total,this.loader.uploaded=i.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class qj extends nt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=vn(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&vE(t,e.schema)}execute(e={}){const t=this.editor.model,i=t.document,l=e.selection||i.selection;t.canEditAt(l)&&t.change(d=>{const p=l.getSelectedBlocks();for(const g of p)!g.is("element","paragraph")&&vE(g,t.schema)&&d.rename(g,"paragraph")})}}function vE(c,e){return e.checkChild(c.parent,"paragraph")&&!e.isObject(c)}class Kj extends nt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,i=e.attributes;let l=e.position;t.canEditAt(l)&&t.change(d=>{if(l=this._findPositionToInsertParagraph(l,d),!l)return;const p=d.createElement("paragraph");i&&t.schema.setAllowedAttributes(p,i,d),t.insertContent(p,l),d.setSelection(p,"in")})}_findPositionToInsertParagraph(e,t){const i=this.editor.model;if(i.schema.checkChild(e,"paragraph"))return e;const l=i.schema.findAllowedParent(e,"paragraph");if(!l)return null;const d=e.parent,p=i.schema.checkChild(d,"$text");return d.isEmpty||p&&e.isAtEnd?i.createPositionAfter(d):!d.isEmpty&&p&&e.isAtStart?i.createPositionBefore(d):t.split(e,l).position}}const yE=class extends pe{static get pluginName(){return"Paragraph"}init(){const c=this.editor,e=c.model;c.commands.add("paragraph",new qj(c)),c.commands.add("insertParagraph",new Kj(c)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),c.conversion.elementToElement({model:"paragraph",view:"p"}),c.conversion.for("upcast").elementToElement({model:(t,{writer:i})=>yE.paragraphLikeElements.has(t.name)?t.isEmpty?null:i.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let _b=yE;_b.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class Gj extends nt{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=vn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>_E(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,i=t.document,l=e.value;t.change(d=>{const p=Array.from(i.selection.getSelectedBlocks()).filter(g=>_E(g,l,t.schema));for(const g of p)g.is("element",l)||d.rename(g,l)})}}function _E(c,e,t){return t.checkChild(c.parent,e)&&!t.isObject(c)}const CE="paragraph";class Qj extends pe{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[_b]}init(){const e=this.editor,t=e.config.get("heading.options"),i=[];for(const l of t)l.model!=="paragraph"&&(e.model.schema.register(l.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(l),i.push(l.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new Gj(e,i))}afterInit(){const e=this.editor,t=e.commands.get("enter"),i=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(l,d)=>{const p=e.model.document.selection.getFirstPosition().parent;i.some(g=>p.is("element",g.model))&&!p.is("element",CE)&&p.childCount===0&&d.writer.rename(p,CE)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:K.low+1})}}var AE=a(8733),Zj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(AE.Z,Zj),AE.Z.locals;class Jj extends pe{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,i=function(p){const g=p.t,b={Paragraph:g("Paragraph"),"Heading 1":g("Heading 1"),"Heading 2":g("Heading 2"),"Heading 3":g("Heading 3"),"Heading 4":g("Heading 4"),"Heading 5":g("Heading 5"),"Heading 6":g("Heading 6")};return p.config.get("heading.options").map(w=>{const y=b[w.title];return y&&y!=w.title&&(w.title=y),w})}(e),l=t("Choose heading"),d=t("Heading");e.ui.componentFactory.add("heading",p=>{const g={},b=new lo,w=e.commands.get("heading"),y=e.commands.get("paragraph"),A=[w];for(const D of i){const M={type:"button",model:new $1({label:D.title,class:D.class,role:"menuitemradio",withText:!0})};D.model==="paragraph"?(M.model.bind("isOn").to(y,"value"),M.model.set("commandName","paragraph"),A.push(y)):(M.model.bind("isOn").to(w,"value",R=>R===D.model),M.model.set({commandName:"heading",commandValue:D.model})),b.add(M),g[D.model]=D.title}const E=cs(p);return p1(E,b,{ariaLabel:d,role:"menu"}),E.buttonView.set({ariaLabel:d,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:d}),E.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),E.bind("isEnabled").toMany(A,"isEnabled",(...D)=>D.some(M=>M)),E.buttonView.bind("label").to(w,"value",y,"value",(D,M)=>{const R=D||M&&"paragraph";return typeof R=="boolean"?l:g[R]?g[R]:l}),this.listenTo(E,"execute",D=>{const{commandName:M,commandValue:R}=D.source;e.execute(M,R?{value:R}:void 0),e.editing.view.focus()}),E})}}function xE(c){return c.createContainerElement("figure",{class:"image"},[c.createEmptyElement("img"),c.createSlot("children")])}function EE(c,e){const t=c.plugins.get("ImageUtils"),i=c.plugins.has("ImageInlineEditing")&&c.plugins.has("ImageBlockEditing");return d=>t.isInlineImageView(d)?i&&(d.getStyle("display")=="block"||d.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:l(d):null;function l(d){const p={name:!0};return d.hasAttribute("src")&&(p.attributes=["src"]),p}}function Cb(c,e){const t=vn(e.getSelectedBlocks());return!t||c.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}function Op(c){return c&&c.endsWith("px")?parseInt(c):null}function SE(c){const e=Op(c.getStyle("width")),t=Op(c.getStyle("height"));return!(!e||!t)}var Xj=Object.defineProperty,DE=Object.getOwnPropertySymbols,ez=Object.prototype.hasOwnProperty,tz=Object.prototype.propertyIsEnumerable,TE=(c,e,t)=>e in c?Xj(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,IE=(c,e)=>{for(var t in e||(e={}))ez.call(e,t)&&TE(c,t,e[t]);if(DE)for(var t of DE(e))tz.call(e,t)&&TE(c,t,e[t]);return c};const nz=/^(image|image-inline)$/;class $r extends pe{constructor(){super(...arguments),this._domEmitter=new(Hr())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,i=null,l={}){const d=this.editor,p=d.model,g=p.document.selection;i=ME(d,t||g,i),e=IE(IE({},Object.fromEntries(g.getAttributes())),e);for(const b in e)p.schema.checkAttribute(i,b)||delete e[b];return p.change(b=>{const{setImageSizes:w=!0}=l,y=b.createElement(i,e);return p.insertObject(y,t,null,{setSelection:"on",findOptimalPosition:t||i=="imageInline"?void 0:"auto"}),y.parent?(w&&this.setImageNaturalSizeAttributes(y),y):null})}setImageNaturalSizeAttributes(e){const t=e.getAttribute("src");t&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(i=>{const l=new Oe.window.Image;this._domEmitter.listenTo(l,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(i.batch,d=>{d.setAttribute("width",l.naturalWidth,e),d.setAttribute("height",l.naturalHeight,e)}),this._domEmitter.stopListening(l,"load")}),l.src=t}))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const i=e.getSelectedElement();if(i&&this.isImageWidget(i))return i;let l=t.parent;for(;l;){if(l.is("element")&&this.isImageWidget(l))return l;l=l.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:nz})}isImageAllowed(){const e=this.editor.model.document.selection;return function(t,i){if(ME(t,i,null)=="imageBlock"){const d=function(p,g){const b=Bx(p,g),w=b.start.parent;return w.isEmpty&&!w.is("element","$root")?w.parent:w}(i,t.model);if(t.model.schema.checkChild(d,"imageBlock"))return!0}else if(t.model.schema.checkChild(i.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(t){return[...t.focus.getAncestors()].every(i=>!i.is("element","imageBlock"))}(e)}toImageWidget(e,t,i){return t.setCustomProperty("image",!0,e),kb(e,t,{label:()=>{const l=this.findViewImgElement(e).getAttribute("alt");return l?`${l} ${i}`:i}})}isImageWidget(e){return!!e.getCustomProperty("image")&&An(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:i}of t.createRangeIn(e))if(this.isInlineImageView(i))return i}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function ME(c,e,t){const i=c.model.schema,l=c.config.get("image.insert.type");return c.plugins.has("ImageBlockEditing")?c.plugins.has("ImageInlineEditing")?t||(l==="inline"?"imageInline":l==="block"?"imageBlock":e.is("selection")?Cb(i,e):i.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class rz extends nt{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,i=t.plugins.get("ImageUtils"),l=t.model,d=i.getClosestSelectedImageElement(l.document.selection);l.change(p=>{p.setAttribute("alt",e.newValue,d)})}}class oz extends pe{static get requires(){return[$r]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new rz(this.editor))}}var PE=a(1905),iz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(PE.Z,iz),PE.Z.locals;var NE=a(6764),sz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(NE.Z,sz),NE.Z.locals;class az extends Ke{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new dr,this.keystrokes=new uo,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),Wt.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),Wt.cancel,"ck-button-cancel","cancel"),this._focusables=new gi,this._focusCycler=new os({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),m({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,i,l){const d=new zt(this.locale);return d.set({label:e,icon:t,tooltip:!0}),d.extendTemplate({attributes:{class:i}}),l&&d.delegate("execute").to(this,l),d}_createLabeledInputView(){const e=this.locale.t,t=new Gh(this.locale,gp);return t.label=e("Text alternative"),t}}function OE(c){const e=c.editing.view,t=fr.defaultPositions,i=c.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(i.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class cz extends pe{static get requires(){return[yp]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",i=>{const l=e.commands.get("imageTextAlternative"),d=new zt(i);return d.set({label:t("Change image text alternative"),icon:Wt.lowVision,tooltip:!0}),d.bind("isEnabled").to(l,"isEnabled"),d.bind("isOn").to(l,"value",p=>!!p),this.listenTo(d,"execute",()=>{this._showForm()}),d})}_createForm(){const e=this.editor,t=e.editing.view.document,i=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(f(az))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(l,d)=>{this._hideForm(!0),d()}),this.listenTo(e.ui,"update",()=>{i.getClosestSelectedImageWidget(t.selection)?this._isVisible&&function(l){const d=l.plugins.get("ContextualBalloon");if(l.plugins.get("ImageUtils").getClosestSelectedImageWidget(l.editing.view.document.selection)){const p=OE(l);d.updatePosition(p)}}(e):this._hideForm(!0)}),h({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),i=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:OE(e)}),i.fieldView.value=i.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class BE extends pe{static get requires(){return[oz,cz]}static get pluginName(){return"ImageTextAlternative"}}function RE(c,e){const t=(i,l,d)=>{if(!d.consumable.consume(l.item,i.name))return;const p=d.writer,g=d.mapper.toViewElement(l.item),b=c.findViewImgElement(g);l.attributeNewValue===null?(p.removeAttribute("srcset",b),p.removeAttribute("sizes",b)):l.attributeNewValue&&(p.setAttribute("srcset",l.attributeNewValue,b),p.setAttribute("sizes","100vw",b))};return i=>{i.on(`attribute:srcset:${e}`,t)}}function Bp(c,e,t){const i=(l,d,p)=>{if(!p.consumable.consume(d.item,l.name))return;const g=p.writer,b=p.mapper.toViewElement(d.item),w=c.findViewImgElement(b);g.setAttribute(d.attributeKey,d.attributeNewValue||"",w)};return l=>{l.on(`attribute:${t}:${e}`,i)}}class lz extends $o{observe(e){this.listenTo(e,"load",(t,i)=>{const l=i.target;this.checkShouldIgnoreEventFromTarget(l)||l.tagName=="IMG"&&this._fireEvents(i)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var uz=Object.defineProperty,LE=Object.getOwnPropertySymbols,dz=Object.prototype.hasOwnProperty,hz=Object.prototype.propertyIsEnumerable,jE=(c,e,t)=>e in c?uz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,Rp=(c,e)=>{for(var t in e||(e={}))dz.call(e,t)&&jE(c,t,e[t]);if(LE)for(var t of LE(e))hz.call(e,t)&&jE(c,t,e[t]);return c};class pz extends nt{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&te("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&te("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=Sn(e.source),i=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),d=Object.fromEntries(i.getAttributes());t.forEach((p,g)=>{const b=i.getSelectedElement();if(typeof p=="string"&&(p={src:p}),g&&b&&l.isImage(b)){const w=this.editor.model.createPositionAfter(b);l.insertImage(Rp(Rp({},p),d),w)}else l.insertImage(Rp(Rp({},p),d))})}}class fz extends nt{refresh(){const e=this.editor.plugins.get("ImageUtils"),t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(t),this.value=this.isEnabled?t.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(i=>{i.setAttribute("src",e.source,t),i.removeAttribute("srcset",t),i.removeAttribute("sizes",t)})}}class Ab extends pe{static get requires(){return[$r]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(lz),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const i=new pz(e),l=new fz(e);e.commands.add("insertImage",i),e.commands.add("replaceImageSource",l),e.commands.add("imageInsert",i)}}class zE extends pe{static get requires(){return[$r]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const t=this.editor,i=t.plugins.get("ImageUtils"),l=e==="imageBlock"?"figure":"img";function d(p,g,b,w){p.on(`attribute:${g}:${e}`,(y,A,E)=>{if(!E.consumable.consume(A.item,y.name))return;const D=E.writer,M=E.mapper.toViewElement(A.item),R=i.findViewImgElement(M);if(A.attributeNewValue!==null?D.setAttribute(b,A.attributeNewValue,R):D.removeAttribute(b,R),A.item.hasAttribute("sources"))return;const U=A.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!U&&!w)return;const W=A.item.getAttribute("width"),J=A.item.getAttribute("height"),ie=R.getStyle("aspect-ratio");W&&J&&!ie&&D.setStyle("aspect-ratio",`${W}/${J}`,R)})}t.conversion.for("upcast").attributeToAttribute({view:{name:l,styles:{width:/.+/}},model:{key:"width",value:p=>SE(p)?Op(p.getStyle("width")):null}}).attributeToAttribute({view:{name:l,key:"width"},model:"width"}).attributeToAttribute({view:{name:l,styles:{height:/.+/}},model:{key:"height",value:p=>SE(p)?Op(p.getStyle("height")):null}}).attributeToAttribute({view:{name:l,key:"height"},model:"height"}),t.conversion.for("editingDowncast").add(p=>{d(p,"width","width",!0),d(p,"height","height",!0)}),t.conversion.for("dataDowncast").add(p=>{d(p,"width","width",!1),d(p,"height","height",!1)})}}class FE extends nt{constructor(e,t){super(e),this._modelElementName=t}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(t):this.isEnabled=e.isBlockImage(t)}execute(e={}){const t=this.editor,i=this.editor.model,l=t.plugins.get("ImageUtils"),d=l.getClosestSelectedImageElement(i.document.selection),p=Object.fromEntries(d.getAttributes());return p.src||p.uploadId?i.change(g=>{const{setImageSizes:b=!0}=e,w=Array.from(i.markers).filter(E=>E.getRange().containsItem(d)),y=l.insertImage(p,i.createSelection(d,"on"),this._modelElementName,{setImageSizes:b});if(!y)return null;const A=g.createRangeOn(y);for(const E of w){const D=E.getRange(),M=D.root.rootName!="$graveyard"?D.getJoined(A,!0):A;g.updateMarker(E,{range:M})}return{oldElement:d,newElement:y}}):null}}class UE extends pe{static get requires(){return[Ab,zE,$r,Ko]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new FE(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,i=e.conversion,l=e.plugins.get("ImageUtils");i.for("dataDowncast").elementToStructure({model:"imageBlock",view:(d,{writer:p})=>xE(p)}),i.for("editingDowncast").elementToStructure({model:"imageBlock",view:(d,{writer:p})=>l.toImageWidget(xE(p),p,t("image widget"))}),i.for("downcast").add(Bp(l,"imageBlock","src")).add(Bp(l,"imageBlock","alt")).add(RE(l,"imageBlock")),i.for("upcast").elementToElement({view:EE(e,"imageBlock"),model:(d,{writer:p})=>p.createElement("imageBlock",d.hasAttribute("src")?{src:d.getAttribute("src")}:void 0)}).add(function(d){const p=(g,b,w)=>{if(!w.consumable.test(b.viewItem,{name:!0,classes:"image"}))return;const y=d.findViewImgElement(b.viewItem);if(!y||!w.consumable.test(y,{name:!0}))return;w.consumable.consume(b.viewItem,{name:!0,classes:"image"});const A=vn(w.convertItem(y,b.modelCursor).modelRange.getItems());A?(w.convertChildren(b.viewItem,A),w.updateConversionResult(A,b)):w.consumable.revert(b.viewItem,{name:!0,classes:"image"})};return g=>{g.on("element:figure",p)}}(l))}_setupClipboardIntegration(){const e=this.editor,t=e.model,i=e.editing.view,l=e.plugins.get("ImageUtils"),d=e.plugins.get("ClipboardPipeline");this.listenTo(d,"inputTransformation",(p,g)=>{const b=Array.from(g.content.getChildren());let w;if(!b.every(l.isInlineImageView))return;w=g.targetRanges?e.editing.mapper.toModelRange(g.targetRanges[0]):t.document.selection.getFirstRange();const y=t.createSelection(w);if(Cb(t.schema,y)==="imageBlock"){const A=new da(i.document),E=b.map(D=>A.createElement("figure",{class:"image"},D));g.content=A.createDocumentFragment(E)}}),this.listenTo(d,"contentInsertion",(p,g)=>{g.method==="paste"&&t.change(b=>{const w=b.createRangeIn(g.content);for(const y of w.getItems())y.is("element","imageBlock")&&l.setImageNaturalSizeAttributes(y)})})}}var VE=a(3508),gz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(VE.Z,gz),VE.Z.locals;class mz extends pe{static get requires(){return[UE,Ru,BE]}static get pluginName(){return"ImageBlock"}}class kz extends pe{static get requires(){return[Ab,zE,$r,Ko]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((i,l)=>{if(i.endsWith("caption")&&l.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new FE(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,i=e.conversion,l=e.plugins.get("ImageUtils");i.for("dataDowncast").elementToElement({model:"imageInline",view:(d,{writer:p})=>p.createEmptyElement("img")}),i.for("editingDowncast").elementToStructure({model:"imageInline",view:(d,{writer:p})=>l.toImageWidget(function(g){return g.createContainerElement("span",{class:"image-inline"},g.createEmptyElement("img"))}(p),p,t("image widget"))}),i.for("downcast").add(Bp(l,"imageInline","src")).add(Bp(l,"imageInline","alt")).add(RE(l,"imageInline")),i.for("upcast").elementToElement({view:EE(e,"imageInline"),model:(d,{writer:p})=>p.createElement("imageInline",d.hasAttribute("src")?{src:d.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,i=e.editing.view,l=e.plugins.get("ImageUtils"),d=e.plugins.get("ClipboardPipeline");this.listenTo(d,"inputTransformation",(p,g)=>{const b=Array.from(g.content.getChildren());let w;if(!b.every(l.isBlockImageView))return;w=g.targetRanges?e.editing.mapper.toModelRange(g.targetRanges[0]):t.document.selection.getFirstRange();const y=t.createSelection(w);if(Cb(t.schema,y)==="imageInline"){const A=new da(i.document),E=b.map(D=>D.childCount===1?(Array.from(D.getAttributes()).forEach(M=>A.setAttribute(...M,l.findViewImgElement(D))),D.getChild(0)):D);g.content=A.createDocumentFragment(E)}}),this.listenTo(d,"contentInsertion",(p,g)=>{g.method==="paste"&&t.change(b=>{const w=b.createRangeIn(g.content);for(const y of w.getItems())y.is("element","imageInline")&&l.setImageNaturalSizeAttributes(y)})})}}class bz extends pe{static get requires(){return[kz,Ru,BE]}static get pluginName(){return"ImageInline"}}class HE extends pe{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[$r]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),i=e.getFirstPosition().findAncestor("caption");return i&&t.isBlockImage(i.parent)?i:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}class wz extends nt{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),i=e.plugins.get("ImageUtils");if(!e.plugins.has(UE))return this.isEnabled=!1,void(this.value=!1);const l=e.model.document.selection,d=l.getSelectedElement();if(!d){const p=t.getCaptionFromModelSelection(l);return this.isEnabled=!!p,void(this.value=!!p)}this.isEnabled=i.isImage(d),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(d):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(i=>{this.value?this._hideImageCaption(i):this._showImageCaption(i,t)})}_showImageCaption(e,t){const i=this.editor.model.document.selection,l=this.editor.plugins.get("ImageCaptionEditing"),d=this.editor.plugins.get("ImageUtils");let p=i.getSelectedElement();const g=l._getSavedCaption(p);d.isInlineImage(p)&&(this.editor.execute("imageTypeBlock"),p=i.getSelectedElement());const b=g||e.createElement("caption");e.append(b,p),t&&e.setSelection(b,"in")}_hideImageCaption(e){const t=this.editor,i=t.model.document.selection,l=t.plugins.get("ImageCaptionEditing"),d=t.plugins.get("ImageCaptionUtils");let p,g=i.getSelectedElement();g?p=d.getCaptionFromImageModelElement(g):(p=d.getCaptionFromModelSelection(i),g=p.parent),l._saveCaption(g,p),e.setSelection(g,"on"),e.remove(p)}}class vz extends pe{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[$r,HE]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new wz(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,i=e.plugins.get("ImageUtils"),l=e.plugins.get("ImageCaptionUtils"),d=e.t;e.conversion.for("upcast").elementToElement({view:p=>l.matchImageCaptionViewElement(p),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(p,{writer:g})=>i.isBlockImage(p.parent)?g.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(p,{writer:g})=>{if(!i.isBlockImage(p.parent))return null;const b=g.createEditableElement("figcaption");g.setCustomProperty("imageCaption",!0,b),b.placeholder=d("Enter image caption"),nC({view:t,element:b,keepOnFocus:!0});const w=p.parent.getAttribute("alt");return Ox(b,g,{label:w?d("Caption for image: %0",[w]):d("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),i=e.plugins.get("ImageCaptionUtils"),l=e.commands.get("imageTypeInline"),d=e.commands.get("imageTypeBlock"),p=g=>{if(!g.return)return;const{oldElement:b,newElement:w}=g.return;if(!b)return;if(t.isBlockImage(b)){const A=i.getCaptionFromImageModelElement(b);if(A)return void this._saveCaption(w,A)}const y=this._getSavedCaption(b);y&&this._saveCaption(w,y)};l&&this.listenTo(l,"execute",p,{priority:"low"}),d&&this.listenTo(d,"execute",p,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?Tt.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,i=e.plugins.get("ImageUtils"),l=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const d=t.document.differ.getChanges();for(const p of d){if(p.attributeKey!=="alt")continue;const g=p.range.start.nodeAfter;if(i.isBlockImage(g)){const b=l.getCaptionFromImageModelElement(g);if(!b)return;e.editing.reconvertItem(b)}}})}}class yz extends pe{static get requires(){return[HE]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,i=e.plugins.get("ImageCaptionUtils"),l=e.t;e.ui.componentFactory.add("toggleImageCaption",d=>{const p=e.commands.get("toggleImageCaption"),g=new zt(d);return g.set({icon:Wt.caption,tooltip:!0,isToggleable:!0}),g.bind("isOn","isEnabled").to(p,"value","isEnabled"),g.bind("label").to(p,"value",b=>l(b?"Toggle caption off":"Toggle caption on")),this.listenTo(g,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const b=i.getCaptionFromModelSelection(e.model.document.selection);if(b){const w=e.editing.mapper.toViewElement(b);t.scrollToTheSelection(),t.change(y=>{y.addClass("image__caption_highlighted",w)})}e.editing.view.focus()}),g})}}var WE=a(2640),_z={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(WE.Z,_z),WE.Z.locals;function $E(c){const e=c.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function Cz(c){return new Promise((e,t)=>{const i=c.getAttribute("src");fetch(i).then(l=>l.blob()).then(l=>{const d=YE(l,i),p=d.replace("image/",""),g=new File([l],`image.${p}`,{type:d});e(g)}).catch(l=>l&&l.name==="TypeError"?function(d){return function(p){return new Promise((g,b)=>{const w=Oe.document.createElement("img");w.addEventListener("load",()=>{const y=Oe.document.createElement("canvas");y.width=w.width,y.height=w.height,y.getContext("2d").drawImage(w,0,0),y.toBlob(A=>A?g(A):b())}),w.addEventListener("error",()=>b()),w.src=p})}(d).then(p=>{const g=YE(p,d),b=g.replace("image/","");return new File([p],`image.${b}`,{type:g})})}(i).then(e).catch(t):t(l))})}function YE(c,e){return c.type?c.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Az extends pe{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,i=l=>{const d=new vj(l),p=e.commands.get("uploadImage"),g=e.config.get("image.upload.types"),b=$E(g);return d.set({acceptedType:g.map(w=>`image/${w}`).join(","),allowMultipleFiles:!0}),d.buttonView.set({label:t("Insert image"),icon:Wt.image,tooltip:!0}),d.buttonView.bind("isEnabled").to(p),d.on("done",(w,y)=>{const A=Array.from(y).filter(E=>b.test(E.type));A.length&&(e.execute("uploadImage",{file:A}),e.editing.view.focus())}),d};e.ui.componentFactory.add("uploadImage",i),e.ui.componentFactory.add("imageUpload",i)}}var qE=a(3689),xz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(qE.Z,xz),qE.Z.locals;var KE=a(4036),Ez={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(KE.Z,Ez),KE.Z.locals;var GE=a(3773),Sz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(GE.Z,Sz),GE.Z.locals;class Dz extends pe{constructor(e){super(e),this.uploadStatusChange=(t,i,l)=>{const d=this.editor,p=i.item,g=p.getAttribute("uploadId");if(!l.consumable.consume(i.item,t.name))return;const b=d.plugins.get("ImageUtils"),w=d.plugins.get(bo),y=g?i.attributeNewValue:null,A=this.placeholder,E=d.editing.mapper.toViewElement(p),D=l.writer;if(y=="reading")return QE(E,D),void ZE(b,A,E,D);if(y=="uploading"){const M=w.loaders.get(g);return QE(E,D),void(M?(JE(E,D),function(R,U,W,J){const ie=function(ve){const Be=ve.createUIElement("div",{class:"ck-progress-bar"});return ve.setCustomProperty("progressBar",!0,Be),Be}(U);U.insert(U.createPositionAt(R,"end"),ie),W.on("change:uploadedPercent",(ve,Be,Ct)=>{J.change(at=>{at.setStyle("width",Ct+"%",ie)})})}(E,D,M,d.editing.view),function(R,U,W,J){if(J.data){const ie=R.findViewImgElement(U);W.setAttribute("src",J.data,ie)}}(b,E,D,M)):ZE(b,A,E,D))}y=="complete"&&w.loaders.get(g)&&function(M,R,U){const W=R.createUIElement("div",{class:"ck-image-upload-complete-icon"});R.insert(R.createPositionAt(M,"end"),W),setTimeout(()=>{U.change(J=>J.remove(J.createRangeOn(W)))},3e3)}(E,D,d.editing.view),function(M,R){eS(M,R,"progressBar")}(E,D),JE(E,D),function(M,R){R.removeClass("ck-appear",M)}(E,D)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function QE(c,e){c.hasClass("ck-appear")||e.addClass("ck-appear",c)}function ZE(c,e,t,i){t.hasClass("ck-image-upload-placeholder")||i.addClass("ck-image-upload-placeholder",t);const l=c.findViewImgElement(t);l.getAttribute("src")!==e&&i.setAttribute("src",e,l),XE(t,"placeholder")||i.insert(i.createPositionAfter(l),function(d){const p=d.createUIElement("div",{class:"ck-upload-placeholder-loader"});return d.setCustomProperty("placeholder",!0,p),p}(i))}function JE(c,e){c.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",c),eS(c,e,"placeholder")}function XE(c,e){for(const t of c.getChildren())if(t.getCustomProperty(e))return t}function eS(c,e,t){const i=XE(c,t);i&&e.remove(e.createRangeOn(i))}var Tz=Object.defineProperty,Iz=Object.defineProperties,Mz=Object.getOwnPropertyDescriptors,tS=Object.getOwnPropertySymbols,Pz=Object.prototype.hasOwnProperty,Nz=Object.prototype.propertyIsEnumerable,nS=(c,e,t)=>e in c?Tz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;class Oz extends nt{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),i=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(i)}execute(e){const t=Sn(e.file),i=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),d=Object.fromEntries(i.getAttributes());t.forEach((p,g)=>{const b=i.getSelectedElement();if(g&&b&&l.isImage(b)){const w=this.editor.model.createPositionAfter(b);this._uploadImage(p,d,w)}else this._uploadImage(p,d)})}_uploadImage(e,t,i){const l=this.editor,d=l.plugins.get(bo).createLoader(e),p=l.plugins.get("ImageUtils");var g,b;d&&p.insertImage((g=((w,y)=>{for(var A in y||(y={}))Pz.call(y,A)&&nS(w,A,y[A]);if(tS)for(var A of tS(y))Nz.call(y,A)&&nS(w,A,y[A]);return w})({},t),b={uploadId:d.id},Iz(g,Mz(b))),i)}}class Bz extends pe{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[bo,lb,Ko,$r]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,t=e.model.document,i=e.conversion,l=e.plugins.get(bo),d=e.plugins.get("ImageUtils"),p=e.plugins.get("ClipboardPipeline"),g=$E(e.config.get("image.upload.types")),b=new Oz(e);e.commands.add("uploadImage",b),e.commands.add("imageUpload",b),i.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(w,y)=>{if(A=y.dataTransfer,Array.from(A.types).includes("text/html")&&A.getData("text/html")!=="")return;var A;const E=Array.from(y.dataTransfer.files).filter(D=>!!D&&g.test(D.type));E.length&&(w.stop(),e.model.change(D=>{y.targetRanges&&D.setSelection(y.targetRanges.map(M=>e.editing.mapper.toModelRange(M))),e.execute("uploadImage",{file:E})}))}),this.listenTo(p,"inputTransformation",(w,y)=>{const A=Array.from(e.editing.view.createRangeIn(y.content)).map(D=>D.item).filter(D=>function(M,R){return!(!M.isInlineImageView(R)||!R.getAttribute("src")||!R.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!R.getAttribute("src").match(/^blob:/g))}(d,D)&&!D.getAttribute("uploadProcessed")).map(D=>({promise:Cz(D),imageElement:D}));if(!A.length)return;const E=new da(e.editing.view.document);for(const D of A){E.setAttribute("uploadProcessed",!0,D.imageElement);const M=l.createLoader(D.promise);M&&(E.setAttribute("src","",D.imageElement),E.setAttribute("uploadId",M.id,D.imageElement))}}),e.editing.view.document.on("dragover",(w,y)=>{y.preventDefault()}),t.on("change",()=>{const w=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),y=new Set;for(const A of w)if(A.type=="insert"&&A.name!="$text"){const E=A.position.nodeAfter,D=A.position.root.rootName=="$graveyard";for(const M of Rz(e,E)){const R=M.getAttribute("uploadId");if(!R)continue;const U=l.loaders.get(R);U&&(D?y.has(R)||U.abort():(y.add(R),this._uploadImageElements.set(R,M),U.status=="idle"&&this._readAndUpload(U)))}}}),this.on("uploadComplete",(w,{imageElement:y,data:A})=>{const E=A.urls?A.urls:A;this.editor.model.change(D=>{D.setAttribute("src",E.default,y),this._parseAndSetSrcsetAttributeOnImage(E,y,D),d.setImageNaturalSizeAttributes(y)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,i=t.model,l=t.locale.t,d=t.plugins.get(bo),p=t.plugins.get(lb),g=t.plugins.get("ImageUtils"),b=this._uploadImageElements;return i.enqueueChange({isUndoable:!1},y=>{y.setAttribute("uploadStatus","reading",b.get(e.id))}),e.read().then(()=>{const y=e.upload(),A=b.get(e.id);if(_.isSafari){const E=t.editing.mapper.toViewElement(A),D=g.findViewImgElement(E);t.editing.view.once("render",()=>{if(!D.parent)return;const M=t.editing.view.domConverter.mapViewToDom(D.parent);if(!M)return;const R=M.style.display;M.style.display="none",M._ckHack=M.offsetHeight,M.style.display=R})}return i.enqueueChange({isUndoable:!1},E=>{E.setAttribute("uploadStatus","uploading",A)}),y}).then(y=>{i.enqueueChange({isUndoable:!1},A=>{const E=b.get(e.id);A.setAttribute("uploadStatus","complete",E),this.fire("uploadComplete",{data:y,imageElement:E})}),w()}).catch(y=>{if(e.status!=="error"&&e.status!=="aborted")throw y;e.status=="error"&&y&&p.showWarning(y,{title:l("Upload failed"),namespace:"upload"}),i.enqueueChange({isUndoable:!1},A=>{A.remove(b.get(e.id))}),w()});function w(){i.enqueueChange({isUndoable:!1},y=>{const A=b.get(e.id);y.removeAttribute("uploadId",A),y.removeAttribute("uploadStatus",A),b.delete(e.id)}),d.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,i){let l=0;const d=Object.keys(e).filter(p=>{const g=parseInt(p,10);if(!isNaN(g))return l=Math.max(l,g),!0}).map(p=>`${e[p]} ${p}w`).join(", ");if(d!=""){const p={srcset:d};t.hasAttribute("width")||t.hasAttribute("height")||(p.width=l),i.setAttributes(p,t)}}}function Rz(c,e){const t=c.plugins.get("ImageUtils");return Array.from(c.model.createRangeOn(e)).filter(i=>t.isImage(i.item)).map(i=>i.item)}var rS=a(1568),Lz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(rS.Z,Lz),rS.Z.locals;var oS=a(3535),jz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(oS.Z,jz),oS.Z.locals;var iS=a(6270),zz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(iS.Z,zz),iS.Z.locals;class Fz extends nt{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(i=>{if(i.isDefault)for(const l of i.modelElements)this._defaultStyles[l]=i.name;return[i.name,i]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const t=this.editor,i=t.model,l=t.plugins.get("ImageUtils");i.change(d=>{const p=e.value,{setImageSizes:g=!0}=e;let b=l.getClosestSelectedImageElement(i.document.selection);p&&this.shouldConvertImageType(p,b)&&(this.editor.execute(l.isBlockImage(b)?"imageTypeInline":"imageTypeBlock",{setImageSizes:g}),b=l.getClosestSelectedImageElement(i.document.selection)),!p||this._styles.get(p).isDefault?d.removeAttribute("imageStyle",b):d.setAttribute("imageStyle",p,b),g&&l.setImageNaturalSizeAttributes(b)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}var Uz=Object.defineProperty,sS=Object.getOwnPropertySymbols,Vz=Object.prototype.hasOwnProperty,Hz=Object.prototype.propertyIsEnumerable,aS=(c,e,t)=>e in c?Uz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,cS=(c,e)=>{for(var t in e||(e={}))Vz.call(e,t)&&aS(c,t,e[t]);if(sS)for(var t of sS(e))Hz.call(e,t)&&aS(c,t,e[t]);return c};const{objectFullWidth:Wz,objectInline:lS,objectLeft:uS,objectRight:xb,objectCenter:Eb,objectBlockLeft:dS,objectBlockRight:hS}=Wt,Lp={get inline(){return{name:"inline",title:"In line",icon:lS,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:uS,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:dS,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Eb,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:xb,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:hS,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Eb,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:xb,modelElements:["imageBlock"],className:"image-style-side"}}},pS={full:Wz,left:dS,right:hS,center:Eb,inlineLeft:uS,inlineRight:xb,inline:lS},fS=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function gS(c){te("image-style-configuration-definition-invalid",c)}const Sb={normalizeStyles:function(c){return(c.configuredStyles.options||[]).map(e=>function(t){return t=typeof t=="string"?Lp[t]?cS({},Lp[t]):{name:t}:function(i,l){const d=cS({},l);for(const p in i)Object.prototype.hasOwnProperty.call(l,p)||(d[p]=i[p]);return d}(Lp[t.name],t),typeof t.icon=="string"&&(t.icon=pS[t.icon]||t.icon),t}(e)).filter(e=>function(t,{isBlockPluginLoaded:i,isInlinePluginLoaded:l}){const{modelElements:d,name:p}=t;if(!(d&&d.length&&p))return gS({style:t}),!1;{const g=[i?"imageBlock":null,l?"imageInline":null];if(!d.some(b=>g.includes(b)))return te("image-style-missing-dependency",{style:t,missingPlugins:d.map(b=>b==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,c))},getDefaultStylesConfiguration:function(c,e){return c&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:c?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(c){return c.has("ImageBlockEditing")&&c.has("ImageInlineEditing")?[...fS]:[]},warnInvalidStyle:gS,DEFAULT_OPTIONS:Lp,DEFAULT_ICONS:pS,DEFAULT_DROPDOWN_DEFINITIONS:fS};function mS(c,e){for(const t of e)if(t.name===c)return t}class kS extends pe{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[$r]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=Sb,i=this.editor,l=i.plugins.has("ImageBlockEditing"),d=i.plugins.has("ImageInlineEditing");i.config.define("image.styles",t(l,d)),this.normalizedStyles=e({configuredStyles:i.config.get("image.styles"),isBlockPluginLoaded:l,isInlinePluginLoaded:d}),this._setupConversion(l,d),this._setupPostFixer(),i.commands.add("imageStyle",new Fz(i,this.normalizedStyles))}_setupConversion(e,t){const i=this.editor,l=i.model.schema,d=(p=this.normalizedStyles,(b,w,y)=>{if(!y.consumable.consume(w.item,b.name))return;const A=mS(w.attributeNewValue,p),E=mS(w.attributeOldValue,p),D=y.mapper.toViewElement(w.item),M=y.writer;E&&M.removeClass(E.className,D),A&&M.addClass(A.className,D)});var p;const g=function(b){const w={imageInline:b.filter(y=>!y.isDefault&&y.modelElements.includes("imageInline")),imageBlock:b.filter(y=>!y.isDefault&&y.modelElements.includes("imageBlock"))};return(y,A,E)=>{if(!A.modelRange)return;const D=A.viewItem,M=vn(A.modelRange.getItems());if(M&&E.schema.checkAttribute(M,"imageStyle"))for(const R of w[M.name])E.consumable.consume(D,{classes:R.className})&&E.writer.setAttribute("imageStyle",R.name,M)}}(this.normalizedStyles);i.editing.downcastDispatcher.on("attribute:imageStyle",d),i.data.downcastDispatcher.on("attribute:imageStyle",d),e&&(l.extend("imageBlock",{allowAttributes:"imageStyle"}),i.data.upcastDispatcher.on("element:figure",g,{priority:"low"})),t&&(l.extend("imageInline",{allowAttributes:"imageStyle"}),i.data.upcastDispatcher.on("element:img",g,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,i=e.plugins.get($r),l=new Map(this.normalizedStyles.map(d=>[d.name,d]));t.registerPostFixer(d=>{let p=!1;for(const g of t.differ.getChanges())if(g.type=="insert"||g.type=="attribute"&&g.attributeKey=="imageStyle"){let b=g.type=="insert"?g.position.nodeAfter:g.range.start.nodeAfter;if(b&&b.is("element","paragraph")&&b.childCount>0&&(b=b.getChild(0)),!i.isImage(b))continue;const w=b.getAttribute("imageStyle");if(!w)continue;const y=l.get(w);y&&y.modelElements.includes(b.name)||(d.removeAttribute("imageStyle",b),p=!0)}return p})}}var bS=a(5083),$z={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(bS.Z,$z),bS.Z.locals;class Yz extends pe{static get requires(){return[kS]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],i=wS(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const d of i)this._createButton(d);const l=wS([...t.filter(Ne),...Sb.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const d of l)this._createDropdown(d,i)}_createDropdown(e,t){const i=this.editor.ui.componentFactory;i.add(e.name,l=>{let d;const{defaultItem:p,items:g,title:b}=e,w=g.filter(D=>t.find(({name:M})=>vS(M)===D)).map(D=>{const M=i.create(D);return D===p&&(d=M),M});g.length!==w.length&&Sb.warnInvalidStyle({dropdown:e});const y=cs(l,Zk),A=y.buttonView,E=A.arrowView;return Jk(y,w,{enableActiveItemFocusOnDropdownOpen:!0}),A.set({label:yS(b,d.label),class:null,tooltip:!0}),E.unbind("label"),E.set({label:b}),A.bind("icon").toMany(w,"isOn",(...D)=>{const M=D.findIndex(ra);return M<0?d.icon:w[M].icon}),A.bind("label").toMany(w,"isOn",(...D)=>{const M=D.findIndex(ra);return yS(b,M<0?d.label:w[M].label)}),A.bind("isOn").toMany(w,"isOn",(...D)=>D.some(ra)),A.bind("class").toMany(w,"isOn",(...D)=>D.some(ra)?"ck-splitbutton_flatten":void 0),A.on("execute",()=>{w.some(({isOn:D})=>D)?y.isOpen=!y.isOpen:d.fire("execute")}),y.bind("isEnabled").toMany(w,"isEnabled",(...D)=>D.some(ra)),this.listenTo(y,"execute",()=>{this.editor.editing.view.focus()}),y})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(vS(t),i=>{const l=this.editor.commands.get("imageStyle"),d=new zt(i);return d.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),d.bind("isEnabled").to(l,"isEnabled"),d.bind("isOn").to(l,"value",p=>p===t),d.on("execute",this._executeCommand.bind(this,t)),d})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function wS(c,e){for(const t of c)e[t.title]&&(t.title=e[t.title]);return c}function vS(c){return`imageStyle:${c}`}function yS(c,e){return(c?c+": ":"")+e}class qz extends pe{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Z_(e)),e.commands.add("outdent",new Z_(e))}}const _S='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',CS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class Kz extends pe{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,i=e.t,l=t.uiLanguageDirection=="ltr"?_S:CS,d=t.uiLanguageDirection=="ltr"?CS:_S;this._defineButton("indent",i("Increase indent"),l),this._defineButton("outdent",i("Decrease indent"),d)}_defineButton(e,t,i){const l=this.editor;l.ui.componentFactory.add(e,d=>{const p=l.commands.get(e),g=new zt(d);return g.set({label:t,icon:i,tooltip:!0}),g.bind("isEnabled").to(p,"isEnabled"),this.listenTo(g,"execute",()=>{l.execute(e),l.editing.view.focus()}),g})}}class Gz{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,i,l)=>{if(!l.consumable.test(i.item,"attribute:linkHref")||!i.item.is("selection")&&!l.schema.isInline(i.item))return;const d=l.writer,p=d.document.selection;for(const g of this._definitions){const b=d.createAttributeElement("a",g.attributes,{priority:5});g.classes&&d.addClass(g.classes,b);for(const w in g.styles)d.setStyle(w,g.styles[w],b);d.setCustomProperty("link",!0,b),g.callback(i.attributeNewValue)?i.item.is("selection")?d.wrap(p.getFirstRange(),b):d.wrap(l.mapper.toViewRange(i.range),b):d.unwrap(l.mapper.toViewRange(i.range),b)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,i,{writer:l,mapper:d})=>{const p=d.toViewElement(i.item),g=Array.from(p.getChildren()).find(b=>b.is("element","a"));for(const b of this._definitions){const w=Ho(b.attributes);if(b.callback(i.attributeNewValue)){for(const[y,A]of w)y==="class"?l.addClass(A,g):l.setAttribute(y,A,g);b.classes&&l.addClass(b.classes,g);for(const y in b.styles)l.setStyle(y,b.styles[y],g)}else{for(const[y,A]of w)y==="class"?l.removeClass(A,g):l.removeAttribute(y,g);b.classes&&l.removeClass(b.classes,g);for(const y in b.styles)l.removeStyle(y,g)}}})}}}const Qz=function(c,e,t){var i=c.length;return t=t===void 0?i:t,!e&&t>=i?c:lC(c,e,t)};var Zz=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const AS=function(c){return Zz.test(c)},Jz=function(c){return c.split("")};var xS="\\ud800-\\udfff",Xz="["+xS+"]",Db="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Tb="\\ud83c[\\udffb-\\udfff]",ES="[^"+xS+"]",SS="(?:\\ud83c[\\udde6-\\uddff]){2}",DS="[\\ud800-\\udbff][\\udc00-\\udfff]",TS="(?:"+Db+"|"+Tb+")?",IS="[\\ufe0e\\ufe0f]?",eF=IS+TS+("(?:\\u200d(?:"+[ES,SS,DS].join("|")+")"+IS+TS+")*"),tF="(?:"+[ES+Db+"?",Db,SS,DS,Xz].join("|")+")",nF=RegExp(Tb+"(?="+Tb+")|"+tF+eF,"g");const rF=function(c){return c.match(nF)||[]},oF=function(c){return AS(c)?rF(c):Jz(c)},iF=function(c){return function(e){e=bk(e);var t=AS(e)?oF(e):void 0,i=t?t[0]:e.charAt(0),l=t?Qz(t,1).join(""):e.slice(1);return i[c]()+l}}("toUpperCase"),sF=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,aF=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,cF=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,lF=/^((\w+:(\/{2,})?)|(\W))/i,Ib="Ctrl+K";function MS(c,{writer:e}){const t=e.createAttributeElement("a",{href:c},{priority:5});return e.setCustomProperty("link",!0,t),t}function PS(c){const e=String(c);return function(t){return!!t.replace(sF,"").match(aF)}(e)?e:"#"}function Mb(c,e){return!!c&&e.checkAttribute(c.name,"linkHref")}function Pb(c,e){const t=(i=c,cF.test(i)?"mailto:":e);var i;const l=!!t&&!NS(c);return c&&l?t+c:c}function NS(c){return lF.test(c)}function OS(c){window.open(c,"_blank","noopener")}class uF extends nt{constructor(){super(...arguments),this.manualDecorators=new lo,this.automaticDecorators=new Gz}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,i=t.getSelectedElement()||vn(t.getSelectedBlocks());Mb(i,e.schema)?(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(i,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const l of this.manualDecorators)l.value=this._getDecoratorStateFromModel(l.id)}execute(e,t={}){const i=this.editor.model,l=i.document.selection,d=[],p=[];for(const g in t)t[g]?d.push(g):p.push(g);i.change(g=>{if(l.isCollapsed){const b=l.getFirstPosition();if(l.hasAttribute("linkHref")){const w=BS(l);let y=Mc(b,"linkHref",l.getAttribute("linkHref"),i);l.getAttribute("linkHref")===w&&(y=this._updateLinkContent(i,g,y,e)),g.setAttribute("linkHref",e,y),d.forEach(A=>{g.setAttribute(A,!0,y)}),p.forEach(A=>{g.removeAttribute(A,y)}),g.setSelection(g.createPositionAfter(y.end.nodeBefore))}else if(e!==""){const w=Ho(l.getAttributes());w.set("linkHref",e),d.forEach(A=>{w.set(A,!0)});const{end:y}=i.insertContent(g.createText(e,w),b);g.setSelection(y)}["linkHref",...d,...p].forEach(w=>{g.removeSelectionAttribute(w)})}else{const b=i.schema.getValidRanges(l.getRanges(),"linkHref"),w=[];for(const A of l.getSelectedBlocks())i.schema.checkAttribute(A,"linkHref")&&w.push(g.createRangeOn(A));const y=w.slice();for(const A of b)this._isRangeToUpdate(A,w)&&y.push(A);for(const A of y){let E=A;if(y.length===1){const D=BS(l);l.getAttribute("linkHref")===D&&(E=this._updateLinkContent(i,g,A,e),g.setSelection(g.createSelection(E)))}g.setAttribute("linkHref",e,E),d.forEach(D=>{g.setAttribute(D,!0,E)}),p.forEach(D=>{g.removeAttribute(D,E)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,i=t.document.selection,l=i.getSelectedElement();return Mb(l,t.schema)?l.getAttribute(e):i.getAttribute(e)}_isRangeToUpdate(e,t){for(const i of t)if(i.containsRange(e))return!1;return!0}_updateLinkContent(e,t,i,l){const d=t.createText(l,{linkHref:l});return e.insertContent(d,i)}}function BS(c){if(c.isCollapsed){const e=c.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(c.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}class dF extends nt{refresh(){const e=this.editor.model,t=e.document.selection,i=t.getSelectedElement();Mb(i,e.schema)?this.isEnabled=e.schema.checkAttribute(i,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,i=t.document.selection,l=e.commands.get("link");t.change(d=>{const p=i.isCollapsed?[Mc(i.getFirstPosition(),"linkHref",i.getAttribute("linkHref"),t)]:t.schema.getValidRanges(i.getRanges(),"linkHref");for(const g of p)if(d.removeAttribute("linkHref",g),l)for(const b of l.manualDecorators)d.removeAttribute(b.id,g)})}}class hF extends Ve(){constructor({id:e,label:t,attributes:i,classes:l,styles:d,defaultValue:p}){super(),this.id=e,this.set("value",void 0),this.defaultValue=p,this.label=t,this.attributes=i,this.classes=l,this.styles=d}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var RS=a(9773),pF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(RS.Z,pF),RS.Z.locals;var fF=Object.defineProperty,LS=Object.getOwnPropertySymbols,gF=Object.prototype.hasOwnProperty,mF=Object.prototype.propertyIsEnumerable,jS=(c,e,t)=>e in c?fF(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,kF=(c,e)=>{for(var t in e||(e={}))gF.call(e,t)&&jS(c,t,e[t]);if(LS)for(var t of LS(e))mF.call(e,t)&&jS(c,t,e[t]);return c};const zS="automatic",bF=/^(https?:)?\/\//;class wF extends pe{static get pluginName(){return"LinkEditing"}static get requires(){return[Ax,kx,Ko]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:MS}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(i,l)=>MS(PS(i),l)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:i=>i.getAttribute("href")}}),e.commands.add("link",new uF(e)),e.commands.add("unlink",new dF(e));const t=function(i,l){const d={"Open in a new tab":i("Open in a new tab"),Downloadable:i("Downloadable")};return l.forEach(p=>("label"in p&&d[p.label]&&(p.label=d[p.label]),p)),l}(e.t,function(i){const l=[];if(i)for(const[d,p]of Object.entries(i)){const g=Object.assign({},p,{id:`link${iF(d)}`});l.push(g)}return l}(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter(i=>i.mode===zS)),this._enableManualDecorators(t.filter(i=>i.mode==="manual")),e.plugins.get(Ax).registerAttribute("linkHref"),function(i,l,d,p){const g=i.editing.view,b=new Set;g.document.registerPostFixer(w=>{const y=i.model.document.selection;let A=!1;if(y.hasAttribute(l)){const E=Mc(y.getFirstPosition(),l,y.getAttribute(l),i.model),D=i.editing.mapper.toViewRange(E);for(const M of D.getItems())M.is("element",d)&&!M.hasClass(p)&&(w.addClass(p,M),b.add(M),A=!0)}return A}),i.conversion.for("editingDowncast").add(w=>{function y(){g.change(A=>{for(const E of b.values())A.removeClass(p,E),b.delete(E)})}w.on("insert",y,{priority:"highest"}),w.on("remove",y,{priority:"highest"}),w.on("attribute",y,{priority:"highest"}),w.on("selection",y,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,i=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&i.add({id:"linkIsExternal",mode:zS,callback:l=>!!l&&bF.test(l),attributes:{target:"_blank",rel:"noopener noreferrer"}}),i.add(e),i.length&&t.conversion.for("downcast").add(i.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,i=t.commands.get("link").manualDecorators;e.forEach(l=>{t.model.schema.extend("$text",{allowAttributes:l.id});const d=new hF(l);i.add(d),t.conversion.for("downcast").attributeToElement({model:d.id,view:(p,{writer:g,schema:b},{item:w})=>{if((w.is("selection")||b.isInline(w))&&p){const y=g.createAttributeElement("a",d.attributes,{priority:5});d.classes&&g.addClass(d.classes,y);for(const A in d.styles)g.setStyle(A,d.styles[A],y);return g.setCustomProperty("link",!0,y),y}}}),t.conversion.for("upcast").elementToAttribute({view:kF({name:"a"},d._createPattern()),model:{key:d.id}})})}_enableLinkOpen(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(i,l)=>{if(!(_.isMac?l.domEvent.metaKey:l.domEvent.ctrlKey))return;let d=l.domTarget;if(d.tagName.toLowerCase()!="a"&&(d=d.closest("a")),!d)return;const p=d.getAttribute("href");p&&(i.stop(),l.preventDefault(),OS(p))},{context:"$capture"}),this.listenTo(t,"keydown",(i,l)=>{const d=e.commands.get("link").value;d&&l.keyCode===dt.enter&&l.altKey&&(i.stop(),OS(d))})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection;this.listenTo(e,"insertContent",()=>{const i=t.anchor.nodeBefore,l=t.anchor.nodeAfter;t.hasAttribute("linkHref")&&i&&i.hasAttribute("linkHref")&&(l&&l.hasAttribute("linkHref")||e.change(d=>{Nb(d,Ob(e.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,t=e.model;e.editing.view.addObserver(Kk);let i=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{i=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!i)return;i=!1;const l=t.document.selection;if(!l.isCollapsed||!l.hasAttribute("linkHref"))return;const d=l.getFirstPosition(),p=Mc(d,"linkHref",l.getAttribute("linkHref"),t);(d.isTouching(p.start)||d.isTouching(p.end))&&t.change(g=>{Nb(g,Ob(t.schema))})})}_enableTypingOverLink(){const e=this.editor,t=e.editing.view;let i=null,l=!1;this.listenTo(t.document,"delete",()=>{l=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const d=e.model.document.selection;d.isCollapsed||(l?l=!1:FS(e)&&function(p){const g=p.document.selection,b=g.getFirstPosition(),w=g.getLastPosition(),y=b.nodeAfter;if(!y||!y.is("$text")||!y.hasAttribute("linkHref"))return!1;const A=w.textNode||w.nodeBefore;return y===A?!0:Mc(b,"linkHref",y.getAttribute("linkHref"),p).containsRange(p.createRange(b,w),!0)}(e.model)&&(i=d.getAttributes()))},{priority:"high"}),this.listenTo(e.model,"insertContent",(d,[p])=>{l=!1,FS(e)&&i&&(e.model.change(g=>{for(const[b,w]of i)g.setAttribute(b,w,p)}),i=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,t=e.model,i=t.document.selection,l=e.editing.view;let d=!1,p=!1;this.listenTo(l.document,"delete",(g,b)=>{p=b.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{d=!1;const g=i.getFirstPosition(),b=i.getAttribute("linkHref");if(!b)return;const w=Mc(g,"linkHref",b,t);d=w.containsPosition(g)||w.end.isEqual(g)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{p&&(p=!1,d||e.model.enqueueChange(g=>{Nb(g,Ob(t.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,t=e.model,i=this.editor.config.get("link.defaultProtocol");i&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(l,d)=>{t.change(p=>{const g=p.createRangeIn(d.content);for(const b of g.getItems())if(b.hasAttribute("linkHref")){const w=Pb(b.getAttribute("linkHref"),i);p.setAttribute("linkHref",w,b)}})})}}function Nb(c,e){c.removeSelectionAttribute("linkHref");for(const t of e)c.removeSelectionAttribute(t)}function FS(c){return c.model.change(e=>e.batch).isTyping}function Ob(c){return c.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}var US=a(7754),vF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(US.Z,vF),US.Z.locals;class yF extends Ke{constructor(e,t){super(e),this.focusTracker=new dr,this.keystrokes=new uo,this._focusables=new gi;const i=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(i("Save"),Wt.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),Wt.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new os({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const l=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&l.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:l,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),m({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new Gh(this.locale,gp);return t.label=e("Link URL"),t}_createButton(e,t,i,l){const d=new zt(this.locale);return d.set({label:e,icon:t,tooltip:!0}),d.extendTemplate({attributes:{class:i}}),l&&d.delegate("execute").to(this,l),d}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const i of e.manualDecorators){const l=new Kh(this.locale);l.set({name:i.id,label:i.label,withText:!0}),l.bind("isOn").toMany([i,e],"value",(d,p)=>p===void 0&&d===void 0?!!i.defaultValue:!!d),l.on("execute",()=>{i.set("value",!l.isOn)}),t.add(l)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const i=new Ke;i.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(l=>({tag:"li",children:[l],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(i)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}var VS=a(2347),_F={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(VS.Z,_F),VS.Z.locals;class CF extends Ke{constructor(e){super(e),this.focusTracker=new dr,this.keystrokes=new uo,this._focusables=new gi;const t=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(t("Edit link"),Wt.pencil,"edit"),this.set("href",void 0),this._focusCycler=new os({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,i){const l=new zt(this.locale);return l.set({label:e,icon:t,tooltip:!0}),l.delegate("execute").to(this,i),l}_createPreviewButton(){const e=new zt(this.locale),t=this.bindTemplate,i=this.t;return e.set({withText:!0,tooltip:i("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",l=>l&&PS(l)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",l=>l||i("This link has no URL")),e.bind("isEnabled").to(this,"href",l=>!!l),e.template.tag="a",e.template.eventListeners={},e}}const Go="link-ui";class AF extends pe{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[yp]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(JB),this._balloon=e.plugins.get(yp),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Go,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Go,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new CF(e.locale),i=e.commands.get("link"),l=e.commands.get("unlink");return t.bind("href").to(i,"value"),t.editButtonView.bind("isEnabled").to(i),t.unlinkButtonView.bind("isEnabled").to(l),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(d,p)=>{this._hideUI(),p()}),t.keystrokes.set(Ib,(d,p)=>{this._addFormView(),p()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),i=e.config.get("link.defaultProtocol"),l=new(f(yF))(e.locale,t);return l.urlInputView.fieldView.bind("value").to(t,"value"),l.urlInputView.bind("isEnabled").to(t,"isEnabled"),l.saveButtonView.bind("isEnabled").to(t),this.listenTo(l,"submit",()=>{const{value:d}=l.urlInputView.fieldView.element,p=Pb(d,i);e.execute("link",p,l.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(l,"cancel",()=>{this._closeFormView()}),l.keystrokes.set("Esc",(d,p)=>{this._closeFormView(),p()}),l}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link"),i=e.t;e.ui.componentFactory.add("link",l=>{const d=new zt(l);return d.isEnabled=!0,d.label=i("Link"),d.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',d.keystroke=Ib,d.tooltip=!0,d.isToggleable=!0,d.bind("isEnabled").to(t,"isEnabled"),d.bind("isOn").to(t,"value",p=>!!p),this.listenTo(d,"execute",()=>this._showUI(!0)),d})}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Ib,(i,l)=>{l(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),h({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let i=this._getSelectedLinkElement(),l=p();const d=()=>{const g=this._getSelectedLinkElement(),b=p();i&&!g||!i&&b!==l?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),i=g,l=b};function p(){return t.selection.focus.getAncestors().reverse().find(g=>g.is("element"))}this.listenTo(e.ui,"update",d),this.listenTo(this._balloon,"change:visibleView",d)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,i=e.document;let l;if(t.markers.has(Go)){const d=Array.from(this.editor.editing.mapper.markerNameToElements(Go)),p=e.createRange(e.createPositionBefore(d[0]),e.createPositionAfter(d[d.length-1]));l=e.domConverter.viewRangeToDom(p)}else l=()=>{const d=this._getSelectedLinkElement();return d?e.domConverter.mapViewToDom(d):e.domConverter.viewRangeToDom(i.selection.getFirstRange())};return{target:l}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,i=t.getSelectedElement();if(t.isCollapsed||i&&An(i))return Bb(t.getFirstPosition());{const l=t.getFirstRange().getTrimmed(),d=Bb(l.start),p=Bb(l.end);return d&&d==p&&e.createRangeIn(d).getTrimmed().isEqual(l)?d:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const i=e.document.selection.getFirstRange();if(e.markers.has(Go))t.updateMarker(Go,{range:i});else if(i.start.isAtEnd){const l=i.start.getLastMatchingPosition(({item:d})=>!e.schema.isContent(d),{boundaries:i});t.addMarker(Go,{usingOperation:!1,affectsData:!1,range:t.createRange(l,i.end)})}else t.addMarker(Go,{usingOperation:!1,affectsData:!1,range:i})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Go)&&e.change(t=>{t.removeMarker(Go)})}}function Bb(c){return c.getAncestors().find(e=>{return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t})||null}const xF=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class EF extends pe{static get requires(){return[bi]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,t=new Cx(e.model,i=>{if(!function(d){return d.length>4&&d[d.length-1]===" "&&d[d.length-2]!==" "}(i))return;const l=HS(i.substr(0,i.length-1));return l?{url:l}:void 0});t.on("matched:data",(i,l)=>{const{batch:d,range:p,url:g}=l;if(!d.isTyping)return;const b=p.end.getShiftedBy(-1),w=b.getShiftedBy(-g.length),y=e.model.createRange(w,b);this._applyAutoLink(g,y)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,i=e.commands.get("enter");i&&i.on("execute",()=>{const l=t.document.selection.getFirstPosition();if(!l.parent.previousSibling)return;const d=t.createRangeIn(l.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(d)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,i=e.commands.get("shiftEnter");i&&i.on("execute",()=>{const l=t.document.selection.getFirstPosition(),d=t.createRange(t.createPositionAt(l.parent,0),l.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(d)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:i,range:l}=_x(e,t),d=HS(i);if(d){const p=t.createRange(l.end.getShiftedBy(-d.length),l.end);this._applyAutoLink(d,p)}}_applyAutoLink(e,t){const i=this.editor.model,l=Pb(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(d,p){return p.schema.checkAttributeInSelection(p.createSelection(d),"linkHref")}(t,i)&&NS(l)&&!function(d){const p=d.start.nodeAfter;return!!p&&p.hasAttribute("linkHref")}(t)&&this._persistAutoLink(l,t)}_persistAutoLink(e,t){const i=this.editor.model,l=this.editor.plugins.get("Delete");i.enqueueChange(d=>{d.setAttribute("linkHref",e,t),i.enqueueChange(()=>{l.requestUndoOnBackspace()})})}}function HS(c){const e=xF.exec(c);return e?e[2]:null}var WS=a(111),SF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(WS.Z,SF),WS.Z.locals;var $S=a(5730),DF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()($S.Z,DF),$S.Z.locals;var YS=a(4564),TF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(YS.Z,TF),YS.Z.locals;function IF(c,e){const t=e.mapper,i=e.writer,l=c.getAttribute("listType")=="numbered"?"ol":"ul",d=function(g){const b=g.createContainerElement("li");return b.getFillerOffset=NF,b}(i),p=i.createContainerElement(l,null);return i.insert(i.createPositionAt(p,0),d),t.bindElements(c,d),d}function qS(c,e,t,i){const l=e.parent,d=t.mapper,p=t.writer;let g=d.toViewPosition(i.createPositionBefore(c));const b=GS(c.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:c.getAttribute("listIndent")}),w=c.previousSibling;if(b&&b.getAttribute("listIndent")==c.getAttribute("listIndent")){const y=d.toViewElement(b);g=p.breakContainer(p.createPositionAfter(y))}else if(w&&w.name=="listItem"){g=d.toViewPosition(i.createPositionAt(w,"end"));const y=d.findMappedViewAncestor(g),A=function(E){for(const D of E.getChildren())if(D.name=="ul"||D.name=="ol")return D;return null}(y);g=A?p.createPositionBefore(A):p.createPositionAt(y,"end")}else g=d.toViewPosition(i.createPositionBefore(c));if(g=KS(g),p.insert(g,l),w&&w.name=="listItem"){const y=d.toViewElement(w),A=p.createRange(p.createPositionAt(y,0),g).getWalker({ignoreElementEnd:!0});for(const E of A)if(E.item.is("element","li")){const D=p.breakContainer(p.createPositionBefore(E.item)),M=E.item.parent,R=p.createPositionAt(e,"end");Yr(p,R.nodeBefore,R.nodeAfter),p.move(p.createRangeOn(M),R),A._position=D}}else{const y=l.nextSibling;if(y&&(y.is("element","ul")||y.is("element","ol"))){let A=null;for(const E of y.getChildren()){const D=d.toModelElement(E);if(!(D&&D.getAttribute("listIndent")>c.getAttribute("listIndent")))break;A=E}A&&(p.breakContainer(p.createPositionAfter(A)),p.move(p.createRangeOn(A.parent),p.createPositionAt(e,"end")))}}Yr(p,l,l.nextSibling),Yr(p,l.previousSibling,l)}function Yr(c,e,t){return!e||!t||e.name!="ul"&&e.name!="ol"||e.name!=t.name||e.getAttribute("class")!==t.getAttribute("class")?null:c.mergeContainers(c.createPositionAfter(e))}function KS(c){return c.getLastMatchingPosition(e=>e.item.is("uiElement"))}function GS(c,e){const t=!!e.sameIndent,i=!!e.smallerIndent,l=e.listIndent;let d=c;for(;d&&d.name=="listItem";){const p=d.getAttribute("listIndent");if(t&&l==p||i&&l>p)return d;d=e.direction==="forward"?d.nextSibling:d.previousSibling}return null}function QS(c,e,t,i){c.ui.componentFactory.add(e,l=>{const d=c.commands.get(e),p=new zt(l);return p.set({label:t,icon:i,tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(d,"value","isEnabled"),p.on("execute",()=>{c.execute(e),c.editing.view.focus()}),p})}function Rb(c,e){const t=[],i=c.parent,l={ignoreElementEnd:!1,startPosition:c,shallow:!0,direction:e},d=i.getAttribute("listIndent"),p=[...new Yo(l)].filter(g=>g.item.is("element")).map(g=>g.item);for(const g of p){if(!g.is("element","listItem")||g.getAttribute("listIndent")<d)break;if(!(g.getAttribute("listIndent")>d)){if(g.getAttribute("listType")!==i.getAttribute("listType")||g.getAttribute("listStyle")!==i.getAttribute("listStyle")||g.getAttribute("listReversed")!==i.getAttribute("listReversed")||g.getAttribute("listStart")!==i.getAttribute("listStart"))break;e==="backward"?t.unshift(g):t.push(g)}}return t}const MF=["disc","circle","square"],PF=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function NF(){const c=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||c?0:fC.call(this)}class OF extends pe{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;QS(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),QS(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}const BF=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:c,typeAttribute:e,listType:t}of BF);var ZS=a(4721),RF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(ZS.Z,RF),ZS.Z.locals;var JS=a(6082),LF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(JS.Z,LF),JS.Z.locals;var XS=a(2417),jF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(XS.Z,jF),XS.Z.locals;class eD extends nt{constructor(e,t){super(e),this._indentBy=t=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let i=Array.from(t.selection.getSelectedBlocks());e.change(l=>{const d=i[i.length-1];let p=d.nextSibling;for(;p&&p.name=="listItem"&&p.getAttribute("listIndent")>d.getAttribute("listIndent");)i.push(p),p=p.nextSibling;this._indentBy<0&&(i=i.reverse());for(const g of i){const b=g.getAttribute("listIndent")+this._indentBy;b<0?l.rename(g,"paragraph"):l.setAttribute("listIndent",b,g)}this.fire("_executeCleanup",i)})}_checkEnabled(){const e=vn(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const t=e.getAttribute("listIndent"),i=e.getAttribute("listType");let l=e.previousSibling;for(;l&&l.is("element","listItem")&&l.getAttribute("listIndent")>=t;){if(l.getAttribute("listIndent")==t)return l.getAttribute("listType")==i;l=l.previousSibling}return!1}return!0}}class tD extends nt{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,i=t.document,l=Array.from(i.selection.getSelectedBlocks()).filter(p=>rD(p,t.schema)),d=e.forceValue!==void 0?!e.forceValue:this.value;t.change(p=>{if(d){let g=l[l.length-1].nextSibling,b=Number.POSITIVE_INFINITY,w=[];for(;g&&g.name=="listItem"&&g.getAttribute("listIndent")!==0;){const y=g.getAttribute("listIndent");y<b&&(b=y);const A=y-b;w.push({element:g,listIndent:A}),g=g.nextSibling}w=w.reverse();for(const y of w)p.setAttribute("listIndent",y.listIndent,y.element)}if(!d){let g=Number.POSITIVE_INFINITY;for(const b of l)b.is("element","listItem")&&b.getAttribute("listIndent")<g&&(g=b.getAttribute("listIndent"));g=g===0?1:g,nD(l,!0,g),nD(l,!1,g)}for(const g of l.reverse())d&&g.name=="listItem"?p.rename(g,"paragraph"):d||g.name=="listItem"?d||g.name!="listItem"||g.getAttribute("listType")==this.type||p.setAttribute("listType",this.type,g):(p.setAttributes({listType:this.type,listIndent:0},g),p.rename(g,"listItem"));this.fire("_executeCleanup",l)})}_getValue(){const e=vn(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,i=vn(e.getSelectedBlocks());return!!i&&rD(i,t)}}function nD(c,e,t){const i=e?c[0]:c[c.length-1];if(i.is("element","listItem")){let l=i[e?"previousSibling":"nextSibling"],d=i.getAttribute("listIndent");for(;l&&l.is("element","listItem")&&l.getAttribute("listIndent")>=t;)d>l.getAttribute("listIndent")&&(d=l.getAttribute("listIndent")),l.getAttribute("listIndent")==d&&c[e?"unshift":"push"](l),l=l[e?"previousSibling":"nextSibling"]}}function rD(c,e){return e.checkChild(c.parent,"listItem")&&!e.isObject(c)}class zF extends pe{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return function(t){return MF.includes(t)?"bulleted":PF.includes(t)?"numbered":null}(e)}getSelectedListItems(e){return function(t){let i=[...t.document.selection.getSelectedBlocks()].filter(l=>l.is("element","listItem")).map(l=>{const d=t.change(p=>p.createPositionAt(l,0));return[...Rb(d,"backward"),...Rb(d,"forward")]}).flat();return i=[...new Set(i)],i}(e)}getSiblingNodes(e,t){return Rb(e,t)}}function oD(c){return(e,t,i)=>{const l=i.consumable;if(!l.test(t.item,"insert")||!l.test(t.item,"attribute:listType")||!l.test(t.item,"attribute:listIndent"))return;l.consume(t.item,"insert"),l.consume(t.item,"attribute:listType"),l.consume(t.item,"attribute:listIndent");const d=t.item;qS(d,IF(d,i),i,c)}}const FF=(c,e,t)=>{if(!t.consumable.test(e.item,c.name))return;const i=t.mapper.toViewElement(e.item),l=t.writer;l.breakContainer(l.createPositionBefore(i)),l.breakContainer(l.createPositionAfter(i));const d=i.parent,p=e.attributeNewValue=="numbered"?"ol":"ul";l.rename(p,d)},UF=(c,e,t)=>{t.consumable.consume(e.item,c.name);const i=t.mapper.toViewElement(e.item).parent,l=t.writer;Yr(l,i,i.nextSibling),Yr(l,i.previousSibling,i)},iD=(c,e,t)=>{if(t.consumable.test(e.item,c.name)&&e.item.name!="listItem"){let i=t.mapper.toViewPosition(e.range.start);const l=t.writer,d=[];for(;(i.parent.name=="ul"||i.parent.name=="ol")&&(i=l.breakContainer(i),i.parent.name=="li");){const p=i,g=l.createPositionAt(i.parent,"end");if(!p.isEqual(g)){const b=l.remove(l.createRange(p,g));d.push(b)}i=l.createPositionAfter(i.parent)}if(d.length>0){for(let p=0;p<d.length;p++){const g=i.nodeBefore;if(i=l.insert(i,d[p]).end,p>0){const b=Yr(l,g,g.nextSibling);b&&b.parent==g&&i.offset--}}Yr(l,i.nodeBefore,i.nodeAfter)}}},VF=(c,e,t)=>{const i=t.mapper.toViewPosition(e.position),l=i.nodeBefore,d=i.nodeAfter;Yr(t.writer,l,d)},HF=(c,e,t)=>{if(t.consumable.consume(e.viewItem,{name:!0})){const i=t.writer,l=i.createElement("listItem"),d=function(b){let w=0,y=b.parent;for(;y;){if(y.is("element","li"))w++;else{const A=y.previousSibling;A&&A.is("element","li")&&w++}y=y.parent}return w}(e.viewItem);i.setAttribute("listIndent",d,l);const p=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(i.setAttribute("listType",p,l),!t.safeInsert(l,e.modelCursor))return;const g=function(b,w,y){const{writer:A,schema:E}=y;let D=A.createPositionAfter(b);for(const M of w)if(M.name=="ul"||M.name=="ol")D=y.convertItem(M,D).modelCursor;else{const R=y.convertItem(M,A.createPositionAt(b,"end")),U=R.modelRange.start.nodeAfter;U&&U.is("element")&&!E.checkChild(b,U.name)&&(b=R.modelCursor.parent.is("element","listItem")?R.modelCursor.parent:YF(R.modelCursor),D=A.createPositionAfter(b))}return D}(l,e.viewItem.getChildren(),t);e.modelRange=i.createRange(e.modelCursor,g),t.updateConversionResult(l,e)}},sD=(c,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){const i=Array.from(e.viewItem.getChildren());for(const l of i)!(l.is("element","li")||Bc(l))&&l._remove()}},WF=(c,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const i=[...e.viewItem.getChildren()];let l=!1;for(const d of i)l&&!Bc(d)&&d._remove(),Bc(d)&&(l=!0)}};function aD(c){return(e,t)=>{if(t.isPhantom)return;const i=t.modelPosition.nodeBefore;if(i&&i.is("element","listItem")){const l=t.mapper.toViewElement(i),d=l.getAncestors().find(Bc),p=c.createPositionAt(l,0).getWalker();for(const g of p){if(g.type=="elementStart"&&g.item.is("element","li")){t.viewPosition=g.previousPosition;break}if(g.type=="elementEnd"&&g.item==d){t.viewPosition=g.nextPosition;break}}}}}const $F=function(c,[e,t]){const i=this;let l,d=e.is("documentFragment")?e.getChild(0):e;if(l=t?i.createSelection(t):i.document.selection,d&&d.is("element","listItem")){const p=l.getFirstPosition();let g=null;if(p.parent.is("element","listItem")?g=p.parent:p.nodeBefore&&p.nodeBefore.is("element","listItem")&&(g=p.nodeBefore),g){const b=g.getAttribute("listIndent");if(b>0)for(;d&&d.is("element","listItem");)d._setAttribute("listIndent",d.getAttribute("listIndent")+b),d=d.nextSibling}}};function YF(c){const e=new Yo({startPosition:c});let t;do t=e.next();while(!t.value.item.is("element","listItem"));return t.value.item}function cD(c,e,t,i,l,d){const p=GS(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:c}),g=l.mapper,b=l.writer,w=p?p.getAttribute("listIndent"):null;let y;if(p)if(w==c){const A=g.toViewElement(p).parent;y=b.createPositionAfter(A)}else{const A=d.createPositionAt(p,"end");y=g.toViewPosition(A)}else y=t;y=KS(y);for(const A of[...i.getChildren()])Bc(A)&&(y=b.move(b.createRangeOn(A),y).end,Yr(b,A,A.nextSibling),Yr(b,A.previousSibling,A))}function Bc(c){return c.is("element","ol")||c.is("element","ul")}class qF extends pe{static get pluginName(){return"ListEditing"}static get requires(){return[Sp,bi,zF]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data,i=e.editing;var l;e.model.document.registerPostFixer(p=>function(g,b){const w=g.document.differ.getChanges(),y=new Map;let A=!1;for(const R of w)if(R.type=="insert"&&R.name=="listItem")E(R.position);else if(R.type=="insert"&&R.name!="listItem"){if(R.name!="$text"){const U=R.position.nodeAfter;U.hasAttribute("listIndent")&&(b.removeAttribute("listIndent",U),A=!0),U.hasAttribute("listType")&&(b.removeAttribute("listType",U),A=!0),U.hasAttribute("listStyle")&&(b.removeAttribute("listStyle",U),A=!0),U.hasAttribute("listReversed")&&(b.removeAttribute("listReversed",U),A=!0),U.hasAttribute("listStart")&&(b.removeAttribute("listStart",U),A=!0);for(const W of Array.from(g.createRangeIn(U)).filter(J=>J.item.is("element","listItem")))E(W.previousPosition)}E(R.position.getShiftedBy(R.length))}else R.type=="remove"&&R.name=="listItem"?E(R.position):(R.type=="attribute"&&R.attributeKey=="listIndent"||R.type=="attribute"&&R.attributeKey=="listType")&&E(R.range.start);for(const R of y.values())D(R),M(R);return A;function E(R){const U=R.nodeBefore;if(U&&U.is("element","listItem")){let W=U;if(y.has(W))return;for(let J=W.previousSibling;J&&J.is("element","listItem");J=W.previousSibling)if(W=J,y.has(W))return;y.set(U,W)}else{const W=R.nodeAfter;W&&W.is("element","listItem")&&y.set(W,W)}}function D(R){let U=0,W=null;for(;R&&R.is("element","listItem");){const J=R.getAttribute("listIndent");if(J>U){let ie;W===null?(W=J-U,ie=U):(W>J&&(W=J),ie=J-W),b.setAttribute("listIndent",ie,R),A=!0}else W=null,U=R.getAttribute("listIndent")+1;R=R.nextSibling}}function M(R){let U=[],W=null;for(;R&&R.is("element","listItem");){const J=R.getAttribute("listIndent");if(W&&W.getAttribute("listIndent")>J&&(U=U.slice(0,J+1)),J!=0)if(U[J]){const ie=U[J];R.getAttribute("listType")!=ie&&(b.setAttribute("listType",ie,R),A=!0)}else U[J]=R.getAttribute("listType");W=R,R=R.nextSibling}}}(e.model,p)),i.mapper.registerViewToModelLength("li",Lb),t.mapper.registerViewToModelLength("li",Lb),i.mapper.on("modelToViewPosition",aD(i.view)),i.mapper.on("viewToModelPosition",(l=e.model,(p,g)=>{const b=g.viewPosition,w=b.parent,y=g.mapper;if(w.name=="ul"||w.name=="ol"){if(b.isAtEnd){const A=y.toModelElement(b.nodeBefore),E=y.getModelLength(b.nodeBefore);g.modelPosition=l.createPositionBefore(A).getShiftedBy(E)}else{const A=y.toModelElement(b.nodeAfter);g.modelPosition=l.createPositionBefore(A)}p.stop()}else if(w.name=="li"&&b.nodeBefore&&(b.nodeBefore.name=="ul"||b.nodeBefore.name=="ol")){const A=y.toModelElement(w);let E=1,D=b.nodeBefore;for(;D&&Bc(D);)E+=y.getModelLength(D),D=D.previousSibling;g.modelPosition=l.createPositionBefore(A).getShiftedBy(E),p.stop()}})),t.mapper.on("modelToViewPosition",aD(i.view)),e.conversion.for("editingDowncast").add(p=>{p.on("insert",iD,{priority:"high"}),p.on("insert:listItem",oD(e.model)),p.on("attribute:listType:listItem",FF,{priority:"high"}),p.on("attribute:listType:listItem",UF,{priority:"low"}),p.on("attribute:listIndent:listItem",function(g){return(b,w,y)=>{if(!y.consumable.consume(w.item,"attribute:listIndent"))return;const A=y.mapper.toViewElement(w.item),E=y.writer;E.breakContainer(E.createPositionBefore(A)),E.breakContainer(E.createPositionAfter(A));const D=A.parent,M=D.previousSibling,R=E.createRangeOn(D);E.remove(R),M&&M.nextSibling&&Yr(E,M,M.nextSibling),cD(w.attributeOldValue+1,w.range.start,R.start,A,y,g),qS(w.item,A,y,g);for(const U of w.item.getChildren())y.consumable.consume(U,"insert")}}(e.model)),p.on("remove:listItem",function(g){return(b,w,y)=>{const A=y.mapper.toViewPosition(w.position).getLastMatchingPosition(W=>!W.item.is("element","li")).nodeAfter,E=y.writer;E.breakContainer(E.createPositionBefore(A)),E.breakContainer(E.createPositionAfter(A));const D=A.parent,M=D.previousSibling,R=E.createRangeOn(D),U=E.remove(R);M&&M.nextSibling&&Yr(E,M,M.nextSibling),cD(y.mapper.toModelElement(A).getAttribute("listIndent")+1,w.position,R.start,A,y,g);for(const W of E.createRangeIn(U).getItems())y.mapper.unbindViewElement(W);b.stop()}}(e.model)),p.on("remove",VF,{priority:"low"})}),e.conversion.for("dataDowncast").add(p=>{p.on("insert",iD,{priority:"high"}),p.on("insert:listItem",oD(e.model))}),e.conversion.for("upcast").add(p=>{p.on("element:ul",sD,{priority:"high"}),p.on("element:ol",sD,{priority:"high"}),p.on("element:li",WF,{priority:"high"}),p.on("element:li",HF)}),e.model.on("insertContent",$F,{priority:"high"}),e.commands.add("numberedList",new tD(e,"numbered")),e.commands.add("bulletedList",new tD(e,"bulleted")),e.commands.add("indentList",new eD(e,"forward")),e.commands.add("outdentList",new eD(e,"backward"));const d=i.view.document;this.listenTo(d,"enter",(p,g)=>{const b=this.editor.model.document,w=b.selection.getLastPosition().parent;b.selection.isCollapsed&&w.name=="listItem"&&w.isEmpty&&(this.editor.execute("outdentList"),g.preventDefault(),p.stop())},{context:"li"}),this.listenTo(d,"delete",(p,g)=>{if(g.direction!=="backward")return;const b=this.editor.model.document.selection;if(!b.isCollapsed)return;const w=b.getFirstPosition();if(!w.isAtStart)return;const y=w.parent;y.name==="listItem"&&(y.previousSibling&&y.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),g.preventDefault(),p.stop()))},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(p,g)=>{const b=g.shiftKey?"outdentList":"indentList";this.editor.commands.get(b).isEnabled&&(e.execute(b),g.stopPropagation(),g.preventDefault(),p.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,t=e.get("indent"),i=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),i&&i.registerChildCommand(e.get("outdentList"))}}function Lb(c){let e=1;for(const t of c.getChildren())if(t.name=="ul"||t.name=="ol")for(const i of t.getChildren())e+=Lb(i);return e}gu("Ctrl+Enter");var lD=a(1199),KF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(lD.Z,KF),lD.Z.locals,gu("Ctrl+Enter");function uD(c,e){const t=(i,l,d)=>{if(!d.consumable.consume(l.item,i.name))return;const p=l.attributeNewValue,g=d.writer,b=d.mapper.toViewElement(l.item),w=[...b.getChildren()].find(A=>A.getCustomProperty("media-content"));g.remove(w);const y=c.getMediaViewElement(g,p,e);g.insert(g.createPositionAt(b,0),y)};return i=>{i.on("attribute:url:media",t)}}function dD(c,e,t,i){return c.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(c,t,i),c.createSlot()])}function hD(c){const e=c.getSelectedElement();return e&&e.is("element","media")?e:null}function pD(c,e,t,i){c.change(l=>{const d=l.createElement("media",{url:e});c.insertObject(d,t,null,{setSelection:"on",findOptimalPosition:i?"auto":void 0})})}class GF extends nt{refresh(){const e=this.editor.model,t=e.document.selection,i=hD(t);this.value=i?i.getAttribute("url"):void 0,this.isEnabled=function(l){const d=l.getSelectedElement();return!!d&&d.name==="media"}(t)||function(l,d){let g=Bx(l,d).start.parent;return g.isEmpty&&!d.schema.isLimit(g)&&(g=g.parent),d.schema.checkChild(g,"media")}(t,e)}execute(e){const t=this.editor.model,i=t.document.selection,l=hD(i);l?t.change(d=>{d.setAttribute("url",e,l)}):pD(t,e,i,!0)}}class QF{constructor(e,t){const i=t.providers,l=t.extraProviders||[],d=new Set(t.removeProviders),p=i.concat(l).filter(g=>{const b=g.name;return b?!d.has(b):(te("media-embed-no-provider-name",{provider:g}),!1)});this.locale=e,this.providerDefinitions=p}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,i){return this._getMedia(t).getViewElement(e,i)}_getMedia(e){if(!e)return new fD(this.locale);e=e.trim();for(const t of this.providerDefinitions){const i=t.html,l=Sn(t.url);for(const d of l){const p=this._getUrlMatches(e,d);if(p)return new fD(this.locale,e,p,i)}}return null}_getUrlMatches(e,t){let i=e.match(t);if(i)return i;let l=e.replace(/^https?:\/\//,"");return i=l.match(t),i||(l=l.replace(/^www\./,""),i=l.match(t),i||null)}}class fD{constructor(e,t,i,l){this.url=this._getValidUrl(t),this._locale=e,this._match=i,this._previewRenderer=l}getViewElement(e,t){const i={};let l;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(i["data-oembed-url"]=this.url),t.renderForEditingView&&(i.class="ck-media__wrapper");const d=this._getPreviewHtml(t);l=e.createRawElement("div",i,(p,g)=>{g.setContentOf(p,d)})}else this.url&&(i.url=this.url),l=e.createEmptyElement(t.elementName,i);return e.setCustomProperty("media-content",!0,l),l}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new ea,t=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new ho({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var gD=a(7442),ZF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(gD.Z,ZF),gD.Z.locals;class jp extends pe{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const i=t[1],l=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${i}${l?`?start=${l}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new QF(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,t=e.model.schema,i=e.t,l=e.conversion,d=e.config.get("mediaEmbed.previewsInData"),p=e.config.get("mediaEmbed.elementName"),g=this.registry;e.commands.add("mediaEmbed",new GF(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),l.for("dataDowncast").elementToStructure({model:"media",view:(b,{writer:w})=>{const y=b.getAttribute("url");return dD(w,g,y,{elementName:p,renderMediaPreview:!!y&&d})}}),l.for("dataDowncast").add(uD(g,{elementName:p,renderMediaPreview:d})),l.for("editingDowncast").elementToStructure({model:"media",view:(b,{writer:w})=>{const y=b.getAttribute("url");return function(A,E,D){return E.setCustomProperty("media",!0,A),kb(A,E,{label:D})}(dD(w,g,y,{elementName:p,renderForEditingView:!0}),w,i("media widget"))}}),l.for("editingDowncast").add(uD(g,{elementName:p,renderForEditingView:!0})),l.for("upcast").elementToElement({view:b=>["oembed",p].includes(b.name)&&b.getAttribute("url")?{name:!0}:null,model:(b,{writer:w})=>{const y=b.getAttribute("url");return g.hasMedia(y)?w.createElement("media",{url:y}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(b,{writer:w})=>{const y=b.getAttribute("data-oembed-url");return g.hasMedia(y)?w.createElement("media",{url:y}):null}}).add(b=>{b.on("element:figure",(w,y,A)=>{if(!A.consumable.consume(y.viewItem,{name:!0,classes:"media"}))return;const{modelRange:E,modelCursor:D}=A.convertChildren(y.viewItem,y.modelCursor);y.modelRange=E,y.modelCursor=D,vn(E.getItems())||A.consumable.revert(y.viewItem,{name:!0,classes:"media"})})})}}const JF=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class XF extends pe{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[eE,bi,aE]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,t=e.model.document,i=e.plugins.get("ClipboardPipeline");this.listenTo(i,"inputTransformation",()=>{const l=t.selection.getFirstRange(),d=Fn.fromPosition(l.start);d.stickiness="toPrevious";const p=Fn.fromPosition(l.end);p.stickiness="toNext",t.once("change:data",()=>{this._embedMediaBetweenPositions(d,p),d.detach(),p.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(Oe.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const i=this.editor,l=i.plugins.get(jp).registry,d=new Sr(e,t),p=d.getWalker({ignoreElementEnd:!0});let g="";for(const b of p)b.item.is("$textProxy")&&(g+=b.item.data);if(g=g.trim(),!g.match(JF)||!l.hasMedia(g))return void d.detach();i.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Fn.fromPosition(e),this._timeoutId=Oe.window.setTimeout(()=>{i.model.change(b=>{this._timeoutId=null,b.remove(d),d.detach();let w=null;this._positionToInsert.root.rootName!=="$graveyard"&&(w=this._positionToInsert),pD(i.model,g,w,!1),this._positionToInsert.detach(),this._positionToInsert=null}),i.plugins.get(bi).requestUndoOnBackspace()},100)):d.detach()}}var mD=a(9292),e6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(mD.Z,e6),mD.Z.locals;class t6 extends Ke{constructor(e,t){super(t);const i=t.t;this.focusTracker=new dr,this.keystrokes=new uo,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(i("Save"),Wt.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",l=>!!l),this.cancelButtonView=this._createButton(i("Cancel"),Wt.cancel,"ck-button-cancel","cancel"),this._focusables=new gi,this._focusCycler=new os({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),m({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new Gh(this.locale,gp),i=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,i.on("input",()=>{t.infoText=i.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=i.element.value.trim()}),t}_createButton(e,t,i,l){const d=new zt(this.locale);return d.set({label:e,icon:t,tooltip:!0}),d.extendTemplate({attributes:{class:i}}),l&&d.delegate("execute").to(this,l),d}}class n6 extends pe{static get requires(){return[jp]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,t=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",i=>{const l=cs(i);return this._setUpDropdown(l,t),l})}_setUpDropdown(e,t){const i=this.editor,l=i.t,d=e.buttonView,p=i.plugins.get(jp).registry;e.once("change:isOpen",()=>{const g=new(f(t6))(function(b,w){return[y=>{if(!y.url.length)return b("The URL must not be empty.")},y=>{if(!w.hasMedia(y.url))return b("This media URL is not supported.")}]}(i.t,p),i.locale);e.panelView.children.add(g),d.on("open",()=>{g.disableCssTransitions(),g.url=t.value||"",g.urlInputView.fieldView.select(),g.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{g.isValid()&&(i.execute("mediaEmbed",g.url),i.editing.view.focus())}),e.on("change:isOpen",()=>g.resetFormStatus()),e.on("cancel",()=>{i.editing.view.focus()}),g.delegate("submit","cancel").to(e),g.urlInputView.fieldView.bind("value").to(t,"value"),g.urlInputView.bind("isEnabled").to(t,"isEnabled")}),e.bind("isEnabled").to(t),d.set({label:l("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var kD=a(4652),r6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(kD.Z,r6),kD.Z.locals;function o6(c,e){if(!c.childCount)return;const t=new da(c.document),i=function(p,g){const b=g.createRangeIn(p),w=new po({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),y=[];for(const A of b)if(A.type==="elementStart"&&w.match(A.item)){const E=s6(A.item);y.push({element:A.item,id:E.id,order:E.order,indent:E.indent})}return y}(c,t);if(!i.length)return;let l=null,d=1;i.forEach((p,g)=>{const b=function(M,R){if(!M)return!0;if(M.id!==R.id)return R.indent-M.indent!=1;const U=R.element.previousSibling;if(!U)return!0;return W=U,!(W.is("element","ol")||W.is("element","ul"));var W}(i[g-1],p),w=b?null:i[g-1],y=(E=p,(A=w)?E.indent-A.indent:E.indent-1);var A,E;if(b&&(l=null,d=1),!l||y!==0){const M=function(R,U){const W=new RegExp(`@list l${R.id}:level${R.indent}\\s*({[^}]*)`,"gi"),J=/mso-level-number-format:([^;]{0,100});/gi,ie=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,ve=W.exec(U);let Be="decimal",Ct="ol",at=null;if(ve&&ve[1]){const rn=J.exec(ve[1]);if(rn&&rn[1]&&(Be=rn[1].trim(),Ct=Be!=="bullet"&&Be!=="image"?"ol":"ul"),Be==="bullet"){const on=function(Lc){const Qo=function(vi){if(vi.getChild(0).is("$text"))return null;for(const yi of vi.getChildren()){if(!yi.is("element","span"))continue;const ka=yi.getChild(0);if(ka)return ka.is("$text")?ka:ka.getChild(0)}return null}(Lc);if(!Qo)return null;const qr=Qo._data;return qr==="o"?"circle":qr==="·"?"disc":qr==="§"?"square":null}(R.element);on&&(Be=on)}else{const on=ie.exec(ve[1]);on&&on[1]&&(at=parseInt(on[1]))}}return{type:Ct,startIndex:at,style:i6(Be)}}(p,e);if(l){if(p.indent>d){const R=l.getChild(l.childCount-1),U=R.getChild(R.childCount-1);l=bD(M,U,t),d+=1}else if(p.indent<d){const R=d-p.indent;l=function(U,W){const J=U.getAncestors({parentFirst:!0});let ie=null,ve=0;for(const Be of J)if((Be.is("element","ul")||Be.is("element","ol"))&&ve++,ve===W){ie=Be;break}return ie}(l,R),d=p.indent}}else l=bD(M,p.element,t);p.indent<=d&&(l.is("element",M.type)||(l=t.rename(M.type,l)))}const D=function(M,R){return function(U,W){const J=new po({name:"span",styles:{"mso-list":"Ignore"}}),ie=W.createRangeIn(U);for(const ve of ie)ve.type==="elementStart"&&J.match(ve.item)&&W.remove(ve.item)}(M,R),R.removeStyle("text-indent",M),R.rename("li",M)}(p.element,t);t.appendChild(D,l)})}function i6(c){if(c.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(c){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return c;default:return null}}function bD(c,e,t){const i=e.parent,l=t.createElement(c.type),d=i.getChildIndex(e)+1;return t.insertChild(d,l,i),c.style&&t.setStyle("list-style-type",c.style,l),c.startIndex&&c.startIndex>1&&t.setAttribute("start",c.startIndex,l),l}function s6(c){const e={},t=c.getStyle("mso-list");if(t){const i=t.match(/(^|\s{1,100})l(\d+)/i),l=t.match(/\s{0,100}lfo(\d+)/i),d=t.match(/\s{0,100}level(\d+)/i);i&&l&&d&&(e.id=i[2],e.order=l[1],e.indent=parseInt(d[1]))}return e}function a6(c,e){if(!c.childCount)return;const t=new da(c.document),i=function(d,p){const g=p.createRangeIn(d),b=new po({name:/v:(.+)/}),w=[];for(const y of g){if(y.type!="elementStart")continue;const A=y.item,E=A.previousSibling,D=E&&E.is("element")?E.name:null;b.match(A)&&A.getAttribute("o:gfxdata")&&D!=="v:shapetype"&&w.push(y.item.getAttribute("id"))}return w}(c,t);(function(d,p,g){const b=g.createRangeIn(p),w=new po({name:"img"}),y=[];for(const A of b)if(A.item.is("element")&&w.match(A.item)){const E=A.item,D=E.getAttribute("v:shapes")?E.getAttribute("v:shapes").split(" "):[];D.length&&D.every(M=>d.indexOf(M)>-1)?y.push(E):E.getAttribute("src")||y.push(E)}for(const A of y)g.remove(A)})(i,c,t),function(d,p,g){const b=g.createRangeIn(p),w=[];for(const E of b)if(E.type=="elementStart"&&E.item.is("element","v:shape")){const D=E.item.getAttribute("id");if(d.includes(D))continue;y(E.item.parent.getChildren(),D)||w.push(E.item)}for(const E of w){const D={src:A(E)};E.hasAttribute("alt")&&(D.alt=E.getAttribute("alt"));const M=g.createElement("img",D);g.insertChild(E.index+1,M,E.parent)}function y(E,D){for(const M of E)if(M.is("element")&&(M.name=="img"&&M.getAttribute("v:shapes")==D||y(M.getChildren(),D)))return!0;return!1}function A(E){for(const D of E.getChildren())if(D.is("element")&&D.getAttribute("src"))return D.getAttribute("src")}}(i,c,t),function(d,p){const g=p.createRangeIn(d),b=new po({name:/v:(.+)/}),w=[];for(const y of g)y.type=="elementStart"&&b.match(y.item)&&w.push(y.item);for(const y of w)p.remove(y)}(c,t);const l=function(d,p){const g=p.createRangeIn(d),b=new po({name:"img"}),w=[];for(const y of g)y.item.is("element")&&b.match(y.item)&&y.item.getAttribute("src").startsWith("file://")&&w.push(y.item);return w}(c,t);l.length&&function(d,p,g){if(d.length===p.length)for(let b=0;b<d.length;b++){const w=`data:${p[b].type};base64,${c6(p[b].hex)}`;g.setAttribute("src",w,d[b])}}(l,function(d){if(!d)return[];const p=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,g=new RegExp("(?:("+p.source+"))([\\da-fA-F\\s]+)\\}","g"),b=d.match(g),w=[];if(b)for(const y of b){let A=!1;y.includes("\\pngblip")?A="image/png":y.includes("\\jpegblip")&&(A="image/jpeg"),A&&w.push({hex:y.replace(p,"").replace(/[^\da-fA-F]/g,""),type:A})}return w}(e),t)}function c6(c){return btoa(c.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const l6=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,u6=/xmlns:o="urn:schemas-microsoft-com/i;class d6{constructor(e){this.document=e}isActive(e){return l6.test(e)||u6.test(e)}execute(e){const{body:t,stylesString:i}=e._parsedData;o6(t,i),a6(t,e.dataTransfer.getData("text/rtf")),e.content=t}}function wD(c,e,t,{blockElements:i,inlineObjectElements:l}){let d=t.createPositionAt(c,e=="forward"?"after":"before");return d=d.getLastMatchingPosition(({item:p})=>p.is("element")&&!i.includes(p.name)&&!l.includes(p.name),{direction:e}),e=="forward"?d.nodeAfter:d.nodeBefore}function vD(c,e){return!!c&&c.is("element")&&e.includes(c.name)}const h6=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class p6{constructor(e){this.document=e}isActive(e){return h6.test(e)}execute(e){const t=new da(this.document),{body:i}=e._parsedData;(function(l,d){for(const p of l.getChildren())if(p.is("element","b")&&p.getStyle("font-weight")==="normal"){const g=l.getChildIndex(p);d.remove(p),d.insertChild(g,p.getChildren(),l)}})(i,t),function(l,d){for(const p of d.createRangeIn(l)){const g=p.item;if(g.is("element","li")){const b=g.getChild(0);b&&b.is("element","p")&&d.unwrapElement(b)}}}(i,t),function(l,d){const p=new np(d.document.stylesProcessor),g=new ip(p,{renderingMode:"data"}),b=g.blockElements,w=g.inlineObjectElements,y=[];for(const A of d.createRangeIn(l)){const E=A.item;if(E.is("element","br")){const D=wD(E,"forward",d,{blockElements:b,inlineObjectElements:w}),M=wD(E,"backward",d,{blockElements:b,inlineObjectElements:w}),R=vD(D,b);(vD(M,b)||R)&&y.push(E)}}for(const A of y)A.hasClass("Apple-interchange-newline")?d.remove(A):d.replace(A,d.createElement("p"))}(i,t),e.content=i}}const f6=/<google-sheets-html-origin/i;class g6{constructor(e){this.document=e}isActive(e){return f6.test(e)}execute(e){const t=new da(this.document),{body:i}=e._parsedData;(function(l,d){for(const p of l.getChildren())if(p.is("element","google-sheets-html-origin")){const g=l.getChildIndex(p);d.remove(p),d.insertChild(g,p.getChildren(),l)}})(i,t),function(l,d){for(const p of l.getChildren())p.is("element","table")&&p.hasAttribute("xmlns")&&d.removeAttribute("xmlns",p)}(i,t),function(l,d){for(const p of l.getChildren())p.is("element","table")&&p.getStyle("width")==="0px"&&d.removeStyle("width",p)}(i,t),function(l,d){for(const p of Array.from(l.getChildren()))p.is("element","style")&&d.remove(p)}(i,t),e.content=i}}function yD(c){return c.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length===1?" ":Array(t.length+1).join("  ").substr(0,t.length))}function m6(c,e){const t=new DOMParser,i=function(b){return yD(yD(b)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(b){const w="</body>",y="</html>",A=b.indexOf(w);if(A<0)return b;const E=b.indexOf(y,A+w.length);return b.substring(0,A+w.length)+(E>=0?b.substring(E):"")}(c=c.replace(/<!--\[if gte vml 1]>/g,""))),l=t.parseFromString(i,"text/html");(function(b){b.querySelectorAll("span[style*=spacerun]").forEach(w=>{const y=w,A=y.innerText.length||0;y.innerText=Array(A+1).join("  ").substr(0,A)})})(l);const d=l.body.innerHTML,p=function(b,w){const y=new np(w),A=new ip(y,{renderingMode:"data"}),E=b.createDocumentFragment(),D=b.body.childNodes;for(;D.length>0;)E.appendChild(D[0]);return A.domToView(E,{skipComments:!0})}(l,e),g=function(b){const w=[],y=[],A=Array.from(b.getElementsByTagName("style"));for(const E of A)E.sheet&&E.sheet.cssRules&&E.sheet.cssRules.length&&(w.push(E.sheet),y.push(E.innerHTML));return{styles:w,stylesString:y.join(" ")}}(l);return{body:p,bodyString:d,styles:g.styles,stylesString:g.stylesString}}function nn(c,e,t,i,l=1){e!=null&&l!=null&&e>l?i.setAttribute(c,e,t):i.removeAttribute(c,t)}function fa(c,e,t={}){const i=c.createElement("tableCell",t);return c.insertElement("paragraph",i),c.insert(i,e),i}function jb(c,e){const t=e.parent.parent,i=parseInt(t.getAttribute("headingColumns")||"0"),{column:l}=c.getCellLocation(e);return!!i&&l<i}function k6(){return c=>{c.on("element:table",(e,t,i)=>{const l=t.viewItem;if(!i.consumable.test(l,{name:!0}))return;const{rows:d,headingRows:p,headingColumns:g}=function(y){let A,E=0;const D=[],M=[];let R;for(const U of Array.from(y.getChildren())){if(U.name!=="tbody"&&U.name!=="thead"&&U.name!=="tfoot")continue;U.name!=="thead"||R||(R=U);const W=Array.from(U.getChildren()).filter(J=>J.is("element","tr"));for(const J of W)if(R&&U===R||U.name==="tbody"&&Array.from(J.getChildren()).length&&Array.from(J.getChildren()).every(ie=>ie.is("element","th")))E++,D.push(J);else{M.push(J);const ie=b6(J);(!A||ie<A)&&(A=ie)}}return{headingRows:E,headingColumns:A||0,rows:[...D,...M]}}(l),b={};g&&(b.headingColumns=g),p&&(b.headingRows=p);const w=i.writer.createElement("table",b);if(i.safeInsert(w,t.modelCursor)){if(i.consumable.consume(l,{name:!0}),d.forEach(y=>i.convertItem(y,i.writer.createPositionAt(w,"end"))),i.convertChildren(l,i.writer.createPositionAt(w,"end")),w.isEmpty){const y=i.writer.createElement("tableRow");i.writer.insert(y,i.writer.createPositionAt(w,"end")),fa(i.writer,i.writer.createPositionAt(y,"end"))}i.updateConversionResult(w,t)}})}}function _D(c){return e=>{e.on(`element:${c}`,(t,i,{writer:l})=>{if(!i.modelRange)return;const d=i.modelRange.start.nodeAfter,p=l.createPositionAt(d,0);if(i.viewItem.isEmpty)return void l.insertElement("paragraph",p);const g=Array.from(d.getChildren());if(g.every(b=>b.is("element","$marker"))){const b=l.createElement("paragraph");l.insert(b,l.createPositionAt(d,0));for(const w of g)l.move(l.createRangeOn(w),l.createPositionAt(b,"end"))}},{priority:"low"})}}function b6(c){let e=0,t=0;const i=Array.from(c.getChildren()).filter(l=>l.name==="th"||l.name==="td");for(;t<i.length&&i[t].name==="th";){const l=i[t];e+=parseInt(l.getAttribute("colspan")||"1"),t++}return e}class It{constructor(e,t={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=t.row!==void 0?t.row:t.startRow||0,this._endRow=t.row!==void 0?t.row:t.endRow,this._startColumn=t.column!==void 0?t.column:t.startColumn||0,this._endColumn=t.column!==void 0?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const i=this._getSpanned();if(i)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(i.cell,i.row,i.column));else{const l=e.getChild(this._cellIndex);if(!l)return this._advanceToNextRow();const d=parseInt(l.getAttribute("colspan")||"1"),p=parseInt(l.getAttribute("rowspan")||"1");(d>1||p>1)&&this._recordSpans(l,p,d),this._shouldSkipSlot()||(t=this._formatOutValue(l)),this._nextCellAtColumn=this._column+d}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,t=this._row,i=this._column){return{done:!1,value:new w6(this,e,t,i)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),t=this._row<this._startRow,i=this._column<this._startColumn,l=this._endColumn!==void 0&&this._column>this._endColumn;return e||t||i||l}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,i){const l={cell:e,row:this._row,column:this._column};for(let d=this._row;d<this._row+t;d++)for(let p=this._column;p<this._column+i;p++)d==this._row&&p==this._column||this._markSpannedCell(d,p,l)}_markSpannedCell(e,t,i){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,i)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let t=this._startRow;!this._jumpedToStartRow;t--)e===this._getRowLength(t)&&(this._row=t,this._rowIndex=t,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((t,i)=>t+parseInt(i.getAttribute("colspan")||"1"),0)}}class w6{constructor(e,t,i,l){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=i,this.cellAnchorColumn=l,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function CD(c,e){return(t,{writer:i})=>{const l=t.getAttribute("headingRows")||0,d=i.createContainerElement("table",null,[]),p=i.createContainerElement("figure",{class:"table"},d);l>0&&i.insert(i.createPositionAt(d,"end"),i.createContainerElement("thead",null,i.createSlot(g=>g.is("element","tableRow")&&g.index<l))),l<c.getRows(t)&&i.insert(i.createPositionAt(d,"end"),i.createContainerElement("tbody",null,i.createSlot(g=>g.is("element","tableRow")&&g.index>=l)));for(const{positionOffset:g,filter:b}of e.additionalSlots)i.insert(i.createPositionAt(d,g),i.createSlot(b));return i.insert(i.createPositionAt(d,"after"),i.createSlot(g=>!g.is("element","tableRow")&&!e.additionalSlots.some(({filter:b})=>b(g)))),e.asWidget?function(g,b){return b.setCustomProperty("table",!0,g),kb(g,b,{hasSelectionHandle:!0})}(p,i):p}}function AD(c={}){return(e,{writer:t})=>{const i=e.parent,l=i.parent,d=l.getChildIndex(i),p=new It(l,{row:d}),g=l.getAttribute("headingRows")||0,b=l.getAttribute("headingColumns")||0;let w=null;for(const y of p)if(y.cell==e){const A=y.row<g||y.column<b?"th":"td";w=c.asWidget?Ox(t.createEditableElement(A),t):t.createContainerElement(A);break}return w}}function xD(c={}){return(e,{writer:t})=>{if(!e.parent.is("element","tableCell")||!ED(e))return null;if(c.asWidget)return t.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const i=t.createContainerElement("p");return t.setCustomProperty("dataPipeline:transparentRendering",!0,i),i}}}function ED(c){return c.parent.childCount==1&&!!c.getAttributeKeys().next().done}class v6 extends nt{refresh(){const e=this.editor.model,t=e.document.selection,i=e.schema;this.isEnabled=function(l,d){const p=l.getFirstPosition().parent,g=p===p.root?p:p.parent;return d.checkChild(g,"table")}(t,i)}execute(e={}){const t=this.editor,i=t.model,l=t.plugins.get("TableUtils"),d=t.config.get("table.defaultHeadings.rows"),p=t.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&d&&(e.headingRows=d),e.headingColumns===void 0&&p&&(e.headingColumns=p),i.change(g=>{const b=l.createTable(g,e);i.insertObject(b,null,null,{findOptimalPosition:"auto"}),g.setSelection(g.createPositionAt(b.getNodeByPath([0,0,0]),0))})}}class SD extends nt{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,i=e.plugins.get("TableUtils"),l=this.order==="above",d=i.getSelectionAffectedTableCells(t),p=i.getRowIndexes(d),g=l?p.first:p.last,b=d[0].findAncestor("table");i.insertRows(b,{at:l?g:g+1,copyStructureFromAbove:!l})}}class DD extends nt{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,i=e.plugins.get("TableUtils"),l=this.order==="left",d=i.getSelectionAffectedTableCells(t),p=i.getColumnIndexes(d),g=l?p.first:p.last,b=d[0].findAncestor("table");i.insertColumns(b,{columns:1,at:l?g:g+1})}}class TD extends nt{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}function ID(c,e,t){const{startRow:i,startColumn:l,endRow:d,endColumn:p}=e,g=t.createElement("table"),b=d-i+1;for(let y=0;y<b;y++)t.insertElement("tableRow",g,"end");const w=[...new It(c,{startRow:i,endRow:d,startColumn:l,endColumn:p,includeAllSlots:!0})];for(const{row:y,column:A,cell:E,isAnchor:D,cellAnchorRow:M,cellAnchorColumn:R}of w){const U=y-i,W=g.getChild(U);if(D){const J=t.cloneElement(E);t.append(J,W),BD(J,y,A,d,p,t)}else(M<i||R<l)&&fa(t,t.createPositionAt(W,"end"))}return function(y,A,E,D,M){const R=parseInt(A.getAttribute("headingRows")||"0");R>0&&nn("headingRows",R-E,y,M,0);const U=parseInt(A.getAttribute("headingColumns")||"0");U>0&&nn("headingColumns",U-D,y,M,0)}(g,c,i,l,t),g}function MD(c,e,t=0){const i=[],l=new It(c,{startRow:t,endRow:e-1});for(const d of l){const{row:p,cellHeight:g}=d;p<e&&e<=p+g-1&&i.push(d)}return i}function PD(c,e,t){const i=c.parent,l=i.parent,d=i.index,p=e-d,g={},b=parseInt(c.getAttribute("rowspan"))-p;b>1&&(g.rowspan=b);const w=parseInt(c.getAttribute("colspan")||"1");w>1&&(g.colspan=w);const y=d+p,A=[...new It(l,{startRow:d,endRow:y,includeAllSlots:!0})];let E,D=null;for(const M of A){const{row:R,column:U,cell:W}=M;W===c&&E===void 0&&(E=U),E!==void 0&&E===U&&R===y&&(D=fa(t,M.getPositionBefore(),g))}return nn("rowspan",p,c,t),D}function ND(c,e){const t=[],i=new It(c);for(const l of i){const{column:d,cellWidth:p}=l;d<e&&e<=d+p-1&&t.push(l)}return t}function OD(c,e,t,i){const l=t-e,d={},p=parseInt(c.getAttribute("colspan"))-l;p>1&&(d.colspan=p);const g=parseInt(c.getAttribute("rowspan")||"1");g>1&&(d.rowspan=g);const b=fa(i,i.createPositionAfter(c),d);return nn("colspan",l,c,i),b}function BD(c,e,t,i,l,d){const p=parseInt(c.getAttribute("colspan")||"1"),g=parseInt(c.getAttribute("rowspan")||"1");t+p-1>l&&nn("colspan",l-t+1,c,d,1),e+g-1>i&&nn("rowspan",i-e+1,c,d,1)}function zb(c,e){const t=e.getColumns(c),i=new Array(t).fill(0);for(const{column:d}of new It(c))i[d]++;const l=i.reduce((d,p,g)=>p?d:[...d,g],[]);if(l.length>0){const d=l[l.length-1];return e.removeColumns(c,{at:d}),!0}return!1}function Fb(c,e){const t=[],i=e.getRows(c);for(let l=0;l<i;l++)c.getChild(l).isEmpty&&t.push(l);if(t.length>0){const l=t[t.length-1];return e.removeRows(c,{at:l}),!0}return!1}function Ub(c,e){zb(c,e)||Fb(c,e)}function RD(c,e){const t=Array.from(new It(c,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(t.every(({cellHeight:l})=>l===1))return e.lastRow;const i=t[0].cellHeight-1;return e.lastRow+i}function LD(c,e){const t=Array.from(new It(c,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(t.every(({cellWidth:l})=>l===1))return e.lastColumn;const i=t[0].cellWidth-1;return e.lastColumn+i}class zp extends nt{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,i=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],l=this.value,d=this.direction;e.change(p=>{const g=d=="right"||d=="down",b=g?i:l,w=g?l:i,y=w.parent;(function(R,U,W){jD(R)||(jD(U)&&W.remove(W.createRangeIn(U)),W.move(W.createRangeIn(R),W.createPositionAt(U,"end"))),W.remove(R)})(w,b,p);const A=this.isHorizontal?"colspan":"rowspan",E=parseInt(i.getAttribute(A)||"1"),D=parseInt(l.getAttribute(A)||"1");p.setAttribute(A,E+D,b),p.setSelection(p.createRangeIn(b));const M=this.editor.plugins.get("TableUtils");Ub(y.findAncestor("table"),M)})}_getMergeableCell(){const e=this.editor.model.document,t=this.editor.plugins.get("TableUtils"),i=t.getTableCellsContainingSelection(e.selection)[0];if(!i)return;const l=this.isHorizontal?function(g,b,w){const y=g.parent,A=y.parent,E=b=="right"?g.nextSibling:g.previousSibling,D=(A.getAttribute("headingColumns")||0)>0;if(!E)return;const M=b=="right"?g:E,R=b=="right"?E:g,{column:U}=w.getCellLocation(M),{column:W}=w.getCellLocation(R),J=parseInt(M.getAttribute("colspan")||"1"),ie=jb(w,M),ve=jb(w,R);if(!(D&&ie!=ve))return U+J===W?E:void 0}(i,this.direction,t):function(g,b,w){const y=g.parent,A=y.parent,E=A.getChildIndex(y);if(b=="down"&&E===w.getRows(A)-1||b=="up"&&E===0)return null;const D=parseInt(g.getAttribute("rowspan")||"1"),M=A.getAttribute("headingRows")||0,R=b=="down"&&E+D===M,U=b=="up"&&E===M;if(M&&(R||U))return null;const W=parseInt(g.getAttribute("rowspan")||"1"),J=b=="down"?E+W:E,ie=[...new It(A,{endRow:J})],ve=ie.find(at=>at.cell===g),Be=ve.column,Ct=ie.find(({row:at,cellHeight:rn,column:on})=>on===Be&&(b=="down"?at===J:J===at+rn));return Ct&&Ct.cell?Ct.cell:null}(i,this.direction,t);if(!l)return;const d=this.isHorizontal?"rowspan":"colspan",p=parseInt(i.getAttribute(d)||"1");return parseInt(l.getAttribute(d)||"1")===p?l:void 0}}function jD(c){const e=c.getChild(0);return c.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class y6 extends nt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),i=t[0];if(i){const l=i.findAncestor("table"),d=e.getRows(l)-1,p=e.getRowIndexes(t),g=p.first===0&&p.last===d;this.isEnabled=!g}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),i=t.getSelectionAffectedTableCells(e.document.selection),l=t.getRowIndexes(i),d=i[0],p=d.findAncestor("table"),g=t.getCellLocation(d).column;e.change(b=>{const w=l.last-l.first+1;t.removeRows(p,{at:l.first,rows:w});const y=function(A,E,D,M){const R=A.getChild(Math.min(E,M-1));let U=R.getChild(0),W=0;for(const J of R.getChildren()){if(W>D)return U;U=J,W+=parseInt(J.getAttribute("colspan")||"1")}return U}(p,l.first,g,t.getRows(p));b.setSelection(b.createPositionAt(y,0))})}}class _6 extends nt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),i=t[0];if(i){const l=i.findAncestor("table"),d=e.getColumns(l),{first:p,last:g}=e.getColumnIndexes(t);this.isEnabled=g-p<d-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,i]=function(b,w){const y=w.getSelectionAffectedTableCells(b),A=y[0],E=y.pop(),D=[A,E];return A.isBefore(E)?D:D.reverse()}(this.editor.model.document.selection,e),l=t.parent.parent,d=[...new It(l)],p={first:d.find(b=>b.cell===t).column,last:d.find(b=>b.cell===i).column},g=function(b,w,y,A){return parseInt(y.getAttribute("colspan")||"1")>1?y:w.previousSibling||y.nextSibling?y.nextSibling||w.previousSibling:A.first?b.reverse().find(({column:D})=>D<A.first).cell:b.reverse().find(({column:D})=>D>A.last).cell}(d,t,i,p);this.editor.model.change(b=>{const w=p.last-p.first+1;e.removeColumns(l,{at:p.first,columns:w}),b.setSelection(b.createPositionAt(g,0))})}}class C6 extends nt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,i=e.getSelectionAffectedTableCells(t.document.selection),l=i.length>0;this.isEnabled=l,this.value=l&&i.every(d=>this._isInHeading(d,d.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),i=this.editor.model,l=t.getSelectionAffectedTableCells(i.document.selection),d=l[0].findAncestor("table"),{first:p,last:g}=t.getRowIndexes(l),b=this.value?p:g+1,w=d.getAttribute("headingRows")||0;i.change(y=>{if(b){const A=MD(d,b,b>w?w:0);for(const{cell:E}of A)PD(E,b,y)}nn("headingRows",b,d,y,0)})}_isInHeading(e,t){const i=parseInt(t.getAttribute("headingRows")||"0");return!!i&&e.parent.index<i}}class A6 extends nt{refresh(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),i=t.getSelectionAffectedTableCells(e.document.selection),l=i.length>0;this.isEnabled=l,this.value=l&&i.every(d=>jb(t,d))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),i=this.editor.model,l=t.getSelectionAffectedTableCells(i.document.selection),d=l[0].findAncestor("table"),{first:p,last:g}=t.getColumnIndexes(l),b=this.value?p:g+1;i.change(w=>{if(b){const y=ND(d,b);for(const{cell:A,column:E}of y)OD(A,E,b,w)}nn("headingColumns",b,d,w,0)})}}function x6(c){if(c.is("element","tableColumnGroup"))return c;const e=c.getChildren();return Array.from(e).find(t=>t.is("element","tableColumnGroup"))}function E6(c){const e=x6(c);return e?Array.from(e.getChildren()):[]}class Yn extends pe{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,i=t.parent,l=i.getChildIndex(t),d=new It(i,{row:l});for(const{cell:p,row:g,column:b}of d)if(p===e)return{row:g,column:b}}createTable(e,t){const i=e.createElement("table"),l=t.rows||2,d=t.columns||2;return Vb(e,i,0,l,d),t.headingRows&&nn("headingRows",Math.min(t.headingRows,l),i,e,0),t.headingColumns&&nn("headingColumns",Math.min(t.headingColumns,d),i,e,0),i}insertRows(e,t={}){const i=this.editor.model,l=t.at||0,d=t.rows||1,p=t.copyStructureFromAbove!==void 0,g=t.copyStructureFromAbove?l-1:l,b=this.getRows(e),w=this.getColumns(e);if(l>b)throw new z("tableutils-insertrows-insert-out-of-range",this,{options:t});i.change(y=>{const A=e.getAttribute("headingRows")||0;if(A>l&&nn("headingRows",A+d,e,y,0),!p&&(l===0||l===b))return void Vb(y,e,l,d,w);const E=p?Math.max(l,g):l,D=new It(e,{endRow:E}),M=new Array(w).fill(1);for(const{row:R,column:U,cellHeight:W,cellWidth:J,cell:ie}of D){const ve=R+W-1,Be=R<=g&&g<=ve;R<l&&l<=ve?(y.setAttribute("rowspan",W+d,ie),M[U]=-J):p&&Be&&(M[U]=J)}for(let R=0;R<d;R++){const U=y.createElement("tableRow");y.insert(U,e,l);for(let W=0;W<M.length;W++){const J=M[W],ie=y.createPositionAt(U,"end");J>0&&fa(y,ie,J>1?{colspan:J}:void 0),W+=Math.abs(J)-1}}})}insertColumns(e,t={}){const i=this.editor.model,l=t.at||0,d=t.columns||1;i.change(p=>{const g=e.getAttribute("headingColumns");l<g&&p.setAttribute("headingColumns",g+d,e);const b=this.getColumns(e);if(l===0||b===l){for(const y of e.getChildren())y.is("element","tableRow")&&Rc(d,p,p.createPositionAt(y,l?"end":0));return}const w=new It(e,{column:l,includeAllSlots:!0});for(const y of w){const{row:A,cell:E,cellAnchorColumn:D,cellAnchorRow:M,cellWidth:R,cellHeight:U}=y;if(D<l){p.setAttribute("colspan",R+d,E);const W=M+U-1;for(let J=A;J<=W;J++)w.skipRow(J)}else Rc(d,p,y.getPositionBefore())}})}removeRows(e,t){const i=this.editor.model,l=t.rows||1,d=this.getRows(e),p=t.at,g=p+l-1;if(g>d-1)throw new z("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});i.change(b=>{const w={first:p,last:g},{cellsToMove:y,cellsToTrim:A}=function(E,{first:D,last:M}){const R=new Map,U=[];for(const{row:W,column:J,cellHeight:ie,cell:ve}of new It(E,{endRow:M})){const Be=W+ie-1;if(W>=D&&W<=M&&Be>M){const Ct=ie-(M-W+1);R.set(J,{cell:ve,rowspan:Ct})}if(W<D&&Be>=D){let Ct;Ct=Be>=M?M-D+1:Be-D+1,U.push({cell:ve,rowspan:ie-Ct})}}return{cellsToMove:R,cellsToTrim:U}}(e,w);y.size&&function(E,D,M,R){const U=new It(E,{includeAllSlots:!0,row:D}),W=[...U],J=E.getChild(D);let ie;for(const{column:ve,cell:Be,isAnchor:Ct}of W)if(M.has(ve)){const{cell:at,rowspan:rn}=M.get(ve),on=ie?R.createPositionAfter(ie):R.createPositionAt(J,0);R.move(R.createRangeOn(at),on),nn("rowspan",rn,at,R),ie=at}else Ct&&(ie=Be)}(e,g+1,y,b);for(let E=g;E>=p;E--)b.remove(e.getChild(E));for(const{rowspan:E,cell:D}of A)nn("rowspan",E,D,b);(function(E,{first:D,last:M},R){const U=E.getAttribute("headingRows")||0;D<U&&nn("headingRows",M<U?U-(M-D+1):D,E,R,0)})(e,w,b),zb(e,this)||Fb(e,this)})}removeColumns(e,t){const i=this.editor.model,l=t.at,d=t.columns||1,p=t.at+d-1;i.change(g=>{(function(w,y,A){const E=w.getAttribute("headingColumns")||0;if(E&&y.first<E){const D=Math.min(E-1,y.last)-y.first+1;A.setAttribute("headingColumns",E-D,w)}})(e,{first:l,last:p},g);const b=E6(e);for(let w=p;w>=l;w--){for(const{cell:y,column:A,cellWidth:E}of[...new It(e)])A<=w&&E>1&&A+E>w?nn("colspan",E-1,y,g):A===w&&g.remove(y);if(b[w]){const y=w===0?b[1]:b[w-1],A=parseFloat(b[w].getAttribute("columnWidth")),E=parseFloat(y.getAttribute("columnWidth"));g.remove(b[w]),g.setAttribute("columnWidth",A+E+"%",y)}}Fb(e,this)||zb(e,this)})}splitCellVertically(e,t=2){const i=this.editor.model,l=e.parent.parent,d=parseInt(e.getAttribute("rowspan")||"1"),p=parseInt(e.getAttribute("colspan")||"1");i.change(g=>{if(p>1){const{newCellsSpan:b,updatedSpan:w}=zD(p,t);nn("colspan",w,e,g);const y={};b>1&&(y.colspan=b),d>1&&(y.rowspan=d),Rc(p>t?t-1:p-1,g,g.createPositionAfter(e),y)}if(p<t){const b=t-p,w=[...new It(l)],{column:y}=w.find(({cell:M})=>M===e),A=w.filter(({cell:M,cellWidth:R,column:U})=>M!==e&&U===y||U<y&&U+R>y);for(const{cell:M,cellWidth:R}of A)g.setAttribute("colspan",R+b,M);const E={};d>1&&(E.rowspan=d),Rc(b,g,g.createPositionAfter(e),E);const D=l.getAttribute("headingColumns")||0;D>y&&nn("headingColumns",D+b,l,g)}})}splitCellHorizontally(e,t=2){const i=this.editor.model,l=e.parent,d=l.parent,p=d.getChildIndex(l),g=parseInt(e.getAttribute("rowspan")||"1"),b=parseInt(e.getAttribute("colspan")||"1");i.change(w=>{if(g>1){const y=[...new It(d,{startRow:p,endRow:p+g-1,includeAllSlots:!0})],{newCellsSpan:A,updatedSpan:E}=zD(g,t);nn("rowspan",E,e,w);const{column:D}=y.find(({cell:R})=>R===e),M={};A>1&&(M.rowspan=A),b>1&&(M.colspan=b);for(const R of y){const{column:U,row:W}=R;W>=p+E&&U===D&&(W+p+E)%A==0&&Rc(1,w,R.getPositionBefore(),M)}}if(g<t){const y=t-g,A=[...new It(d,{startRow:0,endRow:p})];for(const{cell:M,cellHeight:R,row:U}of A)if(M!==e&&U+R>p){const W=R+y;w.setAttribute("rowspan",W,M)}const E={};b>1&&(E.colspan=b),Vb(w,d,p+1,y,1,E);const D=d.getAttribute("headingRows")||0;D>p&&nn("headingRows",D+y,d,w)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((t,i)=>t+parseInt(i.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((t,i)=>i.is("element","tableRow")?t+1:t,0)}createTableWalker(e,t={}){return new It(e,t)}getSelectedTableCells(e){const t=[];for(const i of this.sortRanges(e.getRanges())){const l=i.getContainedElement();l&&l.is("element","tableCell")&&t.push(l)}return t}getTableCellsContainingSelection(e){const t=[];for(const i of e.getRanges()){const l=i.start.findAncestor("tableCell");l&&t.push(l)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map(i=>i.parent.index);return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),i=[...new It(t)].filter(l=>e.includes(l.cell)).map(l=>l.column);return this._getFirstLastIndexesObject(i)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,i=new Set;let l=0;for(const p of e){const{row:g,column:b}=this.getCellLocation(p),w=parseInt(p.getAttribute("rowspan"))||1,y=parseInt(p.getAttribute("colspan"))||1;t.add(g),i.add(b),w>1&&t.add(g+w-1),y>1&&i.add(b+y-1),l+=w*y}return function(p,g){const b=Array.from(p.values()),w=Array.from(g.values()),y=Math.max(...b),A=Math.min(...b),E=Math.max(...w),D=Math.min(...w);return(y-A+1)*(E-D+1)}(t,i)==l}sortRanges(e){return Array.from(e).sort(S6)}_getFirstLastIndexesObject(e){const t=e.sort((i,l)=>i-l);return{first:t[0],last:t[t.length-1]}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),i=this.getRowIndexes(e),l=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(i,l))return!1;const d=this.getColumnIndexes(e),p=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(d,p)}_areIndexesInSameSection({first:e,last:t},i){return e<i==t<i}}function Vb(c,e,t,i,l,d={}){for(let p=0;p<i;p++){const g=c.createElement("tableRow");c.insert(g,e,t),Rc(l,c,c.createPositionAt(g,"end"),d)}}function Rc(c,e,t,i={}){for(let l=0;l<c;l++)fa(e,t,i)}function zD(c,e){if(c<e)return{newCellsSpan:1,updatedSpan:1};const t=Math.floor(c/e);return{newCellsSpan:t,updatedSpan:c-t*e+t}}function S6(c,e){const t=c.start,i=e.start;return t.isBefore(i)?-1:1}class D6 extends nt{refresh(){const e=this.editor.plugins.get(Yn),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model,t=this.editor.plugins.get(Yn);e.change(i=>{const l=t.getSelectedTableCells(e.document.selection),d=l.shift(),{mergeWidth:p,mergeHeight:g}=function(b,w,y){let A=0,E=0;for(const W of w){const{row:J,column:ie}=y.getCellLocation(W);A=UD(W,ie,A,"colspan"),E=UD(W,J,E,"rowspan")}const{row:D,column:M}=y.getCellLocation(b),R=A-M,U=E-D;return{mergeWidth:R,mergeHeight:U}}(d,l,t);nn("colspan",p,d,i),nn("rowspan",g,d,i);for(const b of l)T6(b,d,i);Ub(d.findAncestor("table"),t),i.setSelection(d,"in")})}}function T6(c,e,t){FD(c)||(FD(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(c),t.createPositionAt(e,"end"))),t.remove(c)}function FD(c){const e=c.getChild(0);return c.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function UD(c,e,t,i){const l=parseInt(c.getAttribute(i)||"1");return Math.max(t,e+l)}class I6 extends nt{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),i=t.getSelectionAffectedTableCells(e.document.selection),l=t.getRowIndexes(i),d=i[0].findAncestor("table"),p=[];for(let g=l.first;g<=l.last;g++)for(const b of d.getChild(g).getChildren())p.push(e.createRangeOn(b));e.change(g=>{g.setSelection(p)})}}class M6 extends nt{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,i=e.getSelectionAffectedTableCells(t.document.selection),l=i[0],d=i.pop(),p=l.findAncestor("table"),g=e.getCellLocation(l),b=e.getCellLocation(d),w=Math.min(g.column,b.column),y=Math.max(g.column,b.column),A=[];for(const E of new It(p,{startColumn:w,endColumn:y}))A.push(t.createRangeOn(E.cell));t.change(E=>{E.setSelection(A)})}}function P6(c){c.document.registerPostFixer(e=>function(t,i){const l=i.document.differ.getChanges();let d=!1;const p=new Set;for(const g of l){let b=null;g.type=="insert"&&g.name=="table"&&(b=g.position.nodeAfter),g.type!="insert"&&g.type!="remove"||g.name!="tableRow"&&g.name!="tableCell"||(b=g.position.findAncestor("table")),B6(g)&&(b=g.range.start.findAncestor("table")),b&&!p.has(b)&&(d=N6(b,t)||d,d=O6(b,t)||d,p.add(b))}return d}(e,c))}function N6(c,e){let t=!1;const i=function(l){const d=parseInt(l.getAttribute("headingRows")||"0"),p=Array.from(l.getChildren()).reduce((b,w)=>w.is("element","tableRow")?b+1:b,0),g=[];for(const{row:b,cell:w,cellHeight:y}of new It(l)){if(y<2)continue;const A=b<d?d:p;if(b+y>A){const E=A-b;g.push({cell:w,rowspan:E})}}return g}(c);if(i.length){t=!0;for(const l of i)nn("rowspan",l.rowspan,l.cell,e,1)}return t}function O6(c,e){let t=!1;const i=function(g){const b=new Array(g.childCount).fill(0);for(const{rowIndex:w}of new It(g,{includeAllSlots:!0}))b[w]++;return b}(c),l=[];for(const[g,b]of i.entries())!b&&c.getChild(g).is("element","tableRow")&&l.push(g);if(l.length){t=!0;for(const g of l.reverse())e.remove(c.getChild(g)),i.splice(g,1)}const d=i.filter((g,b)=>c.getChild(b).is("element","tableRow")),p=d[0];if(!d.every(g=>g===p)){const g=d.reduce((b,w)=>w>b?w:b,0);for(const[b,w]of d.entries()){const y=g-w;if(y){for(let A=0;A<y;A++)fa(e,e.createPositionAt(c.getChild(b),"end"));t=!0}}}return t}function B6(c){if(c.type!=="attribute")return!1;const e=c.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function R6(c){c.document.registerPostFixer(e=>function(t,i){const l=i.document.differ.getChanges();let d=!1;for(const p of l)p.type=="insert"&&p.name=="table"&&(d=L6(p.position.nodeAfter,t)||d),p.type=="insert"&&p.name=="tableRow"&&(d=VD(p.position.nodeAfter,t)||d),p.type=="insert"&&p.name=="tableCell"&&(d=Hb(p.position.nodeAfter,t)||d),p.type!="remove"&&p.type!="insert"||!j6(p)||(d=Hb(p.position.parent,t)||d);return d}(e,c))}function L6(c,e){let t=!1;for(const i of c.getChildren())i.is("element","tableRow")&&(t=VD(i,e)||t);return t}function VD(c,e){let t=!1;for(const i of c.getChildren())t=Hb(i,e)||t;return t}function Hb(c,e){if(c.childCount==0)return e.insertElement("paragraph",c),!0;const t=Array.from(c.getChildren()).filter(i=>i.is("$text"));for(const i of t)e.wrap(e.createRangeOn(i),"paragraph");return!!t.length}function j6(c){return!!c.position.parent.is("element","tableCell")&&(c.type=="insert"&&c.name=="$text"||c.type=="remove")}function z6(c,e){if(!c.is("element","paragraph"))return!1;const t=e.toViewElement(c);return!!t&&ED(c)!==t.is("element","span")}var HD=a(3881),F6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(HD.Z,F6),HD.Z.locals;class U6 extends pe{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[Yn]}init(){const e=this.editor,t=e.model,i=t.schema,l=e.conversion,d=e.plugins.get(Yn);i.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),i.register("tableRow",{allowIn:"table",isLimit:!0}),i.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),l.for("upcast").add(p=>{p.on("element:figure",(g,b,w)=>{if(!w.consumable.test(b.viewItem,{name:!0,classes:"table"}))return;const y=function(E){for(const D of E.getChildren())if(D.is("element","table"))return D}(b.viewItem);if(!y||!w.consumable.test(y,{name:!0}))return;w.consumable.consume(b.viewItem,{name:!0,classes:"table"});const A=vn(w.convertItem(y,b.modelCursor).modelRange.getItems());A?(w.convertChildren(b.viewItem,w.writer.createPositionAt(A,"end")),w.updateConversionResult(A,b)):w.consumable.revert(b.viewItem,{name:!0,classes:"table"})})}),l.for("upcast").add(k6()),l.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:CD(d,{asWidget:!0,additionalSlots:this._additionalSlots})}),l.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:CD(d,{additionalSlots:this._additionalSlots})}),l.for("upcast").elementToElement({model:"tableRow",view:"tr"}),l.for("upcast").add(p=>{p.on("element:tr",(g,b)=>{b.viewItem.isEmpty&&b.modelCursor.index==0&&g.stop()},{priority:"high"})}),l.for("downcast").elementToElement({model:"tableRow",view:(p,{writer:g})=>p.isEmpty?g.createEmptyElement("tr"):g.createContainerElement("tr")}),l.for("upcast").elementToElement({model:"tableCell",view:"td"}),l.for("upcast").elementToElement({model:"tableCell",view:"th"}),l.for("upcast").add(_D("td")),l.for("upcast").add(_D("th")),l.for("editingDowncast").elementToElement({model:"tableCell",view:AD({asWidget:!0})}),l.for("dataDowncast").elementToElement({model:"tableCell",view:AD()}),l.for("editingDowncast").elementToElement({model:"paragraph",view:xD({asWidget:!0}),converterPriority:"high"}),l.for("dataDowncast").elementToElement({model:"paragraph",view:xD(),converterPriority:"high"}),l.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),l.for("upcast").attributeToAttribute({model:{key:"colspan",value:WD("colspan")},view:"colspan"}),l.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),l.for("upcast").attributeToAttribute({model:{key:"rowspan",value:WD("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new v6(e)),e.commands.add("insertTableRowAbove",new SD(e,{order:"above"})),e.commands.add("insertTableRowBelow",new SD(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new DD(e,{order:"left"})),e.commands.add("insertTableColumnRight",new DD(e,{order:"right"})),e.commands.add("removeTableRow",new y6(e)),e.commands.add("removeTableColumn",new _6(e)),e.commands.add("splitTableCellVertically",new TD(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new TD(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new D6(e)),e.commands.add("mergeTableCellRight",new zp(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new zp(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new zp(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new zp(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new A6(e)),e.commands.add("setTableRowHeader",new C6(e)),e.commands.add("selectTableRow",new I6(e)),e.commands.add("selectTableColumn",new M6(e)),P6(t),R6(t),this.listenTo(t.document,"change:data",()=>{(function(p,g){const b=p.document.differ;for(const w of b.getChanges()){let y,A=!1;if(w.type=="attribute"){const R=w.range.start.nodeAfter;if(!R||!R.is("element","table")||w.attributeKey!="headingRows"&&w.attributeKey!="headingColumns")continue;y=R,A=w.attributeKey=="headingRows"}else w.name!="tableRow"&&w.name!="tableCell"||(y=w.position.findAncestor("table"),A=w.name=="tableRow");if(!y)continue;const E=y.getAttribute("headingRows")||0,D=y.getAttribute("headingColumns")||0,M=new It(y);for(const R of M){const U=R.row<E||R.column<D?"th":"td",W=g.mapper.toViewElement(R.cell);W&&W.is("element")&&W.name!=U&&g.reconvertItem(A?R.cell.parent:R.cell)}}})(t,e.editing),function(p,g){const b=p.document.differ,w=new Set;for(const y of b.getChanges()){const A=y.type=="attribute"?y.range.start.parent:y.position.parent;A.is("element","tableCell")&&w.add(A)}for(const y of w.values()){const A=Array.from(y.getChildren()).filter(E=>z6(E,g.mapper));for(const E of A)g.reconvertItem(E)}}(t,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function WD(c){return e=>{const t=parseInt(e.getAttribute(c));return Number.isNaN(t)||t<=0?null:t}}var $D=a(1613),V6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()($D.Z,V6),$D.Z.locals;class H6 extends Ke{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new uo,this.focusTracker=new dr,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(i,l)=>`${l} × ${i}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to(i=>{i.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(i,l)=>{const{row:d,column:p}=l.target.dataset;this.items.get(10*(parseInt(d,10)-1)+(parseInt(p,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(i,l,d)=>{if(!d)return;const{row:p,column:g}=d.dataset;this.set({rows:parseInt(p),columns:parseInt(g)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:e,focusTracker:t,gridItems:i,numberOfColumns:l,uiLanguageDirection:d}){const p=typeof l=="number"?()=>l:l;function g(y){return A=>{const E=i.find(R=>R.element===t.focusedElement),D=i.getIndex(E),M=y(D,i);i.get(M).focus(),A.stopPropagation(),A.preventDefault()}}function b(y,A){return y===A-1?0:y+1}function w(y,A){return y===0?A-1:y-1}e.set("arrowright",g((y,A)=>d==="rtl"?w(y,A.length):b(y,A.length))),e.set("arrowleft",g((y,A)=>d==="rtl"?b(y,A.length):w(y,A.length))),e.set("arrowup",g((y,A)=>{let E=y-p();return E<0&&(E=y+p()*Math.floor(A.length/p()),E>A.length-1&&(E-=p())),E})),e.set("arrowdown",g((y,A)=>{let E=y+p();return E>A.length-1&&(E=y%p()),E}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((i,l)=>{const d=Math.floor(l/10)<e&&l%10<t;i.set("isOn",d)})}_createGridButton(e,t,i,l){const d=new zt(e);return d.set({label:l,class:"ck-insert-table-dropdown-grid-box"}),d.extendTemplate({attributes:{"data-row":t,"data-column":i}}),d}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const i=Math.floor(t/10),l=t%10,d=`${i+1} × ${l+1}`;e.push(this._createGridButton(this.locale,i+1,l+1,d))}return this.createCollection(e)}}class W6 extends pe{static get pluginName(){return"TableUI"}init(){const e=this.editor,t=this.editor.t,i=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",l=>{const d=e.commands.get("insertTable"),p=cs(l);let g;return p.bind("isEnabled").to(d),p.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:t("Insert table"),tooltip:!0}),p.on("change:isOpen",()=>{g||(g=new H6(l),p.panelView.children.add(g),g.delegate("execute").to(p),p.on("execute",()=>{e.execute("insertTable",{rows:g.rows,columns:g.columns}),e.editing.view.focus()}))}),p}),e.ui.componentFactory.add("tableColumn",l=>{const d=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:i?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:i?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',d,l)}),e.ui.componentFactory.add("tableRow",l=>{const d=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',d,l)}),e.ui.componentFactory.add("mergeTableCells",l=>{const d=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:i?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:i?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',d,l)})}_prepareDropdown(e,t,i,l){const d=this.editor,p=cs(l),g=this._fillDropdownWithListOptions(p,i);return p.buttonView.set({label:e,icon:t,tooltip:!0}),p.bind("isEnabled").toMany(g,"isEnabled",(...b)=>b.some(w=>w)),this.listenTo(p,"execute",b=>{d.execute(b.source.commandName),b.source instanceof Kh||d.editing.view.focus()}),p}_prepareMergeSplitButtonDropdown(e,t,i,l){const d=this.editor,p=cs(l,Zk),g="mergeTableCells",b=d.commands.get(g),w=this._fillDropdownWithListOptions(p,i);return p.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),p.bind("isEnabled").toMany([b,...w],"isEnabled",(...y)=>y.some(A=>A)),this.listenTo(p.buttonView,"execute",()=>{d.execute(g),d.editing.view.focus()}),this.listenTo(p,"execute",y=>{d.execute(y.source.commandName),d.editing.view.focus()}),p}_fillDropdownWithListOptions(e,t){const i=this.editor,l=[],d=new lo;for(const p of t)$6(p,i,l,d);return p1(e,d),l}}function $6(c,e,t,i){if(c.type==="button"||c.type==="switchbutton"){const l=c.model=new $1(c.model),{commandName:d,bindIsOn:p}=c.model,g=e.commands.get(d);t.push(g),l.set({commandName:d}),l.bind("isEnabled").to(g),p&&l.bind("isOn").to(g,"value"),l.set({withText:!0})}i.add(c)}var YD=a(6945),Y6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(YD.Z,Y6),YD.Z.locals;class ga extends pe{static get pluginName(){return"TableSelection"}static get requires(){return[Yn,Yn]}init(){const e=this.editor,t=e.model,i=e.editing.view;this.listenTo(t,"deleteContent",(l,d)=>this._handleDeleteContent(l,d),{priority:"high"}),this.listenTo(i.document,"insertText",(l,d)=>this._handleInsertTextEvent(l,d),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(Yn),t=this.editor.model.document.selection,i=e.getSelectedTableCells(t);return i.length==0?null:i}getSelectionAsFragment(){const e=this.editor.plugins.get(Yn),t=this.getSelectedTableCells();return t?this.editor.model.change(i=>{const l=i.createDocumentFragment(),{first:d,last:p}=e.getColumnIndexes(t),{first:g,last:b}=e.getRowIndexes(t),w=t[0].findAncestor("table");let y=b,A=p;if(e.isSelectionRectangular(t)){const D={firstColumn:d,lastColumn:p,firstRow:g,lastRow:b};y=RD(w,D),A=LD(w,D)}const E=ID(w,{startRow:g,startColumn:d,endRow:y,endColumn:A},i);return i.insert(E,l,0),l}):null}setCellSelection(e,t){const i=this._getCellsToSelect(e,t);this.editor.model.change(l=>{l.setSelection(i.cells.map(d=>l.createRangeOn(d)),{backward:i.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=vn(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(i=>i.on("selection",(l,d,p)=>{const g=p.writer;(function(y){for(const A of t)y.removeClass("ck-editor__editable_selected",A);t.clear()})(g);const b=this.getSelectedTableCells();if(!b)return;for(const y of b){const A=p.mapper.toViewElement(y);g.addClass("ck-editor__editable_selected",A),t.add(A)}const w=p.mapper.toViewElement(b[b.length-1]);g.setSelection(w,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change(i=>{const l=i.createPositionAt(t[0],0),d=e.model.schema.getNearestSelectionRange(l);i.setSelection(d)})}})}_handleDeleteContent(e,t){const i=this.editor.plugins.get(Yn),l=t[0],d=t[1],p=this.editor.model,g=!d||d.direction=="backward",b=i.getSelectedTableCells(l);b.length&&(e.stop(),p.change(w=>{const y=b[g?b.length-1:0];p.change(E=>{for(const D of b)p.deleteContent(E.createSelection(D,"in"))});const A=p.schema.getNearestSelectionRange(w.createPositionAt(y,0));l.is("documentSelection")?w.setSelection(A):l.setTo(A)}))}_handleInsertTextEvent(e,t){const i=this.editor,l=this.getSelectedTableCells();if(!l)return;const d=i.editing.view,p=i.editing.mapper,g=l.map(b=>d.createRangeOn(p.toViewElement(b)));t.selection=d.createSelection(g)}_getCellsToSelect(e,t){const i=this.editor.plugins.get("TableUtils"),l=i.getCellLocation(e),d=i.getCellLocation(t),p=Math.min(l.row,d.row),g=Math.max(l.row,d.row),b=Math.min(l.column,d.column),w=Math.max(l.column,d.column),y=new Array(g-p+1).fill(null).map(()=>[]),A={startRow:p,endRow:g,startColumn:b,endColumn:w};for(const{row:M,cell:R}of new It(e.findAncestor("table"),A))y[M-p].push(R);const E=d.row<l.row,D=d.column<l.column;return E&&y.reverse(),D&&y.forEach(M=>M.reverse()),{cells:y.flat(),backward:E||D}}}class q6 extends pe{static get pluginName(){return"TableClipboard"}static get requires(){return[ga,Yn]}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",(i,l)=>this._onCopyCut(i,l)),this.listenTo(t,"cut",(i,l)=>this._onCopyCut(i,l)),this.listenTo(e.model,"insertContent",(i,[l,d])=>this._onInsertContent(i,l,d),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const i=this.editor.plugins.get(ga);if(!i.getSelectedTableCells()||e.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;t.preventDefault(),e.stop();const l=this.editor.data,d=this.editor.editing.view.document,p=l.toView(i.getSelectionAsFragment());d.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:p,method:e.name})}_onInsertContent(e,t,i){if(i&&!i.is("documentSelection"))return;const l=this.editor.model,d=this.editor.plugins.get(Yn);let p=this.getTableIfOnlyTableInContent(t,l);if(!p)return;const g=d.getSelectionAffectedTableCells(l.document.selection);g.length?(e.stop(),l.change(b=>{const w={width:d.getColumns(p),height:d.getRows(p)},y=function(U,W,J,ie){const ve=U[0].findAncestor("table"),Be=ie.getColumnIndexes(U),Ct=ie.getRowIndexes(U),at={firstColumn:Be.first,lastColumn:Be.last,firstRow:Ct.first,lastRow:Ct.last},rn=U.length===1;return rn&&(at.lastRow+=W.height-1,at.lastColumn+=W.width-1,function(on,Lc,Qo,qr){const vi=qr.getColumns(on),yi=qr.getRows(on);Qo>vi&&qr.insertColumns(on,{at:vi,columns:Qo-vi}),Lc>yi&&qr.insertRows(on,{at:yi,rows:Lc-yi})}(ve,at.lastRow+1,at.lastColumn+1,ie)),rn||!ie.isSelectionRectangular(U)?function(on,Lc,Qo){const{firstRow:qr,lastRow:vi,firstColumn:yi,lastColumn:ka}=Lc,u2={first:qr,last:vi},d2={first:yi,last:ka};$b(on,yi,u2,Qo),$b(on,ka+1,u2,Qo),Wb(on,qr,d2,Qo),Wb(on,vi+1,d2,Qo,qr)}(ve,at,J):(at.lastRow=RD(ve,at),at.lastColumn=LD(ve,at)),at}(g,w,b,d),A=y.lastRow-y.firstRow+1,E=y.lastColumn-y.firstColumn+1,D={startRow:0,startColumn:0,endRow:Math.min(A,w.height)-1,endColumn:Math.min(E,w.width)-1};p=ID(p,D,b);const M=g[0].findAncestor("table"),R=this._replaceSelectedCellsWithPasted(p,w,M,y,b);if(this.editor.plugins.get("TableSelection").isEnabled){const U=d.sortRanges(R.map(W=>b.createRangeOn(W)));b.setSelection(U)}else b.setSelection(R[0],0)})):Ub(p,d)}_replaceSelectedCellsWithPasted(e,t,i,l,d){const{width:p,height:g}=t,b=function(U,W,J){const ie=new Array(J).fill(null).map(()=>new Array(W).fill(null));for(const{column:ve,row:Be,cell:Ct}of new It(U))ie[Be][ve]=Ct;return ie}(e,p,g),w=[...new It(i,{startRow:l.firstRow,endRow:l.lastRow,startColumn:l.firstColumn,endColumn:l.lastColumn,includeAllSlots:!0})],y=[];let A;for(const U of w){const{row:W,column:J}=U;J===l.firstColumn&&(A=U.getPositionBefore());const ie=W-l.firstRow,ve=J-l.firstColumn,Be=b[ie%g][ve%p],Ct=Be?d.cloneElement(Be):null,at=this._replaceTableSlotCell(U,Ct,A,d);at&&(BD(at,W,J,l.lastRow,l.lastColumn,d),y.push(at),A=d.createPositionAfter(at))}const E=parseInt(i.getAttribute("headingRows")||"0"),D=parseInt(i.getAttribute("headingColumns")||"0"),M=l.firstRow<E&&E<=l.lastRow,R=l.firstColumn<D&&D<=l.lastColumn;if(M){const U=Wb(i,E,{first:l.firstColumn,last:l.lastColumn},d,l.firstRow);y.push(...U)}if(R){const U=$b(i,D,{first:l.firstRow,last:l.lastRow},d);y.push(...U)}return y}_replaceTableSlotCell(e,t,i,l){const{cell:d,isAnchor:p}=e;return p&&l.remove(d),t?(l.insert(t,i),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const i=t.createRangeIn(e);for(const l of i.getItems())if(l.is("element","table")){const d=t.createRange(i.start,t.createPositionBefore(l));if(t.hasContent(d,{ignoreWhitespaces:!0}))return null;const p=t.createRange(t.createPositionAfter(l),i.end);return t.hasContent(p,{ignoreWhitespaces:!0})?null:l}return null}}function Wb(c,e,t,i,l=0){if(!(e<1))return MD(c,e,l).filter(({column:d,cellWidth:p})=>qD(d,p,t)).map(({cell:d})=>PD(d,e,i))}function $b(c,e,t,i){if(!(e<1))return ND(c,e).filter(({row:l,cellHeight:d})=>qD(l,d,t)).map(({cell:l,column:d})=>OD(l,d,e,i))}function qD(c,e,t){const i=c+e-1,{first:l,last:d}=t;return c>=l&&c<=d||c<l&&i>=l}class K6 extends pe{static get pluginName(){return"TableKeyboard"}static get requires(){return[ga,Yn]}init(){const e=this.editor.editing.view.document;this.listenTo(e,"arrowKey",(...t)=>this._onArrowKey(...t),{context:"table"}),this.listenTo(e,"tab",(...t)=>this._handleTabOnSelectedTable(...t),{context:"figure"}),this.listenTo(e,"tab",(...t)=>this._handleTab(...t),{context:["th","td"]})}_handleTabOnSelectedTable(e,t){const i=this.editor,l=i.model.document.selection.getSelectedElement();l&&l.is("element","table")&&(t.preventDefault(),t.stopPropagation(),e.stop(),i.model.change(d=>{d.setSelection(d.createRangeIn(l.getChild(0).getChild(0)))}))}_handleTab(e,t){const i=this.editor,l=this.editor.plugins.get(Yn),d=this.editor.plugins.get("TableSelection"),p=i.model.document.selection,g=!t.shiftKey;let b=l.getTableCellsContainingSelection(p)[0];if(b||(b=d.getFocusCell()),!b)return;t.preventDefault(),t.stopPropagation(),e.stop();const w=b.parent,y=w.parent,A=y.getChildIndex(w),E=w.getChildIndex(b),D=E===0;if(!g&&D&&A===0)return void i.model.change(W=>{W.setSelection(W.createRangeOn(y))});const M=E===w.childCount-1,R=A===l.getRows(y)-1;if(g&&R&&M&&(i.execute("insertTableRowBelow"),A===l.getRows(y)-1))return void i.model.change(W=>{W.setSelection(W.createRangeOn(y))});let U;if(g&&M)U=y.getChild(A+1).getChild(0);else if(!g&&D){const W=y.getChild(A-1);U=W.getChild(W.childCount-1)}else U=w.getChild(E+(g?1:-1));i.model.change(W=>{W.setSelection(W.createRangeIn(U))})}_onArrowKey(e,t){const i=this.editor,l=sk(t.keyCode,i.locale.contentLanguageDirection);this._handleArrowKeys(l,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const i=this.editor.plugins.get(Yn),l=this.editor.plugins.get("TableSelection"),d=this.editor.model,p=d.document.selection,g=["right","down"].includes(e),b=i.getSelectedTableCells(p);if(b.length){let y;return y=t?l.getFocusCell():g?b[b.length-1]:b[0],this._navigateFromCellInDirection(y,e,t),!0}const w=p.focus.findAncestor("tableCell");if(!w)return!1;if(!p.isCollapsed)if(t){if(p.isBackward==g&&!p.containsEntireContent(w))return!1}else{const y=p.getSelectedElement();if(!y||!d.schema.isObject(y))return!1}return!!this._isSelectionAtCellEdge(p,w,g)&&(this._navigateFromCellInDirection(w,e,t),!0)}_isSelectionAtCellEdge(e,t,i){const l=this.editor.model,d=this.editor.model.schema,p=i?e.getLastPosition():e.getFirstPosition();if(!d.getLimitElement(p).is("element","tableCell"))return l.createPositionAt(t,i?"end":0).isTouching(p);const g=l.createSelection(p);return l.modifySelection(g,{direction:i?"forward":"backward"}),p.isEqual(g.focus)}_navigateFromCellInDirection(e,t,i=!1){const l=this.editor.model,d=e.findAncestor("table"),p=[...new It(d,{includeAllSlots:!0})],{row:g,column:b}=p[p.length-1],w=p.find(({cell:R})=>R==e);let{row:y,column:A}=w;switch(t){case"left":A--;break;case"up":y--;break;case"right":A+=w.cellWidth;break;case"down":y+=w.cellHeight}if(y<0||y>g||A<0&&y<=0||A>b&&y>=g)return void l.change(R=>{R.setSelection(R.createRangeOn(d))});A<0?(A=i?0:b,y--):A>b&&(A=i?b:0,y++);const E=p.find(R=>R.row==y&&R.column==A).cell,D=["right","down"].includes(t),M=this.editor.plugins.get("TableSelection");if(i&&M.isEnabled){const R=M.getAnchorCell()||e;M.setCellSelection(R,E)}else{const R=l.createPositionAt(E,D?0:"end");l.change(U=>{U.setSelection(R)})}}}class G6 extends is{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class Q6 extends pe{static get pluginName(){return"TableMouse"}static get requires(){return[ga,Yn]}init(){this.editor.editing.view.addObserver(G6),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(Yn);let i=!1;const l=e.plugins.get(ga);this.listenTo(e.editing.view.document,"mousedown",(d,p)=>{const g=e.model.document.selection;if(!this.isEnabled||!l.isEnabled||!p.domEvent.shiftKey)return;const b=l.getAnchorCell()||t.getTableCellsContainingSelection(g)[0];if(!b)return;const w=this._getModelTableCellFromDomEvent(p);w&&KD(b,w)&&(i=!0,l.setCellSelection(b,w),p.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{i=!1}),this.listenTo(e.editing.view.document,"selectionChange",d=>{i&&d.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,i,l=!1,d=!1;const p=e.plugins.get(ga);this.listenTo(e.editing.view.document,"mousedown",(g,b)=>{this.isEnabled&&p.isEnabled&&(b.domEvent.shiftKey||b.domEvent.ctrlKey||b.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(b)))}),this.listenTo(e.editing.view.document,"mousemove",(g,b)=>{if(!b.domEvent.buttons||!t)return;const w=this._getModelTableCellFromDomEvent(b);w&&KD(t,w)&&(i=w,l||i==t||(l=!0)),l&&(d=!0,p.setCellSelection(t,i),b.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{l=!1,d=!1,t=null,i=null}),this.listenTo(e.editing.view.document,"selectionChange",g=>{d&&g.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target,i=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(i).parent.findAncestor("tableCell",{includeSelf:!0})}}function KD(c,e){return c.parent.parent==e.parent.parent}var GD=a(6306),Z6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(GD.Z,Z6),GD.Z.locals;function J6(c){const e=c.getSelectedElement();return e&&QD(e)?e:null}function X6(c){const e=c.getFirstPosition();if(!e)return null;let t=e.parent;for(;t;){if(t.is("element")&&QD(t))return t;t=t.parent}return null}function QD(c){return!!c.getCustomProperty("table")&&An(c)}var ZD=a(7368),eU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(ZD.Z,eU),ZD.Z.locals;var JD=a(9247),tU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(JD.Z,tU),JD.Z.locals;var XD=a(4070),nU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(XD.Z,nU),XD.Z.locals;var e2=a(6237),rU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(e2.Z,rU),e2.Z.locals;var t2=a(5087),oU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(t2.Z,oU),t2.Z.locals;const ma=fr.defaultPositions;ma.northArrowSouth,ma.northArrowSouthWest,ma.northArrowSouthEast,ma.southArrowNorth,ma.southArrowNorthWest,ma.southArrowNorthEast,ma.viewportStickyNorth;var n2=a(7341),iU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(n2.Z,iU),n2.Z.locals;var r2=a(2128),sU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(r2.Z,sU),r2.Z.locals;var o2=a(4101),aU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ye()(o2.Z,aU),o2.Z.locals;var cU=Object.defineProperty,i2=Object.getOwnPropertySymbols,lU=Object.prototype.hasOwnProperty,uU=Object.prototype.propertyIsEnumerable,s2=(c,e,t)=>e in c?cU(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,a2=(c,e)=>{for(var t in e||(e={}))lU.call(e,t)&&s2(c,t,e[t]);if(i2)for(var t of i2(e))uU.call(e,t)&&s2(c,t,e[t]);return c};const dU={autoRefresh:!0},c2=36e5;class Yb extends Ve(){constructor(e,t={}){if(super(),!e)throw new z("token-missing-token-url",this);t.initValue&&this._validateTokenValue(t.initValue),this.set("value",t.initValue),this._refresh=typeof e=="function"?e:()=>{return i=e,new Promise((l,d)=>{const p=new XMLHttpRequest;p.open("GET",i),p.addEventListener("load",()=>{const g=p.status,b=p.response;return g<200||g>299?d(new z("token-cannot-download-new-token",null)):l(b)}),p.addEventListener("error",()=>d(new Error("Network Error"))),p.addEventListener("abort",()=>d(new Error("Abort"))),p.send()});var i},this._options=a2(a2({},dU),t)}init(){return new Promise((e,t)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(t)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const t=typeof e=="string",i=!/^".*"$/.test(e),l=t&&e.split(".").length===3;if(!i||!l)throw new z("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:t}=JSON.parse(atob(e));return t?Math.floor((1e3*t-Date.now())/2):c2}catch{return c2}}static create(e,t={}){return new Yb(e,t).init()}}const qb=/^data:(\S*?);base64,/;class hU extends ge(){constructor(e,t,i){if(super(),!e)throw new z("fileuploader-missing-file",null);if(!t)throw new z("fileuploader-missing-token",null);if(!i)throw new z("fileuploader-missing-api-address",null);this.file=function(l){if(typeof l!="string")return!1;const d=l.match(qb);return!(!d||!d.length)}(e)?function(l,d=512){try{const p=l.match(qb)[1],g=atob(l.replace(qb,"")),b=[];for(let w=0;w<g.length;w+=d){const y=g.slice(w,w+d),A=new Array(y.length);for(let E=0;E<y.length;E++)A[E]=y.charCodeAt(E);b.push(new Uint8Array(A))}return new Blob(b,{type:p})}catch{throw new z("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=t,this._apiAddress=i}onProgress(e){return this.on("progress",(t,i)=>e(i)),this}onError(e){return this.once("error",(t,i)=>e(i)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,t=i=>()=>this.fire("error",i);e.addEventListener("error",t("Network Error")),e.addEventListener("abort",t("Abort")),e.upload&&e.upload.addEventListener("progress",i=>{i.lengthComputable&&this.fire("progress",{total:i.total,uploaded:i.loaded})}),e.addEventListener("load",()=>{const i=e.status,l=e.response;if(i<200||i>299)return this.fire("error",l.message||l.error)})}_sendRequest(){const e=new FormData,t=this.xhr;return e.append("file",this.file),new Promise((i,l)=>{t.addEventListener("load",()=>{const d=t.status,p=t.response;return d<200||d>299?p.message?l(new z("fileuploader-uploading-data-failed",this,{message:p.message})):l(p.error):i(p)}),t.addEventListener("error",()=>l(new Error("Network Error"))),t.addEventListener("abort",()=>l(new Error("Abort"))),t.send(e)})}}class pU{constructor(e,t){if(!e)throw new z("uploadgateway-missing-token",null);if(!t)throw new z("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=t}upload(e){return new hU(e,this._token,this._apiAddress)}}class fU extends Qh{static get pluginName(){return"CloudServicesCore"}createToken(e,t){return new Yb(e,t)}createUploadGateway(e,t){return new pU(e,t)}}var l2=(c,e,t)=>new Promise((i,l)=>{var d=b=>{try{g(t.next(b))}catch(w){l(w)}},p=b=>{try{g(t.throw(b))}catch(w){l(w)}},g=b=>b.done?i(b.value):Promise.resolve(b.value).then(d,p);g((t=t.apply(c,e)).next())});class Kb extends Cp{}Kb.builtinPlugins=[class extends pe{static get requires(){return[eE,Sp,lj,NL,xL,aE]}static get pluginName(){return"Essentials"}},class extends pe{static get requires(){return[bo]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const c=this.editor.config.get("ckfinder.uploadUrl");c&&(this.editor.plugins.get(bo).createUploadAdapter=e=>new Cj(e,c,this.editor.t))}},class extends pe{static get requires(){return[bi]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const c=this.editor.commands;c.get("bulletedList")&&ds(this.editor,this,/^[*-]\s$/,"bulletedList"),c.get("numberedList")&&ds(this.editor,this,/^1[.|)]\s$/,"numberedList"),c.get("todoList")&&ds(this.editor,this,/^\[\s?\]\s$/,"todoList"),c.get("checkTodoList")&&ds(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const c=this.editor.commands;if(c.get("bold")){const e=Pp(this.editor,"bold");Pc(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Pc(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(c.get("italic")){const e=Pp(this.editor,"italic");Pc(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Pc(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(c.get("code")){const e=Pp(this.editor,"code");Pc(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(c.get("strikethrough")){const e=Pp(this.editor,"strikethrough");Pc(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const c=this.editor.commands.get("heading");c&&c.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const t=e[7],i=new RegExp(`^(#{${t}})\\s$`);ds(this.editor,this,i,()=>{if(!c.isEnabled||c.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&ds(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const c=this.editor,e=c.model.document.selection;c.commands.get("codeBlock")&&ds(c,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&ds(this.editor,this,/^---$/,"horizontalLine")}},class extends pe{static get requires(){return[Aj,xj]}static get pluginName(){return"Bold"}},class extends pe{static get requires(){return[Sj,Dj]}static get pluginName(){return"Italic"}},class extends pe{static get requires(){return[Ij,Pj]}static get pluginName(){return"BlockQuote"}},class extends pe{static get pluginName(){return"CKBox"}static get requires(){return[yb,Nj]}},class extends pe{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",Wj,Vj]}},class extends Qh{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[fU]}init(){return l2(this,null,function*(){const c=this.context.config.get("cloudServices")||{};for(const[t,i]of Object.entries(c))this[t]=i;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(c){return l2(this,null,function*(){if(this._tokens.has(c))return this.getTokenFor(c);const e=this.context.plugins.get("CloudServicesCore"),t=yield e.createToken(c).init();return this._tokens.set(c,t),t})}getTokenFor(c){const e=this._tokens.get(c);if(!e)throw new z("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const c of this._tokens.values())c.destroy()}},class extends pe{static get pluginName(){return"EasyImage"}static get requires(){return[$j,"ImageUpload"]}init(){const c=this.editor;c.plugins.has("ImageBlockEditing")||c.plugins.has("ImageInlineEditing")||te("easy-image-image-feature-missing",c)}},class extends pe{static get requires(){return[Qj,Jj]}static get pluginName(){return"Heading"}},class extends pe{static get requires(){return[mz,bz]}static get pluginName(){return"Image"}},class extends pe{static get requires(){return[vz,yz]}static get pluginName(){return"ImageCaption"}},class extends pe{static get requires(){return[kS,Yz]}static get pluginName(){return"ImageStyle"}},class extends pe{static get requires(){return[Tp,$r]}static get pluginName(){return"ImageToolbar"}afterInit(){const c=this.editor,e=c.t,t=c.plugins.get(Tp),i=c.plugins.get("ImageUtils");var l;t.register("image",{ariaLabel:e("Image toolbar"),items:(l=c.config.get("image.toolbar")||[],l.map(d=>Ne(d)?d.name:d)),getRelatedElement:d=>i.getClosestSelectedImageWidget(d)})}},class extends pe{static get pluginName(){return"ImageUpload"}static get requires(){return[Bz,Az,Dz]}},class extends pe{static get pluginName(){return"Indent"}static get requires(){return[qz,Kz]}},class extends pe{static get requires(){return[wF,AF,EF]}static get pluginName(){return"Link"}},class extends pe{static get requires(){return[qF,OF]}static get pluginName(){return"List"}},class extends pe{static get requires(){return[jp,n6,XF,Ru]}static get pluginName(){return"MediaEmbed"}},_b,class extends pe{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Ko]}init(){const c=this.editor,e=c.plugins.get("ClipboardPipeline"),t=c.editing.view.document,i=[];i.push(new d6(t)),i.push(new p6(t)),i.push(new g6(t)),e.on("inputTransformation",(l,d)=>{if(d._isTransformedWithPasteFromOffice||c.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const p=d.dataTransfer.getData("text/html"),g=i.find(b=>b.isActive(p));g&&(d._parsedData||(d._parsedData=m6(p,t.stylesProcessor)),g.execute(d),d._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends pe{static get requires(){return[Ab,$r]}static get pluginName(){return"PictureEditing"}afterInit(){const c=this.editor;c.plugins.has("ImageBlockEditing")&&c.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),c.plugins.has("ImageInlineEditing")&&c.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const c=this.editor,e=c.conversion,t=c.plugins.get("ImageUtils");e.for("upcast").add(function(i){const l=["srcset","media","type","sizes"],d=(p,g,b)=>{const w=g.viewItem;if(!b.consumable.test(w,{name:!0}))return;const y=new Map;for(const D of w.getChildren())if(D.is("element","source")){const M={};for(const R of l)D.hasAttribute(R)&&b.consumable.test(D,{attributes:R})&&(M[R]=D.getAttribute(R));Object.keys(M).length&&y.set(D,M)}const A=i.findViewImgElement(w);if(!A)return;let E=g.modelCursor.parent;if(!E.is("element","imageBlock")){const D=b.convertItem(A,g.modelCursor);g.modelRange=D.modelRange,g.modelCursor=D.modelCursor,E=vn(D.modelRange.getItems())}b.consumable.consume(w,{name:!0});for(const[D,M]of y)b.consumable.consume(D,{attributes:Object.keys(M)});y.size&&b.writer.setAttribute("sources",Array.from(y.values()),E),b.convertChildren(w,E)};return p=>{p.on("element:picture",d)}}(t)),e.for("downcast").add(function(i){const l=(d,p,g)=>{if(!g.consumable.consume(p.item,d.name))return;const b=g.writer,w=g.mapper.toViewElement(p.item),y=i.findViewImgElement(w),A=p.attributeNewValue;if(A&&A.length){const E=b.createContainerElement("picture",null,A.map(R=>b.createEmptyElement("source",R))),D=[];let M=y.parent;for(;M&&M.is("attributeElement");){const R=M.parent;b.unwrap(b.createRangeOn(y),M),D.unshift(M),M=R}b.insert(b.createPositionBefore(y),E),b.move(b.createRangeOn(y),b.createPositionAt(E,"end"));for(const R of D)b.wrap(b.createRangeOn(E),R)}else if(y.parent.is("element","picture")){const E=y.parent;b.move(b.createRangeOn(y),b.createPositionBefore(E)),b.remove(E)}};return d=>{d.on("attribute:sources:imageBlock",l),d.on("attribute:sources:imageInline",l)}}(t))}_setupImageUploadEditingIntegration(){const c=this.editor;if(!c.plugins.has("ImageUploadEditing"))return;const e=c.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(t,{imageElement:i,data:l})=>{const d=l.sources;d&&c.model.change(p=>{p.setAttributes({sources:d},i)})})}},class extends pe{static get requires(){return[U6,W6,ga,Q6,K6,q6,Ru]}static get pluginName(){return"Table"}},class extends pe{static get requires(){return[Tp]}static get pluginName(){return"TableToolbar"}afterInit(){const c=this.editor,e=c.t,t=c.plugins.get(Tp),i=c.config.get("table.contentToolbar"),l=c.config.get("table.tableToolbar");i&&t.register("tableContent",{ariaLabel:e("Table toolbar"),items:i,getRelatedElement:X6}),l&&t.register("table",{ariaLabel:e("Table toolbar"),items:l,getRelatedElement:J6})}},class extends pe{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(c){super(c),c.config.define("typing",{transformations:{include:EL}})}init(){const c=this.editor.model.document.selection;c.on("change:range",()=>{this.isEnabled=!c.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const c=this.editor,e=c.model,t=c.plugins.get("Delete"),i=function(d){const p=d.extra||[],g=d.remove||[],b=w=>!g.includes(w);return function(w){const y=new Set;for(const A of w)if(typeof A=="string"&&Ex[A])for(const E of Ex[A])y.add(E);else y.add(A);return Array.from(y)}(d.include.concat(p).filter(b)).filter(b).map(w=>typeof w=="string"&&xx[w]?xx[w]:w).filter(w=>typeof w=="object").map(w=>({from:SL(w.from),to:DL(w.to)}))}(c.config.get("typing.transformations")),l=new Cx(c.model,d=>{for(const p of i)if(p.from.test(d))return{normalizedTransformation:p}});l.on("matched:data",(d,p)=>{if(!p.batch.isTyping)return;const{from:g,to:b}=p.normalizedTransformation,w=g.exec(p.text),y=b(w.slice(1)),A=p.range;let E=w.index;e.enqueueChange(D=>{for(let M=1;M<w.length;M++){const R=w[M],U=y[M-1];if(U==null){E+=R.length;continue}const W=A.start.getShiftedBy(E),J=e.createRange(W,W.getShiftedBy(R.length)),ie=TL(W);e.insertContent(D.createText(U,ie),J),E+=U.length}e.enqueueChange(()=>{t.requestUndoOnBackspace()})})}),l.bind("isEnabled").to(this)}}],Kb.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),u=u.default})())})(Rg,Rg.exports);var qX=Rg.exports;const KX=Ha(qX);function GX(){const[n]=Y9(),r=n.get("lat"),o=n.get("lng");return[r,o]}const QX="_form_1ksfi_1",ZX="_row_1ksfi_47",JX="_buttons_1ksfi_61",XX="_flag_1ksfi_71",eee="_loading_1ksfi_85",va={form:QX,row:ZX,buttons:JX,flag:XX,loading:eee};function tee(n){const r=n.toUpperCase().split("").map(o=>127397+o.charCodeAt());return String.fromCodePoint(...r)}const nee="https://api.bigdatacloud.net/data/reverse-geocode-client";function ree(){const[n,r]=GX(),{createCity:o,isLoading:s}=Jd(),a=Ol(),[u,h]=ee.useState(!1),[f,m]=ee.useState(""),[k,v]=ee.useState(""),[_,C]=ee.useState(new Date),[x,S]=ee.useState(""),[T,B]=ee.useState(""),[N,I]=ee.useState(""),{isReadOnly:L}=jy();ee.useEffect(function(){if(!n&&!r)return;async function K(){try{h(!0),I("");const Q=await(await fetch(`${nee}?latitude=${n}&longitude=${r}`)).json();if(!Q.countryCode)throw new Error("That doesn't seem to be a city. Click somewhere else 😉");m(Q.city||Q.locality||""),v(Q.countryName),B(tee(Q.countryCode))}catch(Z){I(Z.message)}finally{h(!1)}}K()},[n,r]);async function V(K){if(K.preventDefault(),!f||!_)return;L?cN.error("Demo only users cannot add a new location.",{style:{fontSize:"20px"}}):await o({cityName:f,country:k,emoji:T,date:_,notes:x,position:{lat:n,lng:r}}),a("/app/cities")}return u?he.jsx(eh,{}):!n&&!r?he.jsx(_g,{message:"Start by clicking somewhere on the map"}):N?he.jsx(_g,{message:N}):he.jsxs("form",{className:`${va.form} ${s?va.loading:""}`,onSubmit:V,children:[he.jsxs("div",{className:va.row,children:[he.jsx("label",{htmlFor:"cityName",children:"City name"}),he.jsx("input",{id:"cityName",onChange:K=>m(K.target.value),value:f}),he.jsx("span",{className:va.flag,children:T})]}),he.jsxs("div",{className:va.row,children:[he.jsxs("label",{htmlFor:"date",children:["When did you go to ",f,"?"]}),he.jsx($X,{id:"date",onChange:K=>C(K),selected:_,dateFormat:"dd/MM/yyyy"})]}),he.jsxs("div",{className:va.row,children:[he.jsxs("label",{htmlFor:"notes",children:["Notes about your trip to ",f]}),he.jsx(qK.CKEditor,{id:"notes",editor:KX,config:{toolbar:{items:["|","bold","italic","|","link"],shouldNotGroupWhenFull:!1}},data:x,onChange:(K,Z)=>{const Q=Z.getData();S(Q)}})]}),he.jsxs("div",{className:va.buttons,children:[he.jsx(fN,{type:"primary",children:"Add"}),he.jsx(gN,{})]})]})}const oee="_spinnerFullpage_q2n0d_1",iee={spinnerFullpage:oee};function see(){return he.jsx("div",{className:iee.spinnerFullpage,children:he.jsx(eh,{})})}const aee={aws_project_region:"us-west-2",aws_cognito_identity_pool_id:"us-west-2:49f51f43-6170-474f-93f1-928ee5db5be7",aws_cognito_region:"us-west-2",aws_user_pools_id:"us-west-2_RbjL1S9qH",aws_user_pools_web_client_id:"7on04n5n61eat0gvfgbtlvkc48",oauth:{},aws_cognito_username_attributes:["EMAIL"],aws_cognito_social_providers:[],aws_cognito_signup_attributes:["EMAIL","FAMILY_NAME","NAME","PICTURE"],aws_cognito_mfa_configuration:"OFF",aws_cognito_mfa_types:["SMS"],aws_cognito_password_protection_settings:{passwordPolicyMinLength:8,passwordPolicyCharacters:["REQUIRES_LOWERCASE","REQUIRES_NUMBERS","REQUIRES_UPPERCASE"]},aws_cognito_verification_mechanisms:["EMAIL"],aws_user_files_s3_bucket:"geonotes1aed35f17cbd4e51ac5b5ffceb95023d175918-dev",aws_user_files_s3_bucket_region:"us-west-2"};nm.configure(aee);const cee=ee.lazy(()=>Hi(()=>import("./Homepage-7bd91ddf.js"),["assets/Homepage-7bd91ddf.js","assets/PageNav-ee1252bb.js","assets/Title-cd181d36.js","assets/Title-80004fef.css","assets/PageNav-6d179077.css","assets/Homepage-b0bf28a1.css"])),lee=ee.lazy(()=>Hi(()=>import("./Product-57a5a312.js"),["assets/Product-57a5a312.js","assets/PageNav-ee1252bb.js","assets/Title-cd181d36.js","assets/Title-80004fef.css","assets/PageNav-6d179077.css","assets/Product.module-e3f440f7.js","assets/Product-a46b3d59.css"])),uee=ee.lazy(()=>Hi(()=>import("./Pricing-a1b6e294.js"),["assets/Pricing-a1b6e294.js","assets/PageNav-ee1252bb.js","assets/Title-cd181d36.js","assets/Title-80004fef.css","assets/PageNav-6d179077.css","assets/Product.module-e3f440f7.js","assets/Product-a46b3d59.css"])),dee=ee.lazy(()=>Hi(()=>import("./SignUp-aa05f0a2.js"),["assets/SignUp-aa05f0a2.js","assets/index-692d656f.js","assets/FormRow-77fab0c6.js","assets/FormRow-b9af4dc9.css","assets/PageNav-ee1252bb.js","assets/Title-cd181d36.js","assets/Title-80004fef.css","assets/PageNav-6d179077.css","assets/Storage-4dffca98.js"])),hee=ee.lazy(()=>Hi(()=>import("./Confirm-a54bb53f.js"),["assets/Confirm-a54bb53f.js","assets/FormRow-77fab0c6.js","assets/FormRow-b9af4dc9.css","assets/PageNav-ee1252bb.js","assets/Title-cd181d36.js","assets/Title-80004fef.css","assets/PageNav-6d179077.css"])),pee=ee.lazy(()=>Hi(()=>import("./Login-413d9c38.js"),["assets/Login-413d9c38.js","assets/PageNav-ee1252bb.js","assets/Title-cd181d36.js","assets/Title-80004fef.css","assets/PageNav-6d179077.css","assets/FormRow-77fab0c6.js","assets/FormRow-b9af4dc9.css"])),fee=ee.lazy(()=>Hi(()=>import("./AppLayout-7455874c.js"),["assets/AppLayout-7455874c.js","assets/Title-cd181d36.js","assets/Title-80004fef.css","assets/Storage-4dffca98.js","assets/AppLayout-6cfb0970.css"])),gee=ee.lazy(()=>Hi(()=>import("./PageNotFound-2ebd6ea7.js"),[])),mee=ee.lazy(()=>Hi(()=>import("./UpdateProfile-284f2bb3.js"),["assets/UpdateProfile-284f2bb3.js","assets/index-692d656f.js","assets/FormRow-77fab0c6.js","assets/FormRow-b9af4dc9.css","assets/PageNav-ee1252bb.js","assets/Title-cd181d36.js","assets/Title-80004fef.css","assets/PageNav-6d179077.css"]));function kee(){return he.jsx(Jq,{children:he.jsx(uV,{children:he.jsx(V9,{children:he.jsx(ee.Suspense,{fallback:he.jsx(see,{}),children:he.jsxs(B9,{children:[he.jsx(tr,{index:!0,element:he.jsx(cee,{})}),he.jsx(tr,{path:"product",element:he.jsx(lee,{})}),he.jsx(tr,{path:"pricing",element:he.jsx(uee,{})}),he.jsx(tr,{path:"signup",element:he.jsx(dee,{})}),he.jsx(tr,{path:"confirm",element:he.jsx(hee,{})}),he.jsx(tr,{path:"login",element:he.jsx(pee,{})}),he.jsx(tr,{path:"update-profile",element:he.jsx(mee,{})}),he.jsxs(tr,{path:"app",element:he.jsx(Xq,{children:he.jsx(fee,{})}),children:[he.jsx(tr,{index:!0,replace:!0,element:he.jsx(N9,{to:"cities"})}),he.jsx(tr,{path:"cities",element:he.jsx(fK,{})}),he.jsx(tr,{path:"cities/:id",element:he.jsx(YK,{})}),he.jsx(tr,{path:"countries",element:he.jsx(vK,{})}),he.jsx(tr,{path:"form",element:he.jsx(ree,{})})]}),he.jsx(tr,{path:"*",element:he.jsx(gee,{})})]})})})})})}$w.createRoot(document.getElementById("root")).render(he.jsx(re.StrictMode,{children:he.jsx(kee,{})}));export{s0 as A,fN as B,Mo as C,QP as D,HT as E,UP as F,FP as G,Si as H,qq as I,nm as J,Ha as K,SP as L,vee as N,wee as O,re as R,eh as S,XW as U,cN as _,Ka as a,jy as b,Jd as c,Xg as d,mU as e,GX as f,Na as g,HP as h,mW as i,he as j,tW as k,ZH as l,Ft as m,mt as n,kt as o,um as p,wH as q,ee as r,Kq as s,cW as t,Ol as u,rW as v,Ty as w,$H as x,GP as y,Vv as z};
