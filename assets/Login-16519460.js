import{r as a,b as g,c as j,u as v,j as s,S as y,B as S}from"./index-77fd11a1.js";import{P as w}from"./PageNav-8470dbec.js";import{s as p,F}from"./FormRow-dbfc7f85.js";import"./Title-b242f270.js";function P(){const[t,m]=a.useState(""),[i,u]=a.useState(""),[c,o]=a.useState(!1),{login:h,isAuthenticated:n,dispatch:r}=g(),{dispatch:d}=j(),l=v();function f(e){o(!0),e.preventDefault(),t&&i&&h(t,i),setTimeout(()=>o(!1),1500)}a.useEffect(function(){if(n){const e=t.split("@")[0];d({type:"db/load",payload:e}),e!=="demo"&&r({type:"user/approved"}),l("/app",{replace:!0})}},[n,l,r,d,t]);const x=[{htmlFor:"email",text:"Email Address",type:"email",id:"email",handleFn:m,value:t},{htmlFor:"password",text:"Password",type:"password",id:"password",handleFn:u,value:i}];return s.jsxs("main",{className:p.login,children:[s.jsx(w,{}),s.jsx("h1",{children:"Login"}),s.jsxs("form",{className:p.form,onSubmit:f,children:[x.map(e=>s.jsx(F,{...e},e.id)),s.jsx("div",{children:c?s.jsx(y,{}):s.jsx(S,{type:"primary",children:"Sign in"})})]})]})}export{P as default};
